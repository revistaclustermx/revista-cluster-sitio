;/*FB_PKG_DELIM*/

__d("CometFeedStoryActorPhotoStrategy_actorPhoto.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"is_business_page_active",storageKey:null},b=[{alias:null,args:null,kind:"ScalarField",name:"whatsapp_presence",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometFeedStoryActorPhotoStrategy_actorPhoto",selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedStoryMatchDebugger_iCometStorySection"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedStoryActorLink_story"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:null,kind:"FragmentSpread",name:"useActorStoryStatus_actor"},{args:[{kind:"Literal",name:"location",value:"feed"}],kind:"FragmentSpread",name:"useActorCometLiveRing_actor"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a],type:"Page",abstractKey:null},{args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],kind:"FragmentSpread",name:"FDSProfilePhotoForActor_actor"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_additional_profile_plus",storageKey:null},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"delegate_page",plural:!1,selections:[a],storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"link_type",storageKey:null}],type:"LinkOpenActionLink",abstractKey:null}],storageKey:null}],storageKey:null},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:b,storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"daspo_sto",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:b,storageKey:null}]}],storageKey:null},action:"THROW",path:"story"},{alias:null,args:null,kind:"ScalarField",name:"has_commerce_attachment",storageKey:null}],type:"CometFeedStoryActorPhotoStrategy",abstractKey:null}}();e.exports=a}),null);
__d("PageGreenDotImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("166");b=d("FalcoLoggerInternal").create("page_green_dot_impression",a);e=b;g["default"]=e}),98);
__d("CometFeedStoryMatchDebuggerDispatcherContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={};c={add:function(a){},remove:function(a){}};e=a.createContext(c);g["default"]=e}),98);
__d("useCometFeedStoryMatchDebugger_iCometStorySection.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometFeedStoryMatchDebugger_iCometStorySection",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"ICometStorySection",abstractKey:"__isICometStorySection"};e.exports=a}),null);
__d("useCometFeedStoryMatchDebugger",["CometFeedStoryMatchDebuggerDispatcherContext","CometRelay","react","react-compiler-runtime","useCometFeedStoryMatchDebugger_iCometStorySection.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useContext,k=e.useEffect;function a(a){var e=d("react-compiler-runtime").c(5);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometFeedStoryMatchDebugger_iCometStorySection.graphql"),a);var f=a.__typename,g=a.is_prod_eligible,i=j(c("CometFeedStoryMatchDebuggerDispatcherContext")),l;e[0]!==i||e[1]!==g||e[2]!==f?(a=function(){if(f!=null&&g===!1){i.add(f);return function(){i.remove(f)}}},l=[i,g,f],e[0]=i,e[1]=g,e[2]=f,e[3]=a,e[4]=l):(a=e[3],l=e[4]);k(a,l)}g["default"]=a}),98);
__d("CometFeedStoryActorPhotoStrategy.react",["CometFeedStoryActorLink.react","CometFeedStoryActorPhotoStrategy_actorPhoto.graphql","CometRelay","FDSProfilePhotoForActor.react","PageGreenDotImpressionFalcoEvent","emptyFunction","react","stylex","unrecoverableViolation","useActorCometLiveRing","useActorStoryStatus","useCometFeedStoryMatchDebugger","usePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useCallback,m={innerAuthorProfileContainer:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},profileContainer:{height:"x1vqgdyp",width:"x100vrsf",$$css:!0},profileWithStoryRingContainer:{height:"xc9qbxq",width:"x14qfxbe",$$css:!0},smallerProfileContainer:{height:"xc9qbxq",width:"x1td3qas",$$css:!0}},n=h!==void 0?h:h=b("CometFeedStoryActorPhotoStrategy_actorPhoto.graphql");function a(a){var b,e,f,g,h=a.actorPhoto;a=a.shouldUseSmallerPhoto;h=d("CometRelay").useFragment(n,h);c("useCometFeedStoryMatchDebugger")(h);var j=h.has_commerce_attachment;h=h.story;var o=h==null?void 0:(b=h.actors)==null?void 0:b[0];b=(o==null?void 0:o.__typename)==="InstagramUserV2";j=j!=null?j:!1;e=(e=h==null?void 0:h.sponsored_data)!=null?e:h==null?void 0:h.daspo_sto;e=e==null?void 0:e.whatsapp_presence;f=h==null?void 0:(f=h.attachments)==null?void 0:(f=f[0])==null?void 0:(f=f.action_links)==null?void 0:(f=f[0])==null?void 0:f.link_type;f=(f==="WHATSAPP_MESSAGE"||f==="WHATSAPP_LINK")&&e===!0;e=c("useActorCometLiveRing")(o,"newsfeed");var p=e.isLive,q=e.liveURL;e=e.passthroughProps;var r=function(){c("PageGreenDotImpressionFalcoEvent").log(function(){return{location:"comet_page_newsfeed_post",page_id:o==null?void 0:o.id,show_green_dot:(o==null?void 0:o.is_business_page_active)===!0?"true":"false"}})};r=c("usePartialViewImpression")({onImpressionStart:l(r,[o==null?void 0:o.id,o==null?void 0:o.is_business_page_active])});var s=c("useActorStoryStatus")(o);if(o==null)throw c("unrecoverableViolation")("actor cannot be nullish in CometFeedStoryActorPhotoStrategy","comet_feed");a=a===!0;var t;!p&&(o.is_business_page_active===!0||o.is_additional_profile_plus===!0&&((g=o.delegate_page)==null?void 0:g.is_business_page_active)===!0||f)&&(t={type:"availabilityBadge"});g=m.profileContainer;f=40;a&&(s.status!=="none"?(g=m.profileWithStoryRingContainer,f=36):(g=m.smallerProfileContainer,f=32));s=!1;(o.__typename==="GroupAnonAuthorProfile"||j)&&(s=!0);return k.jsx(c("CometFeedStoryActorLink.react"),{"aria-hidden":!0,shouldRenderActorLink:!1,story:h,children:k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(g,a&&m.innerAuthorProfileContainer),{"data-testid":void 0,ref:p?c("emptyFunction"):r,children:k.jsx(c("FDSProfilePhotoForActor.react"),{actor:o,addOn:t,entrypoint:"news_feed",hoverCardType:b?"none":"onHover",linkProps:p?{passthroughProps:e,url:q}:void 0,noLink:s?!0:void 0,shape:"circle",showLiveRing:p,size:f})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryActorPhotoStrategy_actorPhoto$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},d={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[b,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null},e={alias:null,args:[{kind:"Literal",name:"location",value:"feed"}],concreteType:"Video",kind:"LinkedField",name:"live_video_for_comet_live_ring",plural:!1,selections:[b],storageKey:'live_video_for_comet_live_ring(location:"feed")'},f={alias:null,args:null,kind:"ScalarField",name:"is_business_page_active",storageKey:null},g=[{alias:null,args:null,kind:"ScalarField",name:"whatsapp_presence",storageKey:null}];return{kind:"SplitOperation",metadata:{},name:"CometFeedStoryActorPhotoStrategy_actorPhoto$normalization",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[a,{kind:"TypeDiscriminator",abstractKey:"__isActor"},b,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[c,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[c,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pages_story_bucket_v2",plural:!1,selections:[a,b,d],storageKey:null},e,f],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_close_friend_badge",storageKey:null},b,d],storageKey:null}],storageKey:"story_bucket(first:1)"},e,{alias:null,args:null,kind:"ScalarField",name:"is_additional_profile_plus",storageKey:null},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"delegate_page",plural:!1,selections:[f,b],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"2rhVpW"}],concreteType:null,kind:"LinkedField",name:"action_link",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupSellerActor_actionLink",fragmentPropName:"actionLink",kind:"ModuleImport"}],type:"GroupSellerProfileActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupMemberActor_groupMemberProfileActionLink",fragmentPropName:"groupMemberProfileActionLink",kind:"ModuleImport"}],type:"GroupMemberProfileActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupAnonProfileActor_actionLink",fragmentPropName:"actionLink",kind:"ModuleImport"}],type:"GroupMemberAnonProfileActionLink",abstractKey:null}],storageKey:'action_link(supported:"2rhVpW")'}],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"link_type",storageKey:null}],type:"LinkOpenActionLink",abstractKey:null}],storageKey:null}],storageKey:null},b,{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:g,storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"daspo_sto",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:g,storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_commerce_attachment",storageKey:null},{kind:"InlineFragment",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"ICometStorySection",abstractKey:"__isICometStorySection"}]}}();e.exports=a}),null);
__d("CometFocusedStoryDialogLauncherContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={current:new Set()};c=a.createContext({onDialogCloseHandlers:b,onDialogOpenHandlers:b});g["default"]=c}),98);
__d("CometFocusedStoryViewUFIQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24490698270514748"}),null);
__d("CometGenericCommentDisableNotice_commentDisableNotice.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometGenericCommentDisableNotice_commentDisableNotice",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"notice_message",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null}],type:"GeneralCommentDisableNotice",abstractKey:null};e.exports=a}),null);
__d("CometGenericCommentDisableNotice.react",["CometGenericCommentDisableNotice_commentDisableNotice.graphql","CometRelay","CometTextWithEntitiesRelay.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(4),f=a.commentDisableNotice,g=a.renderers;a=a.transforms;f=d("CometRelay").useFragment(h!==void 0?h:h=b("CometGenericCommentDisableNotice_commentDisableNotice.graphql"),f);f=f.notice_message;if(f==null)return null;var i;e[0]!==f||e[1]!==g||e[2]!==a?(i=j.jsx(c("CometTextWithEntitiesRelay.react"),{renderers:g,textWithEntities:f,transforms:a}),e[0]=f,e[1]=g,e[2]=a,e[3]=i):i=e[3];return i}g["default"]=a}),98);
__d("CometGenericCommentDisableNotice_commentDisableNotice$normalization.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"CometGenericCommentDisableNotice_commentDisableNotice$normalization",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"notice_message",plural:!1,selections:[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],storageKey:null}]};e.exports=a}),null);
__d("CometUFICommentsPagerBase.react",["BaseFocusRing.react","CometPressable.react","CometTrackingNodeProvider.react","FDSIcon.react","FDSProgressRingIndeterminate.react","FDSText.react","XPlatReactFocusRegion.react","focusScopeQueries","react","react-compiler-runtime","react-strict-dom","useRadicalUFIClickInteractionLogging"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l={fresh:{backgroundColor:"xwnonoy",bottom:"x1ey2m1c",insetInlineStart:"x1o0tod",left:null,right:null,opacity:"xg01cxk",position:"x10l6tqk",top:"x13vifvy",transitionDuration:"x1k90msu",transitionProperty:"x19991ni",transitionTimingFunction:"xz4gly6",width:"xfo62xy",$$css:!0},freshDepth0:{insetInlineStart:"xb1342z",left:null,right:null,$$css:!0},freshDepth1:{insetInlineStart:"x1pia40t",left:null,right:null,$$css:!0},freshDepth2:{insetInlineStart:"x1ppa808",left:null,right:null,$$css:!0},freshVisible:{opacity:"x1hc1fzr",$$css:!0},icon:{display:"x78zum5",filter:"xsv2lzm",marginInlineEnd:"xbelrpt",marginInlineStart:"x1diwwjn",$$css:!0},item:{display:"x78zum5",marginInlineEnd:"xbelrpt",minWidth:"xeuugli",$$css:!0},pagerBasePressable:{alignItems:"x6s0dn4",color:"xi81zsa",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",paddingInlineEnd:"x1icxu4v",$$css:!0},pagerWhileLoading:{cursor:"xky4qsq",$$css:!0},replyPagerWithoutIcon:{marginInlineStart:"xdzw4kq",$$css:!0},root:{display:"x78zum5",flexGrow:"x1iyjqo2",minHeight:"x21xpn4",position:"x1n2onr6",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.children,f=a.depth,g=a.feedLocation,h=a.freshIndicatorVisible,m=a.icon,n=a.isFreshIndicatorAlignedAtStart,o=a.isLoading,p=a.onHoverIn,q=a.onHoverOut;a=a.onPress;var r=n===void 0?!0:n;b[0]!==g?(n={clickInteractionSource:"pager",feedLocation:g},b[0]=g,b[1]=n):n=b[1];var s=c("useRadicalUFIClickInteractionLogging")(a,n);g=k(!1);var t=g[0],u=g[1];b[2]!==o||b[3]!==t?(a=function(){o===!1&&t===!0&&u(!1)},n=[o,t],b[2]=o,b[3]=t,b[4]=a,b[5]=n):(a=b[4],n=b[5]);j(a,n);b[6]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx(d("react-strict-dom").html.div,{style:l.item,children:i.jsx(c("FDSProgressRingIndeterminate.react"),{color:"disabled_DEPRECATED",size:16})}),b[6]=g):g=b[6];var v=g;b[7]!==e||b[8]!==f||b[9]!==h||b[10]!==m||b[11]!==r||b[12]!==o||b[13]!==p||b[14]!==q||b[15]!==s||b[16]!==t?(a=i.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:24,children:i.jsx(c("BaseFocusRing.react"),{children:function(a){return i.jsxs(d("react-strict-dom").html.div,{style:l.root,children:[i.jsx(d("react-strict-dom").html.div,{style:[l.fresh,f===0&&l.freshDepth0,f===1&&r&&l.freshDepth1,f===2&&r&&l.freshDepth2,h&&l.freshVisible]}),i.jsxs(c("CometPressable.react"),{disabled:o,onHoverIn:p,onHoverOut:q,onPress:function(a){s(a),u(!0)},overlayDisabled:!0,testid:void 0,xstyle:[a,l.pagerBasePressable,o&&l.pagerWhileLoading,f>0&&l.replyPagerWithoutIcon],children:[m!=null?i.jsx(d("react-strict-dom").html.span,{style:l.icon,children:i.jsx(c("FDSIcon.react"),{color:"secondary",icon:m,size:16})},"icon"):null,i.jsx(d("react-strict-dom").html.span,{style:l.item,children:i.jsx(c("FDSText.react"),{color:"secondary",type:"bodyLink3",children:e})},"text"),o&&(t?i.jsx(c("XPlatReactFocusRegion.react"),{autoFocusQuery:d("focusScopeQueries").headerAndSpinnerFocusScopeQuery,children:v}):v)]})]})}})}),b[7]=e,b[8]=f,b[9]=h,b[10]=m,b[11]=r,b[12]=o,b[13]=p,b[14]=q,b[15]=s,b[16]=t,b[17]=a):a=b[17];return a}g["default"]=a}),98);
__d("CometUFIComposerActionButton.react",["FDSIcon.react","FDSTooltip.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(17),e,f,g,h,j,k;b[0]!==a?(j=a.color,k=a.disabled,e=a.icon,f=a.label,h=a.ref,g=babelHelpers.objectWithoutPropertiesLoose(a,["color","disabled","icon","label","ref"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],k=b[6]);a=j===void 0?"secondary":j;j=k===void 0?!1:k;b[7]!==a||b[8]!==j||b[9]!==e||b[10]!==f||b[11]!==g||b[12]!==h?(k=i.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},g,{"aria-label":f,color:a,disabled:j,icon:e,ref:h})),b[7]=a,b[8]=j,b[9]=e,b[10]=f,b[11]=g,b[12]=h,b[13]=k):k=b[13];b[14]!==f||b[15]!==k?(a=i.jsx(c("FDSTooltip.react"),{position:"above",tooltip:f,children:k}),b[14]=f,b[15]=k,b[16]=a):a=b[16];return a}g["default"]=a}),98);
__d("useDeferredModuleOnReady",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(b){var c=d("react-compiler-runtime").c(6),e;c[0]!==b?(e=function(){return b.getModuleIfRequireable()},c[0]=b,c[1]=e):e=c[1];e=j(e);var a=e[0],g=e[1],h;c[2]!==b||c[3]!==a?(e=function(){if(a!=null)return;var c=b.onReady(function(a){g(function(){return a})});return function(){c.remove()}},h=[b,a],c[2]=b,c[3]=a,c[4]=e,c[5]=h):(e=c[4],h=c[5]);i(e,h);return a}g["default"]=a}),98);
__d("CometUFIComposerEmojiPluginInner.react",["CometLexicalEmojiNode","react","react-compiler-runtime","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=c("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("CometUFIComposerEmojiPluginInner.react");function a(a){var b=d("react-compiler-runtime").c(4);a=a.pluginProps;var e=a.editor,f=c("useDeferredModuleOnReady")(j),g;b[0]!==e||b[1]!==f?(a=function(){if(f!=null)return f(e,d("CometLexicalEmojiNode").UFI_EMOJI_SIZE)},g=[e,f],b[0]=e,b[1]=f,b[2]=a,b[3]=g):(a=b[2],g=b[3]);i(a,g);return null}g["default"]=a}),98);
__d("CometUFIComposerPluginsContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({isComposerFocused:!1,openPopoverCount:0,openPopoverCountChange:function(){},setComposerFocusState:function(){}});g["default"]=b}),98);
__d("CometUFIComposerPrefillMentionPluginUtils",["CometLexicalGenericEntityNode","FBLogger","Lexical","LexicalText"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=d("LexicalText").$rootTextContent();a=d("LexicalText").$isRootTextContentEmpty(a.isComposing());var f=!1;d("Lexical").$getRoot().getAllTextNodes().forEach(function(a){d("CometLexicalGenericEntityNode").$isCometLexicalGenericEntityNode(a)&&a.getTextContent()===e.trim()&&(f=!0)});if(!a&&!f)return;a=d("Lexical").$getRoot();var g=a.getFirstChild();if(d("Lexical").$isElementNode(g))g.clear();else if(g===null)g=d("Lexical").$createParagraphNode(),a.append(g);else{c("FBLogger")("UFILexicalComposer").mustfix("Prefill mentions plugin found a non-block first node. This should not happen.");return}a=h(b.getType());a=d("CometLexicalGenericEntityNode").$createCometLexicalGenericEntityNode({id:b.getUniqueID(),text:b.getTitle(),type:a,uri:b.getURI()});g.append(a);b=new(d("Lexical").TextNode)(" ");a.insertAfter(b);b.select()}function h(a){switch(a){case"Actor":case"Application":case"CMSObject":case"Doc":case"Event":case"FundraiserPersonForPerson":case"FundraiserPersonToCharity":case"GeneralGroupContextualProfile":case"Group":case"GroupAnonAuthorProfile":case"GroupCommerceProductItem":case"GroupRule":case"InstantArticle":case"KnowledgeNote":case"Menu":case"Note":case"Page":case"Photo":case"ProductItem":case"ReducedMessagingActor":case"Story":case"User":case"Video":case"VideoList":case"WorkKnowledgeCollection":return a;default:c("FBLogger")("UFILexicalPlugin").mustfix("PrefillMention unexpected command entity type %s",a);return"Actor"}}g.$addMentionIfEditorIsEmptyAndDoesNotHaveMention=a}),98);
__d("CometUFIConversationGuideContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({addGiphyStickerToComposer:function(){},addStickerToComposer:function(){},getIsComposerEmpty:function(){return!1},onComposerEmptyStateChange:function(){},setAddGiphyStickerToComposer:function(){},setAddStickerToComposer:function(){},setGetIsComposerEmpty:function(){},setOnComposerEmptyStateChange:function(){},setWriteToComposer:function(){},unsetAddGiphyStickerToComposer:function(){},unsetAddStickerToComposer:function(){},unsetOnComposerEmptyStateChange:function(){},unsetWriteToComposer:function(){},writeToComposer:function(){}});g["default"]=b}),98);
__d("CometUFIEmoticonsComposerPluginInner.react",["react","react-compiler-runtime","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=c("requireDeferred")("getUpgradedCometUFIEmoticonsComposerHandler").__setRef("CometUFIEmoticonsComposerPluginInner.react");function a(a){var b=d("react-compiler-runtime").c(4);a=a.pluginProps;var e=a.editor,f=c("useDeferredModuleOnReady")(j),g;b[0]!==e||b[1]!==f?(a=function(){if(f!=null)return f(e)},g=[e,f],b[0]=e,b[1]=f,b[2]=a,b[3]=g):(a=b[2],g=b[3]);i(a,g);return null}g["default"]=a}),98);
__d("CometUFIHashtagComposerPluginInner.react",["react","react-compiler-runtime","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=c("requireDeferred")("getUpgradedCometHashtagComposerHandler").__setRef("CometUFIHashtagComposerPluginInner.react");function a(a){var b=d("react-compiler-runtime").c(4);a=a.pluginProps;var e=a.editor,f=c("useDeferredModuleOnReady")(j),g;b[0]!==e||b[1]!==f?(a=function(){if(f!=null)return f(e)},g=[e,f],b[0]=e,b[1]=f,b[2]=a,b[3]=g):(a=b[2],g=b[3]);i(a,g);return null}g["default"]=a}),98);
__d("CometUFILazyPopoverComposerAction.react",["CometUFIComposerActionButton.react","CometUFIComposerPluginsContext","FDSLazyPopoverTrigger.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useContext,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(14),e=a.fallback,f=a.icon,g=a.label,h=a.popoverProps,l=a.popoverResource,m=a.position;a=a.tracePolicy;m=m===void 0?"above":m;var n=k(!1),o=n[0],p=n[1];n=j(c("CometUFIComposerPluginsContext"));var q=n.openPopoverCountChange;b[0]!==q?(n=function(a){p(a),q(a)},b[0]=q,b[1]=n):n=b[1];n=n;var r;b[2]!==f||b[3]!==g||b[4]!==o?(r=function(a,b,d,e,h,j,k,l){return i.jsx(c("CometUFIComposerActionButton.react"),{"aria-expanded":l,color:o?"highlight":void 0,icon:f,label:g,onHoverIn:e,onHoverOut:h,onPress:b,onPressIn:j,ref:a})},b[2]=f,b[3]=g,b[4]=o,b[5]=r):r=b[5];var s;b[6]!==e||b[7]!==n||b[8]!==h||b[9]!==l||b[10]!==m||b[11]!==r||b[12]!==a?(s=i.jsx(c("FDSLazyPopoverTrigger.react"),{align:"end",fallback:e,onVisibilityChange:n,popoverProps:h,popoverResource:l,position:m,preloadTrigger:"button",tracePolicy:a,children:r}),b[6]=e,b[7]=n,b[8]=h,b[9]=l,b[10]=m,b[11]=r,b[12]=a,b[13]=s):s=b[13];return s}g["default"]=a}),98);
__d("FDSEmojiOutline16Icon",["cr:14882"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14882")}),98);
__d("CometUFIInsertEmojiComposerActionForLexical.react",["fbt","CometUFILazyPopoverComposerAction.react","FDSEmojiOutline16Icon","FDSPopoverLoadingState.react","JSResourceForInteraction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useMemo;var k=c("JSResourceForInteraction")("CometUFIEmojiPickerPopoverForLexical.react").__setRef("CometUFIInsertEmojiComposerActionForLexical.react"),l={popoverFallback:{minHeight:"x1or5b8i",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(6);a=a.pluginProps;var e;b[0]!==a?(e={pluginProps:a},b[0]=a,b[1]=e):e=b[1];a=e;e=a;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("FDSPopoverLoadingState.react"),{withArrow:!0,xstyle:l.popoverFallback}),b[2]=a):a=b[2];var f;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Insert an emoji"),b[3]=f):f=b[3];b[4]!==e?(a=j.jsx(c("CometUFILazyPopoverComposerAction.react"),{fallback:a,icon:c("FDSEmojiOutline16Icon"),label:f,popoverProps:e,popoverResource:k}),b[4]=e,b[5]=a):a=b[5];return a}g["default"]=a}),226);
__d("CometUFIPagerLabelType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({VIEW_ALL:"view_all",VIEW_COMMENTS_INDETERMINATE:"view_comments_indeterminate",VIEW_MORE:"view_more",VIEW_MORE_EXPLICIT:"view_more_explicit",VIEW_ONE:"view_one",VIEW_ONE_MORE:"view_one_more",VIEW_PREVIOUS:"view_previous",VIEW_PREVIOUS_EXPLICIT:"view_previous_explicit"});c=a;f["default"]=c}),66);
__d("CometUFIThreadedComponentDecorator.react",["XPlatReactEnvironment","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={childLineReply:{height:"xvo3xdp",insetInlineStart:"x15vpgiq",left:null,right:null,top:"x9ri80z",$$css:!0},childLineReplyNative:{boxSizing:"x9f619",height:"x5yr21d",insetInlineStart:"x15vpgiq",left:null,right:null,paddingBottom:"x1t1ogtf",position:"x10l6tqk",top:"x9ri80z",width:"xfo62xy",$$css:!0},childLineTopLevel:{height:"xv6pb6r",insetInlineStart:"x1pe450p",left:null,right:null,top:"xg4rxxw",$$css:!0},childLineTopLevelNative:{boxSizing:"x9f619",height:"x5yr21d",insetInlineStart:"x1pe450p",left:null,right:null,paddingBottom:"x2p4029",position:"x10l6tqk",top:"xg4rxxw",width:"xfo62xy",$$css:!0},composerRoot:{marginTop:"x9otpla",marginBottom:"x1wsgfga",marginInlineStart:"x1qfufaz",$$css:!0},curvedLine:{borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xlxy82",borderTopColor:"xfo3rzh",borderInlineEndColor:"x1n2bmbs",borderBottomColor:"x7pr0uv",borderInlineStartColor:"xfm49vd",borderEndStartRadius:"x1pv694p",borderInlineStartStyle:"x1t7ytsu",borderInlineStartWidth:"xyumdvf",position:"x10l6tqk",$$css:!0},curvedLineDepth1:{insetInlineStart:"x1pe450p",left:null,right:null,width:"xvy4d1p",$$css:!0},curvedLineDepth2:{insetInlineStart:"x15vpgiq",left:null,right:null,width:"x17z2i9w",$$css:!0},curvedLineForComment:{height:"x1ta3ar0",$$css:!0},curvedLineForCommentDepth1:{height:"x1qx5ct2",$$css:!0},curvedLineForPager:{height:"xlxyqfn",$$css:!0},parentLineDepth0:{height:"x5yr21d",insetInlineStart:"x1pe450p",left:null,right:null,$$css:!0},parentLineDepth1:{height:"x5yr21d",insetInlineStart:"x15vpgiq",left:null,right:null,$$css:!0},root:{position:"x1n2onr6",$$css:!0},rootDepth1:{paddingInlineStart:"x70ekce",$$css:!0},rootDepth2:{paddingInlineStart:"xw8xeku",$$css:!0},rootHiddenPlaceholder:{textAlign:"x2b8uid",$$css:!0},rootLabel:{overflowX:"x1plvlek",overflowY:"xryxfnj",$$css:!0},straightLine:{backgroundColor:"x1hmwia7",position:"x10l6tqk",width:"xfo62xy",$$css:!0},straightLineNative:{backgroundColor:"x1hmwia7",height:"x5yr21d",width:"xfo62xy",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(28),c=a.applyComposerContainerStyle,e=a.children,f=a.depth,g=a.hasChildren,h=a.isLast,k=a.isParentLast;a=a.type;c=c===void 0?!1:c;var l=f===1&&j.rootDepth1,m=f===2&&j.rootDepth2,n=a==="hidden-placeholder"&&j.rootHiddenPlaceholder,o=a==="label"&&j.rootLabel;c=c&&j.composerRoot;var p;b[0]!==l||b[1]!==m||b[2]!==n||b[3]!==o||b[4]!==c?(p=[j.root,l,m,n,o,c],b[0]=l,b[1]=m,b[2]=n,b[3]=o,b[4]=c,b[5]=p):p=b[5];b[6]!==f||b[7]!==a?(l=f>0&&a!=="label"&&a!=="hidden-placeholder"&&a!=="composer-addon"&&i.jsx(d("react-strict-dom").html.div,{style:[j.curvedLine,f===1&&j.curvedLineDepth1,f===2&&j.curvedLineDepth2,(a==="comment"||a==="composer")&&j.curvedLineForComment,(a==="comment"||a==="composer")&&f===1&&j.curvedLineForCommentDepth1,a==="pager"&&j.curvedLineForPager]}),b[6]=f,b[7]=a,b[8]=l):l=b[8];b[9]!==f||b[10]!==h||b[11]!==k||b[12]!==a?(m=(f===1&&(h===!1||a==="composer-addon")||f===2&&k===!1)&&i.jsx(d("react-strict-dom").html.div,{style:[j.straightLine,j.parentLineDepth0]}),b[9]=f,b[10]=h,b[11]=k,b[12]=a,b[13]=m):m=b[13];b[14]!==f||b[15]!==h||b[16]!==a?(n=f===2&&(h===!1||a==="composer-addon")&&i.jsx(d("react-strict-dom").html.div,{style:[j.straightLine,j.parentLineDepth1]}),b[14]=f,b[15]=h,b[16]=a,b[17]=n):n=b[17];b[18]!==f||b[19]!==g?(o=g===!0&&i.jsx(d("react-strict-dom").html.div,{style:d("XPlatReactEnvironment").isWeb()?[f>0&&j.childLineReply,f===0&&j.childLineTopLevel,j.straightLine]:[f>0&&j.childLineReplyNative,f===0&&j.childLineTopLevelNative],children:d("XPlatReactEnvironment").isWeb()?null:i.jsx(d("react-strict-dom").html.div,{style:j.straightLineNative})}),b[18]=f,b[19]=g,b[20]=o):o=b[20];b[21]!==e||b[22]!==n||b[23]!==o||b[24]!==p||b[25]!==l||b[26]!==m?(c=i.jsxs(d("react-strict-dom").html.div,{style:p,children:[l,m,n,o,e]}),b[21]=e,b[22]=n,b[23]=o,b[24]=p,b[25]=l,b[26]=m,b[27]=c):c=b[27];return c}g["default"]=a}),98);
__d("useCometLexicalEmptyListeners",["LexicalText","react","react-compiler-runtime","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useCallback,k=e.useLayoutEffect,l=e.useMemo,m=e.useState;function a(a){var b=d("react-compiler-runtime").c(5),c,e;b[0]!==a?(e=!0,a(function(a){e=a})(),b[0]=a,b[1]=e):e=b[1];c=e;c=m(c);var f=c[0],g=c[1],h;b[2]!==a?(c=function(){return a(function(a){return g(a)})},h=[a],b[2]=a,b[3]=c,b[4]=h):(c=b[3],h=b[4]);k(c,h);return f}function b(a){var b=l(function(){return new Set()},[]),e=(h||(h=c("useUnsafeRef_DEPRECATED")))(a.getEditorState().read(d("LexicalText").$isRootTextContentEmptyCurry(a.isComposing()))),f=j(function(a){var c=Array.from(b);for(var d=0;d<c.length;d++)c[d](a)},[b]),g=j(function(){var b=a.getEditorState().read(d("LexicalText").$isRootTextContentEmptyCurry(a.isComposing()));e.current!==b&&(e.current=b,f(b))},[a,f]);k(function(){return a.registerUpdateListener(g)},[a,g]);return j(function(a){b.add(a);a(e.current);return function(){b["delete"](a)}},[b])}g.useCometLexicalIsEmpty=a;g.useCometLexicalEmptyListeners=b}),98);
__d("useCometUFILexicalEmptyListeners",["react","react-compiler-runtime","useCometLexicalEmptyListeners"],(function(a,b,c,d,e,f,g){"use strict";var h;c=h||d("react");var i=c.useCallback,j=c.useLayoutEffect,k=c.useState;function a(a){var b=d("react-compiler-runtime").c(5),c,e;b[0]!==a?(e=!0,a(function(a){e=a})(),b[0]=a,b[1]=e):e=b[1];c=e;c=k(c);var f=c[0],g=c[1],h;b[2]!==a?(c=function(){return a(function(a){return g(a)})},h=[a],b[2]=a,b[3]=c,b[4]=h):(c=b[3],h=b[4]);j(c,h);return f}function b(a,b){var c=d("useCometLexicalEmptyListeners").useCometLexicalEmptyListeners(a);return i(function(a){var d=function(c){c=c&&b.attachment==null;a(c)};return c(d)},[c,b.attachment])}g.useCometUFILexicalIsEmpty=a;g.useCometUFILexicalEmptyListeners=b}),98);
__d("CometUFIWriteToComposerPluginInner",["CometUFIConversationGuideContext","Lexical","react","react-compiler-runtime","useCometUFILexicalEmptyListeners"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext,j=b.useLayoutEffect;function a(a){var b=d("react-compiler-runtime").c(29);a=a.pluginProps;var e=a.addEmptyListener,f=a.editor,g=a.setComposerState;a=i(c("CometUFIConversationGuideContext"));var h=a.onComposerEmptyStateChange,k=a.setAddGiphyStickerToComposer,l=a.setAddStickerToComposer,m=a.setGetIsComposerEmpty,n=a.setWriteToComposer,o=a.unsetAddGiphyStickerToComposer,p=a.unsetAddStickerToComposer,q=a.unsetWriteToComposer,r=d("useCometUFILexicalEmptyListeners").useCometUFILexicalIsEmpty(e);b[0]!==r||b[1]!==h?(a=function(){h(r)},e=[r,h],b[0]=r,b[1]=h,b[2]=a,b[3]=e):(a=b[2],e=b[3]);j(a,e);b[4]!==r?(a=function(){return r},b[4]=r,b[5]=a):a=b[5];var s=a;b[6]!==s||b[7]!==m?(e=function(){m(function(){return s})},a=[s,m],b[6]=s,b[7]=m,b[8]=e,b[9]=a):(e=b[8],a=b[9]);j(e,a);b[10]!==f?(e=function(a){f.focus(function(){f.update(function(){var b=d("Lexical").$getSelection();d("Lexical").$isRangeSelection(b)&&b.insertText(a)})})},b[10]=f,b[11]=e):e=b[11];var t=e;b[12]!==f||b[13]!==g?(a=function(a){var b=function(b){return babelHelpers["extends"]({},b,{attachment:{__type:"Sticker",id:a},updateSource:"ConversationGuide"})};g(b);f.focus()},b[12]=f,b[13]=g,b[14]=a):a=b[14];var u=a;b[15]!==f||b[16]!==g?(e=function(a){var b={cursor:"",media:{preview:{durationMs:0,height:40,label:"",sizeBytes:0,url:a,width:40}},platformFBID:"",resultID:"",source:{durationMs:0,gifSource:"GIPHY",height:40,mimeType:"",sizeBytes:0,tags:[],title:"",url:a,width:40},type:0};a=function(a){return babelHelpers["extends"]({},a,{attachment:{__type:"GIF",data:b},updateSource:"ConversationGuide"})};g(a);f.focus()},b[15]=f,b[16]=g,b[17]=e):e=b[17];var v=e;b[18]!==v||b[19]!==u||b[20]!==k||b[21]!==l||b[22]!==n||b[23]!==o||b[24]!==p||b[25]!==q||b[26]!==t?(a=function(){n(t);l(u);k(v);return function(){q(),p(),o()}},e=[n,q,t,l,u,p,k,o,v],b[18]=v,b[19]=u,b[20]=k,b[21]=l,b[22]=n,b[23]=o,b[24]=p,b[25]=q,b[26]=t,b[27]=e,b[28]=a):(e=b[27],a=b[28]);j(a,e);return null}g["default"]=a}),98);
__d("CometWallConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({COMMENT_MAX_LENGTH:8e3});f["default"]=a}),66);
__d("FDSEmojiOutline16PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("642536"),16);b=a;g["default"]=b}),98);
__d("FDSTooltipGroup.react",["BaseTooltipGroup.react","CometTooltipImpl.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.children;var e;b[0]!==a?(e=i.jsx(d("BaseTooltipGroup.react").Container,{tooltipImpl:c("CometTooltipImpl.react"),children:a}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<131b6d301fd478cab84e5ee82d987510>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("Lexical.prod",[],(function $module_Lexical_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _P,_L;function t(t){var n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",t);for(var _len=arguments.length,e=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){e[_key-1]=arguments[_key];}for(var _t2 of e){r.append("v",_t2);}throw n.search=r.toString(),Error("Minified Lexical error #"+t+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}var e="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,n=e&&"documentMode"in document?document.documentMode:null,r=e&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),i=e&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),o=!(!e||!("InputEvent"in window)||n)&&"getTargetRanges"in new window.InputEvent("input"),s=e&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),l=e&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,c=e&&/Android/.test(navigator.userAgent),a=e&&/^(?=.*Chrome).*/i.test(navigator.userAgent),u=e&&c&&a,f=e&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!a;function d(){var e=[];for(var _len2=arguments.length,t=new Array(_len2),_key2=0;_key2<_len2;_key2++){t[_key2]=arguments[_key2];}for(var _n2 of t){if(_n2&&"string"==typeof _n2)for(var _ref of _n2.matchAll(/\S+/g)){var _t3=_ref[0];e.push(_t3);}}return e;}var h=0,g=1,p=2,_=128,y=1,m=2,x=3,C=4,S=5,N=6,T=s||l||f?" ":"​",v="\n\n",k=i?" ":T,E="֑-߿יִ-﷽ﹰ-ﻼ",b="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",O=new RegExp("^[^"+b+"]*["+E+"]"),M=new RegExp("^[^"+E+"]*["+b+"]"),A={bold:1,capitalize:1024,code:16,highlight:_,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},w={directionless:1,unmergeable:2},D={center:2,end:6,justify:4,left:1,right:3,start:5},P=(_P={},_P[m]="center",_P[N]="end",_P[C]="justify",_P[y]="left",_P[x]="right",_P[S]="start",_P),I={normal:0,segmented:2,token:1},L=(_L={},_L[h]="normal",_L[p]="segmented",_L[g]="token",_L),F="$config";function R(t,e,n,r,i,o){var s=t.getFirstChild();for(;null!==s;){var _t4=s.__key;s.__parent===e&&(Yr(s)&&R(s,_t4,n,r,i,o),n.has(_t4)||o["delete"](_t4),i.push(_t4)),s=s.getNextSibling();}}var K=!1,B=0;function z(t){B=t.timeStamp;}function W(t,e,n){var r="BR"===t.nodeName,i=e.__lexicalLineBreak;return i&&(t===i||r&&t.previousSibling===i)||r&&void 0!==Fi(t,n);}function $(t,e,n){var r=Oo(xo(n));var i=null,o=null;null!==r&&r.anchorNode===t&&(i=r.anchorOffset,o=r.focusOffset);var s=t.nodeValue;null!==s&&qi(e,s,i,o,!1);}function U(t,e,n){if(jn(t)){var _e2=t.anchor.getNode();if(_e2.is(n)&&t.format!==_e2.getFormat())return!1;}return ki(e)&&n.isAttached();}function J(t,e,n,r){for(var _i2=t;_i2&&!Uo(_i2);_i2=ho(_i2)){var _t5=Fi(_i2,e);if(void 0!==_t5){var _e3=Ii(_t5,n);if(_e3)return Vr(_e3)||!Ao(_i2)?void 0:[_i2,_e3];}else if(_i2===r)return[r,Wi(n)];}}function Y(t,e,n){K=!0;var r=performance.now()-B>100;try{Wr(t,function(){var o=cr()||function(t){return t.getEditorState().read(function(){var t=cr();return null!==t?t.clone():null;});}(t),s=new Map(),l=t.getRootElement(),c=t._editorState,a=t._blockCursorElement;var u=!1,f="";for(var _n3=0;_n3<e.length;_n3++){var _d=e[_n3],_h=_d.type,_g=_d.target,_p=J(_g,t,c,l);if(!_p)continue;var _2=_p[0],_y=_p[1];if("characterData"===_h)r&&Fn(_y)&&ki(_g)&&U(o,_g,_y)&&$(_g,_y,t);else if("childList"===_h){u=!0;var _e4=_d.addedNodes;for(var _n5=0;_n5<_e4.length;_n5++){var _r3=_e4[_n5],_o2=Li(_r3),_s2=_r3.parentNode;if(null!=_s2&&_r3!==a&&null===_o2&&!W(_r3,_s2,t)){if(i){var _t6=(Ao(_r3)?_r3.innerText:null)||_r3.nodeValue;_t6&&(f+=_t6);}_s2.removeChild(_r3);}}var _n4=_d.removedNodes,_r2=_n4.length;if(_r2>0){var _e5=0;for(var _i3=0;_i3<_r2;_i3++){var _r4=_n4[_i3];(W(_r4,_g,t)||a===_r4)&&(_g.appendChild(_r4),_e5++);}_r2!==_e5&&s.set(_2,_y);}}}if(s.size>0)for(var _ref2 of s){var _e6=_ref2[0];var _n6=_ref2[1];_n6.reconcileObservedMutation(_e6,t);}var d=n.takeRecords();if(d.length>0){for(var _e7=0;_e7<d.length;_e7++){var _n7=d[_e7],_r5=_n7.addedNodes,_i4=_n7.target;for(var _e8=0;_e8<_r5.length;_e8++){var _n8=_r5[_e8],_o3=_n8.parentNode;null==_o3||"BR"!==_n8.nodeName||W(_n8,_i4,t)||_o3.removeChild(_n8);}}n.takeRecords();}null!==o&&(u&&$i(o),i&&co(t)&&o.insertRawText(f));});}finally{K=!1;}}function j(t){var e=t._observer;if(null!==e){Y(t,e.takeRecords(),e);}}function H(t){!function(t){0===B&&xo(t).addEventListener("textInput",z,!0);}(t),t._observer=new MutationObserver(function(e,n){Y(t,e,n);});}var V=function V(t,e){this.key=t,this.parse=e.parse.bind(e),this.unparse=(e.unparse||tt).bind(e),this.isEqual=(e.isEqual||Object.is).bind(e),this.defaultValue=this.parse(void 0);};function G(t,e,n){if(n===void 0){n="latest";}var r=("latest"===n?t.getLatest():t).__state;return r?r.getValue(e):e.defaultValue;}function q(t){var e=new Map(),n=new Set();for(var _r6="function"==typeof t?t:t.replace;_r6.prototype&&void 0!==_r6.prototype.getType;_r6=Object.getPrototypeOf(_r6)){var _Yo=Yo(_r6),_t7=_Yo.ownNodeConfig;if(_t7&&_t7.stateConfigs)for(var _r7 of _t7.stateConfigs){var _t8=void 0;"stateConfig"in _r7?(_t8=_r7.stateConfig,_r7.flat&&n.add(_t8.key)):_t8=_r7,e.set(_t8.key,_t8);}}return{flatKeys:n,sharedConfigMap:e};}var X=function(){function X(t,e,n,r,i){if(n===void 0){n=void 0;}if(r===void 0){r=new Map();}if(i===void 0){i=void 0;}this.node=t,this.sharedNodeState=e,this.unknownState=n,this.knownState=r;var o=this.sharedNodeState.sharedConfigMap,s=void 0!==i?i:function(t,e,n){var r=n.size;if(e)for(var _i5 in e){var _e9=t.get(_i5);_e9&&n.has(_e9)||r++;}return r;}(o,n,r);this.size=s;}var _proto=X.prototype;_proto.getValue=function getValue(t){var e=this.knownState.get(t);if(void 0!==e)return e;this.sharedNodeState.sharedConfigMap.set(t.key,t);var n=t.defaultValue;if(this.unknownState&&t.key in this.unknownState){var _e0=this.unknownState[t.key];void 0!==_e0&&(n=t.parse(_e0)),this.updateFromKnown(t,n);}return n;};_proto.getInternalState=function getInternalState(){return[this.unknownState,this.knownState];};_proto.toJSON=function toJSON(){var t=babelHelpers["extends"]({},this.unknownState),e={};for(var _ref3 of this.knownState){var _e1=_ref3[0];var _n9=_ref3[1];_e1.isEqual(_n9,_e1.defaultValue)?delete t[_e1.key]:t[_e1.key]=_e1.unparse(_n9);}for(var _n0 of this.sharedNodeState.flatKeys){_n0 in t&&(e[_n0]=t[_n0],delete t[_n0]);}return Z(t)&&(e.$=t),e;};_proto.getWritable=function getWritable(t){if(this.node===t)return this;var e=this.sharedNodeState,n=this.unknownState,r=new Map(this.knownState);return new X(t,e,function(t,e,n){var r;if(n)for(var _ref4 of Object.entries(n)){var _i6=_ref4[0];var _o4=_ref4[1];var _n1=t.get(_i6);_n1?e.has(_n1)||e.set(_n1,_n1.parse(_o4)):(r=r||{},r[_i6]=_o4);}return r;}(e.sharedConfigMap,r,n),r,this.size);};_proto.updateFromKnown=function updateFromKnown(t,e){var n=t.key;this.sharedNodeState.sharedConfigMap.set(n,t);var r=this.knownState,i=this.unknownState;r.has(t)||i&&n in i||(i&&(delete i[n],this.unknownState=Z(i)),this.size++),r.set(t,e);};_proto.updateFromUnknown=function updateFromUnknown(t,e){var n=this.sharedNodeState.sharedConfigMap.get(t);n?this.updateFromKnown(n,n.parse(e)):(this.unknownState=this.unknownState||{},t in this.unknownState||this.size++,this.unknownState[t]=e);};_proto.updateFromJSON=function updateFromJSON(t){var e=this.knownState;for(var _t9 of e.keys()){e.set(_t9,_t9.defaultValue);}if(this.size=e.size,this.unknownState=void 0,t)for(var _ref5 of Object.entries(t)){var _e10=_ref5[0];var _n10=_ref5[1];this.updateFromUnknown(_e10,_n10);}};return X;}();function Q(t){var e=t.getWritable(),n=e.__state?e.__state.getWritable(e):new X(e,function(t){return gi(Ro(),t.getType()).sharedNodeState;}(e));return e.__state=n,n;}function Z(t){if(t)for(var _e11 in t){return t;}}function tt(t){return t;}function et(t,e,n){for(var _ref6 of e.knownState){var _r8=_ref6[0];var _i7=_ref6[1];if(t.has(_r8.key))continue;t.add(_r8.key);var _e12=n?n.getValue(_r8):_r8.defaultValue;if(_e12!==_i7&&!_r8.isEqual(_e12,_i7))return!0;}return!1;}function nt(t,e,n){var r=e.unknownState,i=n?n.unknownState:void 0;if(r)for(var _ref7 of Object.entries(r)){var _e13=_ref7[0];var _n11=_ref7[1];if(t.has(_e13))continue;t.add(_e13);if(_n11!==(i?i[_e13]:void 0))return!0;}return!1;}function rt(t,e){var n=t.__state;return n&&n.node===t?n.getWritable(e):n;}function it(t,e){var n=t.__mode,r=t.__format,i=t.__style,o=e.__mode,s=e.__format,l=e.__style,c=t.__state,a=e.__state;return(null===n||n===o)&&(null===r||r===s)&&(null===i||i===l)&&(null===t.__state||c===a||function(t,e){if(t===e)return!0;if(t&&e&&t.size!==e.size)return!1;var n=new Set();return!(t&&et(n,t,e)||e&&et(n,e,t)||t&&nt(n,t,e)||e&&nt(n,e,t));}(c,a));}function ot(t,e){var n=t.mergeWithSibling(e),r=Mr()._normalizedNodes;return r.add(t.__key),r.add(e.__key),n;}function st(t){var e,n,r=t;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(e=r.getPreviousSibling())&&Fn(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(""!==e.__text){if(it(e,r)){r=ot(e,r);break;}break;}e.remove();}for(;null!==(n=r.getNextSibling())&&Fn(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if(it(r,n)){r=ot(r,n);break;}break;}n.remove();}}else r.remove();}function lt(t){return ct(t.anchor),ct(t.focus),t;}function ct(t){for(;"element"===t.type;){var _e14=t.getNode(),_n12=t.offset;var _r9=void 0,_i8=void 0;if(_n12===_e14.getChildrenSize()?(_r9=_e14.getChildAtIndex(_n12-1),_i8=!0):(_r9=_e14.getChildAtIndex(_n12),_i8=!1),Fn(_r9)){t.set(_r9.__key,_i8?_r9.getTextContentSize():0,"text",!0);break;}if(!Yr(_r9))break;t.set(_r9.__key,_i8?_r9.getChildrenSize():0,"element",!0);}}var at,ut,ft,dt,ht,gt,pt,_t,yt,mt,xt="",Ct="",St=null,Nt="",Tt="",vt=!1,kt=!1,Et=null;function bt(t,e){var n=pt.get(t);if(null!==e){var _n13=Jt(t);_n13.parentNode===e&&e.removeChild(_n13);}if(_t.has(t)||ut._keyToDOMMap["delete"](t),Yr(n)){var _t0=Bt(n,pt);Ot(_t0,0,_t0.length-1,null);}void 0!==n&&oo(mt,ft,dt,n,"destroyed");}function Ot(t,e,n,r){var i=e;for(;i<=n;++i){var _e15=t[i];void 0!==_e15&&bt(_e15,r);}}function Mt(t,e){t.setProperty("text-align",e);}var At="40px";function wt(t,e){var n=at.theme.indent;if("string"==typeof n){var _r0=t.classList.contains(n);e>0&&!_r0?t.classList.add(n):e<1&&_r0&&t.classList.remove(n);}var r=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||At;t.style.setProperty("padding-inline-start",0===e?"":"calc("+e+" * "+r+")");}function Dt(t,e){var n=t.style;0===e?Mt(n,""):1===e?Mt(n,"left"):2===e?Mt(n,"center"):3===e?Mt(n,"right"):4===e?Mt(n,"justify"):5===e?Mt(n,"start"):6===e&&Mt(n,"end");}function Pt(e,n){var r=_t.get(e);void 0===r&&t(60);var i=r.createDOM(at,ut);if(function(t,e,n){var r=n._keyToDOMMap;(function(t,e,n){var r="__lexicalKey_"+e._key;t[r]=n;})(e,n,t),r.set(t,e);}(e,i,ut),Fn(r)?i.setAttribute("data-lexical-text","true"):Vr(r)&&i.setAttribute("data-lexical-decorator","true"),Yr(r)){var _t1=r.__indent,_e16=r.__size;if(0!==_t1&&wt(i,_t1),0!==_e16){var _t10=_e16-1;!function(t,e,n,r){var i=Ct;Ct="",It(t,n,0,e,n.getDOMSlot(r)),Rt(n,r),Ct=i;}(Bt(r,_t),_t10,r,i);}var _n14=r.__format;0!==_n14&&Dt(i,_n14),r.isInline()||Ft(null,r,i),uo(r)&&(xt+=v,Tt+=v);}else{var _t11=r.getTextContent();if(Vr(r)){var _t12=r.decorate(ut,at);null!==_t12&&Wt(e,_t12),i.contentEditable="false";}else Fn(r)&&(r.isDirectionless()||(Ct+=_t11));xt+=_t11,Tt+=_t11;}return null!==n&&n.insertChild(i),oo(mt,ft,dt,r,"created"),i;}function It(t,e,n,r,i){var o=xt;xt="";var s=n;for(;s<=r;++s){Pt(t[s],i);var _e17=_t.get(t[s]);null!==_e17&&Fn(_e17)&&(null===St&&(St=_e17.getFormat()),""===Nt&&(Nt=_e17.getStyle()));}uo(e)&&(xt+=v);i.element.__lexicalTextContent=xt,xt=o+xt;}function Lt(t,e){if(t){var _n15=t.__last;if(_n15){var _t13=e.get(_n15);if(_t13)return mn(_t13)?"line-break":Vr(_t13)&&_t13.isInline()?"decorator":null;}return"empty";}return null;}function Ft(t,e,n){var r=Lt(t,pt),i=Lt(e,_t);r!==i&&e.getDOMSlot(n).setManagedLineBreak(i);}function Rt(t,e){var n=e.__lexicalDirTextContent||"",r=e.__lexicalDir||"";if(n!==Ct||r!==Et){var _n16=""===Ct,_i9=_n16?Et:function(t){if(O.test(t))return"rtl";if(M.test(t))return"ltr";return null;}(Ct);if(_i9!==r){var _o5=e.classList,_s3=at.theme;var _l=null!==r?_s3[r]:void 0,_c=null!==_i9?_s3[_i9]:void 0;if(void 0!==_l){if("string"==typeof _l){var _t14=d(_l);_l=_s3[r]=_t14;}_o5.remove.apply(_o5,_l);}if(null===_i9||_n16&&"ltr"===_i9)e.removeAttribute("dir");else{if(void 0!==_c){if("string"==typeof _c){var _t15=d(_c);_c=_s3[_i9]=_t15;}void 0!==_c&&_o5.add.apply(_o5,_c);}e.dir=_i9;}if(!kt){t.getWritable().__dir=_i9;}}Et=_i9,e.__lexicalDirTextContent=Ct,e.__lexicalDir=_i9;}}function Kt(e,n,r){var i=Ct;var o;Ct="",St=null,Nt="",function(e,n,r){var i=xt,o=e.__size,s=n.__size;xt="";var l=r.element;if(1===o&&1===s){var _t16=e.__first,_r1=n.__first;if(_t16===_r1)zt(_t16,l);else{var _e18=Jt(_t16),_n17=Pt(_r1,null);try{l.replaceChild(_n17,_e18);}catch(i){if("object"==typeof i&&null!=i){var _o6=i.toString()+" Parent: "+l.tagName+", new child: {tag: "+_n17.tagName+" key: "+_r1+"}, old child: {tag: "+_e18.tagName+", key: "+_t16+"}.";throw new Error(_o6);}throw i;}bt(_t16,null);}var _i0=_t.get(_r1);Fn(_i0)&&(null===St&&(St=_i0.getFormat()),""===Nt&&(Nt=_i0.getStyle()));}else{var _i1=Bt(e,pt),_c2=Bt(n,_t);if(_i1.length!==o&&t(227),_c2.length!==s&&t(228),0===o)0!==s&&It(_c2,n,0,s-1,r);else if(0===s){if(0!==o){var _t17=null==r.after&&null==r.before&&null==r.element.__lexicalLineBreak;Ot(_i1,0,o-1,_t17?null:l),_t17&&(l.textContent="");}}else!function(t,e,n,r,i,o){var s=r-1,l=i-1;var c,a,u=o.getFirstChild(),f=0,d=0;for(;f<=s&&d<=l;){var _t18=e[f],_r10=n[d];if(_t18===_r10)u=$t(zt(_r10,o.element)),f++,d++;else{void 0===c&&(c=new Set(e)),void 0===a&&(a=new Set(n));var _i11=a.has(_t18),_s4=c.has(_r10);if(_i11){if(_s4){var _t19=fo(ut,_r10);_t19===u?u=$t(zt(_r10,o.element)):(o.withBefore(u).insertChild(_t19),zt(_r10,o.element)),f++,d++;}else Pt(_r10,o.withBefore(u)),d++;}else u=$t(Jt(_t18)),bt(_t18,o.element),f++;}var _i10=_t.get(_r10);null!==_i10&&Fn(_i10)&&(null===St&&(St=_i10.getFormat()),""===Nt&&(Nt=_i10.getStyle()));}var h=f>s,g=d>l;if(h&&!g){var _e19=n[l+1],_r11=void 0===_e19?null:ut.getElementByKey(_e19);It(n,t,d,l,o.withBefore(_r11));}else g&&!h&&Ot(e,f,s,o.element);}(n,_i1,_c2,o,s,r);}uo(n)&&(xt+=v);l.__lexicalTextContent=xt,xt=i+xt;}(e,n,n.getDOMSlot(r)),Rt(n,r),o=n,null==St||St===o.__textFormat||kt||o.setTextFormat(St),function(t){""===Nt||Nt===t.__textStyle||kt||t.setTextStyle(Nt);}(n),Ct=i;}function Bt(e,n){var r=[];var i=e.__first;for(;null!==i;){var _e20=n.get(i);void 0===_e20&&t(101),r.push(i),i=_e20.__next;}return r;}function zt(e,n){var r=pt.get(e);var i=_t.get(e);void 0!==r&&void 0!==i||t(61);var o=vt||gt.has(e)||ht.has(e),s=fo(ut,e);if(r===i&&!o){if(Yr(r)){var _t20=s.__lexicalTextContent;void 0!==_t20&&(xt+=_t20,Tt+=_t20);var _e21=s.__lexicalDirTextContent;void 0!==_e21&&(Ct+=_e21);}else{var _t21=r.getTextContent();Fn(r)&&!r.isDirectionless()&&(Ct+=_t21),Tt+=_t21,xt+=_t21;}return s;}if(r!==i&&o&&oo(mt,ft,dt,i,"updated"),i.updateDOM(r,s,at)){var _r12=Pt(e,null);return null===n&&t(62),n.replaceChild(_r12,s),bt(e,null),_r12;}if(Yr(r)&&Yr(i)){var _t22=i.__indent;_t22!==r.__indent&&wt(s,_t22);var _e22=i.__format;_e22!==r.__format&&Dt(s,_e22),o&&(Kt(r,i,s),qr(i)||i.isInline()||Ft(r,i,s)),uo(i)&&(xt+=v,Tt+=v);}else{var _t23=i.getTextContent();if(Vr(i)){var _t24=i.decorate(ut,at);null!==_t24&&Wt(e,_t24);}else Fn(i)&&!i.isDirectionless()&&(Ct+=_t23);xt+=_t23,Tt+=_t23;}if(!kt&&qr(i)&&i.__cachedText!==Tt){var _t25=i.getWritable();_t25.__cachedText=Tt,i=_t25;}return s;}function Wt(t,e){var n=ut._pendingDecorators;var r=ut._decorators;if(null===n){if(r[t]===e)return;n=Ki(ut);}n[t]=e;}function $t(t){var e=t.nextSibling;return null!==e&&e===ut._blockCursorElement&&(e=e.nextSibling),e;}function Ut(t,e,n,r,i,o){xt="",Tt="",Ct="",vt=2===r,Et=null,ut=n,at=n._config,ft=n._nodes,dt=ut._listeners.mutation,ht=i,gt=o,pt=t._nodeMap,_t=e._nodeMap,kt=e._readOnly,yt=new Map(n._keyToDOMMap);var s=new Map();return mt=s,zt("root",null),ut=void 0,ft=void 0,ht=void 0,gt=void 0,pt=void 0,_t=void 0,at=void 0,yt=void 0,mt=void 0,s;}function Jt(e){var n=yt.get(e);return void 0===n&&t(75,e),n;}function Yt(t){return{type:t};}var jt=Yt("SELECTION_CHANGE_COMMAND"),Ht=Yt("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),Vt=Yt("CLICK_COMMAND"),Gt=Yt("DELETE_CHARACTER_COMMAND"),qt=Yt("INSERT_LINE_BREAK_COMMAND"),Xt=Yt("INSERT_PARAGRAPH_COMMAND"),Qt=Yt("CONTROLLED_TEXT_INSERTION_COMMAND"),Zt=Yt("PASTE_COMMAND"),te=Yt("REMOVE_TEXT_COMMAND"),ee=Yt("DELETE_WORD_COMMAND"),ne=Yt("DELETE_LINE_COMMAND"),re=Yt("FORMAT_TEXT_COMMAND"),ie=Yt("UNDO_COMMAND"),oe=Yt("REDO_COMMAND"),se=Yt("KEYDOWN_COMMAND"),le=Yt("KEY_ARROW_RIGHT_COMMAND"),ce=Yt("MOVE_TO_END"),ae=Yt("KEY_ARROW_LEFT_COMMAND"),ue=Yt("MOVE_TO_START"),fe=Yt("KEY_ARROW_UP_COMMAND"),de=Yt("KEY_ARROW_DOWN_COMMAND"),he=Yt("KEY_ENTER_COMMAND"),ge=Yt("KEY_SPACE_COMMAND"),pe=Yt("KEY_BACKSPACE_COMMAND"),_e=Yt("KEY_ESCAPE_COMMAND"),ye=Yt("KEY_DELETE_COMMAND"),me=Yt("KEY_TAB_COMMAND"),xe=Yt("INSERT_TAB_COMMAND"),Ce=Yt("INDENT_CONTENT_COMMAND"),Se=Yt("OUTDENT_CONTENT_COMMAND"),Ne=Yt("DROP_COMMAND"),Te=Yt("FORMAT_ELEMENT_COMMAND"),ve=Yt("DRAGSTART_COMMAND"),ke=Yt("DRAGOVER_COMMAND"),Ee=Yt("DRAGEND_COMMAND"),be=Yt("COPY_COMMAND"),Oe=Yt("CUT_COMMAND"),Me=Yt("SELECT_ALL_COMMAND"),Ae=Yt("CLEAR_EDITOR_COMMAND"),we=Yt("CLEAR_HISTORY_COMMAND"),De=Yt("CAN_REDO_COMMAND"),Pe=Yt("CAN_UNDO_COMMAND"),Ie=Yt("FOCUS_COMMAND"),Le=Yt("BLUR_COMMAND"),Fe=Yt("KEY_MODIFIER_COMMAND"),Re=Object.freeze({}),Ke=[["keydown",function(t,e){if(Be=t.timeStamp,ze=t.key,e.isComposing())return;if(ao(e,se,t))return;if(null==t.key)return;if(Ve&&no(t))return Wr(e,function(){on(e,Ge);}),Ve=!1,void(Ge="");if(function(t){return Zi(t,"ArrowRight",{shiftKey:"any"});}(t))ao(e,le,t);else if(function(t){return Zi(t,"ArrowRight",to);}(t))ao(e,ce,t);else if(function(t){return Zi(t,"ArrowLeft",{shiftKey:"any"});}(t))ao(e,ae,t);else if(function(t){return Zi(t,"ArrowLeft",to);}(t))ao(e,ue,t);else if(function(t){return Zi(t,"ArrowUp",{altKey:"any",shiftKey:"any"});}(t))ao(e,fe,t);else if(function(t){return Zi(t,"ArrowDown",{altKey:"any",shiftKey:"any"});}(t))ao(e,de,t);else if(function(t){return Zi(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0});}(t))je=!0,ao(e,he,t);else if(function(t){return" "===t.key;}(t))ao(e,ge,t);else if(function(t){return r&&Zi(t,"o",{ctrlKey:!0});}(t))t.preventDefault(),je=!0,ao(e,qt,!0);else if(function(t){return Zi(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"});}(t))je=!1,ao(e,he,t);else if(function(t){return Zi(t,"Backspace",{shiftKey:"any"})||r&&Zi(t,"h",{ctrlKey:!0});}(t))no(t)?ao(e,pe,t):(t.preventDefault(),ao(e,Gt,!0));else if(function(t){return"Escape"===t.key;}(t))ao(e,_e,t);else if(function(t){return Zi(t,"Delete",{})||r&&Zi(t,"d",{ctrlKey:!0});}(t))!function(t){return"Delete"===t.key;}(t)?(t.preventDefault(),ao(e,Gt,!1)):ao(e,ye,t);else if(function(t){return Zi(t,"Backspace",eo);}(t))t.preventDefault(),ao(e,ee,!0);else if(function(t){return Zi(t,"Delete",eo);}(t))t.preventDefault(),ao(e,ee,!1);else if(function(t){return r&&Zi(t,"Backspace",{metaKey:!0});}(t))t.preventDefault(),ao(e,ne,!0);else if(function(t){return r&&(Zi(t,"Delete",{metaKey:!0})||Zi(t,"k",{ctrlKey:!0}));}(t))t.preventDefault(),ao(e,ne,!1);else if(function(t){return Zi(t,"b",to);}(t))t.preventDefault(),ao(e,re,"bold");else if(function(t){return Zi(t,"u",to);}(t))t.preventDefault(),ao(e,re,"underline");else if(function(t){return Zi(t,"i",to);}(t))t.preventDefault(),ao(e,re,"italic");else if(function(t){return Zi(t,"Tab",{shiftKey:"any"});}(t))ao(e,me,t);else if(function(t){return Zi(t,"z",to);}(t))t.preventDefault(),ao(e,ie,void 0);else if(function(t){if(r)return Zi(t,"z",{metaKey:!0,shiftKey:!0});return Zi(t,"y",{ctrlKey:!0})||Zi(t,"z",{ctrlKey:!0,shiftKey:!0});}(t))t.preventDefault(),ao(e,oe,void 0);else{var _n18=e._editorState._selection;null===_n18||jn(_n18)?ro(t)&&(t.preventDefault(),ao(e,Me,t)):!function(t){return Zi(t,"c",to);}(t)?!function(t){return Zi(t,"x",to);}(t)?ro(t)&&(t.preventDefault(),ao(e,Me,t)):(t.preventDefault(),ao(e,Oe,t)):(t.preventDefault(),ao(e,be,t));}(function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey;})(t)&&ao(e,Fe,t);}],["pointerdown",function(t,e){var n=t.target,r=t.pointerType;wo(n)&&"touch"!==r&&"pen"!==r&&0===t.button&&Wr(e,function(){yi(n)||(Ye=!0);});}],["compositionstart",function(t,e){Wr(e,function(){var n=cr();if(jn(n)&&!e.isComposing()){var _r13=n.anchor,_i12=n.anchor.getNode();Di(_r13.key),(t.timeStamp<Be+30||"element"===_r13.type||!n.isCollapsed()||_i12.getFormat()!==n.format||Fn(_i12)&&_i12.getStyle()!==n.style)&&ao(e,Qt,k);}});}],["compositionend",function(t,e){i?He=!0:l||!s&&!f?Wr(e,function(){on(e,t.data);}):(Ve=!0,Ge=t.data);}],["input",function(t,e){t.stopPropagation(),Wr(e,function(){if(Ao(t.target)&&yi(t.target))return;var n=cr(),r=t.data,c=rn(t);if(null!=r&&jn(n)&&Qe(n,c,r,t.timeStamp,!1)){He&&(on(e,r),He=!1);var _c3=n.anchor.getNode(),_a=Oo(xo(e));if(null===_a)return;var _u=n.isBackward(),_d2=_u?n.anchor.offset:n.focus.offset,_h2=_u?n.focus.offset:n.anchor.offset;o&&!n.isCollapsed()&&Fn(_c3)&&null!==_a.anchorNode&&_c3.getTextContent().slice(0,_d2)+r+_c3.getTextContent().slice(_d2+_h2)===Vi(_a.anchorNode)||ao(e,Qt,r);var _g2=r.length;i&&_g2>1&&"insertCompositionText"===t.inputType&&!e.isComposing()&&(n.anchor.offset-=_g2),s||l||f||!e.isComposing()||(Be=0,Di(null));}else{Gi(!1,e,null!==r?r:void 0),He&&(on(e,r||void 0),He=!1);}!function(){Er();var t=Mr();j(t);}();},{event:t}),$e=null;}],["click",function(t,e){Wr(e,function(){var n=cr(),r=Oo(xo(e)),i=ar();if(r)if(jn(n)){var _e23=n.anchor,_o7=_e23.getNode();if("element"===_e23.type&&0===_e23.offset&&n.isCollapsed()&&!qr(_o7)&&1===zi().getChildrenSize()&&_o7.getTopLevelElementOrThrow().isEmpty()&&null!==i&&n.is(i))r.removeAllRanges(),n.dirty=!0;else if(3===t.detail&&!n.isCollapsed()){if(_o7!==n.focus.getNode()){var _t26=function(t,e){var n=t;for(;n!==zi()&&null!=n;){if(e(n))return n;n=n.getParent();}return null;}(_o7,function(t){return Yr(t)&&!t.isInline();});Yr(_t26)&&_t26.select(0);}}}else if("touch"===t.pointerType||"pen"===t.pointerType){var _n19=r.anchorNode;if(Ao(_n19)||ki(_n19)){$i(lr(i,r,e,t));}}ao(e,Vt,t);});}],["cut",Re],["copy",Re],["dragstart",Re],["dragover",Re],["dragend",Re],["paste",Re],["focus",Re],["blur",Re],["drop",Re]];o&&Ke.push(["beforeinput",function(e,n){return function(e,n){var r=e.inputType,o=rn(e);if("deleteCompositionText"===r||i&&co(n))return;if("insertCompositionText"===r)return;Wr(n,function(){var i=cr();if("deleteContentBackward"===r){if(null===i){var _t27=ar();if(!jn(_t27))return;$i(_t27.clone());}if(jn(i)){var _r14=i.anchor.key===i.focus.key;if(s=e.timeStamp,"MediaLast"===ze&&s<Be+30&&n.isComposing()&&_r14){if(Di(null),Be=0,setTimeout(function(){Wr(n,function(){Di(null);});},30),jn(i)){var _e24=i.anchor.getNode();_e24.markDirty(),Fn(_e24)||t(142),nn(i,_e24);}}else{Di(null),e.preventDefault();var _t28=i.anchor.getNode(),_o8=_t28.getTextContent(),_s5=_t28.canInsertTextAfter(),_l2=0===i.anchor.offset&&i.focus.offset===_o8.length;var _c4=u&&_r14&&!_l2&&_s5;if(_c4&&i.isCollapsed()&&(_c4=!Vr(lo(i.anchor,!0))),!_c4){ao(n,Gt,!0);var _t29=cr();u&&jn(_t29)&&_t29.isCollapsed()&&(qe=_t29,setTimeout(function(){return qe=null;}));}}return;}}var s;if(!jn(i))return;var c=e.data;null!==$e&&Gi(!1,n,$e),i.dirty&&null===$e||!i.isCollapsed()||qr(i.anchor.getNode())||null===o||i.applyDOMRange(o),$e=null;var a=i.anchor,f=i.focus,d=a.getNode(),h=f.getNode();if("insertText"!==r&&"insertTranspose"!==r)switch(e.preventDefault(),r){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":ao(n,Qt,e);break;case"insertFromComposition":Di(null),ao(n,Qt,e);break;case"insertLineBreak":Di(null),ao(n,qt,!1);break;case"insertParagraph":Di(null),je&&!l?(je=!1,ao(n,qt,!1)):ao(n,Xt,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":ao(n,Zt,e);break;case"deleteByComposition":(function(t,e){return t!==e||Yr(t)||Yr(e)||!Ti(t)||!Ti(e);})(d,h)&&ao(n,te,e);break;case"deleteByDrag":case"deleteByCut":ao(n,te,e);break;case"deleteContent":ao(n,Gt,!1);break;case"deleteWordBackward":ao(n,ee,!0);break;case"deleteWordForward":ao(n,ee,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":ao(n,ne,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":ao(n,ne,!1);break;case"formatStrikeThrough":ao(n,re,"strikethrough");break;case"formatBold":ao(n,re,"bold");break;case"formatItalic":ao(n,re,"italic");break;case"formatUnderline":ao(n,re,"underline");break;case"historyUndo":ao(n,ie,void 0);break;case"historyRedo":ao(n,oe,void 0);}else{if("\n"===c)e.preventDefault(),ao(n,qt,!1);else if(c===v)e.preventDefault(),ao(n,Xt,void 0);else if(null==c&&e.dataTransfer){var _t30=e.dataTransfer.getData("text/plain");e.preventDefault(),i.insertRawText(_t30);}else null!=c&&Qe(i,o,c,e.timeStamp,!0)?(e.preventDefault(),ao(n,Qt,c)):$e=c;We=e.timeStamp;}});}(e,n);}]);var Be=0,ze=null,We=0,$e=null;var Ue=new WeakMap();var Je=!1,Ye=!1,je=!1,He=!1,Ve=!1,Ge="",qe=null,Xe=[0,"",0,"root",0];function Qe(t,e,n,r,i){var s=t.anchor,l=t.focus,c=s.getNode(),a=Mr(),u=Oo(xo(a)),f=null!==u?u.anchorNode:null,d=s.key,h=a.getElementByKey(d),g=n.length;return d!==l.key||!Fn(c)||(!i&&(!o||We<r+50)||c.isDirty()&&g<2||Yi(n))&&s.offset!==l.offset&&!c.isComposing()||vi(c)||c.isDirty()&&g>1||(i||!o)&&null!==h&&!c.isComposing()&&f!==bi(h)||null!==u&&null!==e&&(!e.collapsed||e.startContainer!==u.anchorNode||e.startOffset!==u.anchorOffset)||c.getFormat()!==t.format||c.getStyle()!==t.style||function(t,e){if(e.isSegmented())return!0;if(!t.isCollapsed())return!1;var n=t.anchor.offset,r=e.getParentOrThrow(),i=Ti(e);return 0===n?!e.canInsertTextBefore()||!r.canInsertTextBefore()&&!e.isComposing()||i||function(t){var e=t.getPreviousSibling();return(Fn(e)||Yr(e)&&e.isInline())&&!e.canInsertTextAfter();}(e):n===e.getTextContentSize()&&(!e.canInsertTextAfter()||!r.canInsertTextAfter()&&!e.isComposing()||i);}(t,c);}function Ze(t,e){return ki(t)&&null!==t.nodeValue&&0!==e&&e!==t.nodeValue.length;}function tn(e,n,r){var i=e.anchorNode,o=e.anchorOffset,s=e.focusNode,l=e.focusOffset;Je&&(Je=!1,Ze(i,o)&&Ze(s,l)&&!qe)||Wr(n,function(){if(!r)return void $i(null);if(!xi(n,i,s))return;var c=cr();if(qe&&jn(c)&&c.isCollapsed()){var _t31=c.anchor,_e25=qe.anchor;(_t31.key===_e25.key&&_t31.offset===_e25.offset+1||1===_t31.offset&&_e25.getNode().is(_t31.getNode().getPreviousSibling()))&&(c=qe.clone(),$i(c));}if(qe=null,jn(c)){var _r15=c.anchor,_i13=_r15.getNode();if(c.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(c.dirty=!0);var _o9=xo(n).event,_s6=_o9?_o9.timeStamp:performance.now(),_Xe=Xe,_l3=_Xe[0],_a2=_Xe[1],_u2=_Xe[2],_f=_Xe[3],_d3=_Xe[4],_h3=zi(),_g3=!1===n.isComposing()&&""===_h3.getTextContent();if(_s6<_d3+200&&_r15.offset===_u2&&_r15.key===_f)en(c,_l3,_a2);else if("text"===_r15.type)Fn(_i13)||t(141),nn(c,_i13);else if("element"===_r15.type&&!_g3){Yr(_i13)||t(259);var _e26=_r15.getNode();_e26.isEmpty()?function(t,e){var n=e.getTextFormat(),r=e.getTextStyle();en(t,n,r);}(c,_e26):en(c,0,"");}}else{var _t32=_r15.key,_e27=c.focus.key,_n20=c.getNodes(),_i14=_n20.length,_s7=c.isBackward(),_a3=_s7?l:o,_u3=_s7?o:l,_f2=_s7?_e27:_t32,_d4=_s7?_t32:_e27;var _h4=2047,_g4=!1;for(var _t33=0;_t33<_i14;_t33++){var _e28=_n20[_t33],_r16=_e28.getTextContentSize();if(Fn(_e28)&&0!==_r16&&!(0===_t33&&_e28.__key===_f2&&_a3===_r16||_t33===_i14-1&&_e28.__key===_d4&&0===_u3)&&(_g4=!0,_h4&=_e28.getFormat(),0===_h4))break;}c.format=_g4?_h4:0;}}ao(n,jt,void 0);});}function en(t,e,n){t.format===e&&t.style===n||(t.format=e,t.style=n,t.dirty=!0);}function nn(t,e){en(t,e.getFormat(),e.getStyle());}function rn(t){if(!t.getTargetRanges)return null;var e=t.getTargetRanges();return 0===e.length?null:e[0];}function on(t,e){var n=t._compositionKey;if(Di(null),null!==n&&null!=e){if(""===e){var _e29=Ii(n),_r17=bi(t.getElementByKey(n));return void(null!==_r17&&null!==_r17.nodeValue&&Fn(_e29)&&qi(_e29,_r17.nodeValue,null,null,!0));}if("\n"===e[e.length-1]){var _e30=cr();if(jn(_e30)){var _n21=_e30.focus;return _e30.anchor.set(_n21.key,_n21.offset,_n21.type),void ao(t,he,null);}}}Gi(!0,t,e);}function sn(t){var e=t.__lexicalEventHandles;return void 0===e&&(e=[],t.__lexicalEventHandles=e),e;}var ln=new Map();function cn(t){var e=Mo(t.target);if(null===e)return;var n=Si(e.anchorNode);if(null===n)return;Ye&&(Ye=!1,Wr(n,function(){var r=ar(),i=e.anchorNode;if(Ao(i)||ki(i)){$i(lr(r,e,n,t));}}));var r=ji(n),i=r[r.length-1],o=i._key,s=ln.get(o),l=s||i;l!==n&&tn(e,l,!1),tn(e,n,!0),n!==i?ln.set(o,n):s&&ln["delete"](o);}function an(t){t._lexicalHandled=!0;}function un(t){return!0===t._lexicalHandled;}var fn=function fn(){};function dn(e){var n=e.ownerDocument,r=Ue.get(n);if(void 0===r)return void fn();var i=r-1;i>=0||t(164),Ue.set(n,i),0===i&&n.removeEventListener("selectionchange",cn);var o=Ni(e);Ci(o)?(!function(t){if(null!==t._parentEditor){var _e31=ji(t),_n22=_e31[_e31.length-1]._key;ln.get(_n22)===t&&ln["delete"](_n22);}else ln["delete"](t._key);}(o),e.__lexicalEditor=null):o&&t(198);var s=sn(e);for(var _t34=0;_t34<s.length;_t34++){s[_t34]();}e.__lexicalEventHandles=[];}function hn(t,e,n){Er();var r=t.__key,i=t.getParent();if(null===i)return;var o=function(t){var e=cr();if(!jn(e)||!Yr(t))return e;var n=e.anchor,r=e.focus,i=n.getNode(),o=r.getNode();yo(i,t)&&n.set(t.__key,0,"element");yo(o,t)&&r.set(t.__key,0,"element");return e;}(t);var s=!1;if(jn(o)&&e){var _e32=o.anchor,_n23=o.focus;_e32.key===r&&(dr(_e32,t,i,t.getPreviousSibling(),t.getNextSibling()),s=!0),_n23.key===r&&(dr(_n23,t,i,t.getPreviousSibling(),t.getNextSibling()),s=!0);}else Vn(o)&&e&&t.isSelected()&&t.selectPrevious();if(jn(o)&&e&&!s){var _e33=t.getIndexWithinParent();Ai(t),ur(o,i,_e33,-1);}else Ai(t);n||So(i)||i.canBeEmpty()||!i.isEmpty()||hn(i,e),e&&o&&qr(i)&&i.isEmpty()&&i.selectEnd();}var gn=function(){gn.getType=function getType(){var _Yo2=Yo(this),e=_Yo2.ownNodeType;return void 0===e&&t(64,this.name),e;};gn.clone=function clone(e){t(65,this.name);};var _proto2=gn.prototype;_proto2.$config=function $config(){return{};};_proto2.config=function config(t,e){var _ref8;var n=e["extends"]||Object.getPrototypeOf(this.constructor);return Object.assign(e,{"extends":n,type:t}),_ref8={},_ref8[t]=e,_ref8;};_proto2.afterCloneFrom=function afterCloneFrom(t){this.__key===t.__key?(this.__parent=t.__parent,this.__next=t.__next,this.__prev=t.__prev,this.__state=t.__state):t.__state&&(this.__state=t.__state.getWritable(this));};function gn(t){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),Mi(this,t);}_proto2.getType=function getType(){return this.__type;};_proto2.isInline=function isInline(){t(137,this.constructor.name);};_proto2.isAttached=function isAttached(){var t=this.__key;for(;null!==t;){if("root"===t)return!0;var _e34=Ii(t);if(null===_e34)break;t=_e34.__parent;}return!1;};_proto2.isSelected=function isSelected(t){var _this12=this;var e=t||cr();if(null==e)return!1;var n=e.getNodes().some(function(t){return t.__key===_this12.__key;});if(Fn(this))return n;if(jn(e)&&"element"===e.anchor.type&&"element"===e.focus.type){if(e.isCollapsed())return!1;var _t35=this.getParent();if(Vr(this)&&this.isInline()&&_t35){var _n24=e.isBackward()?e.focus:e.anchor;if(_t35.is(_n24.getNode())&&_n24.offset===_t35.getChildrenSize()&&this.is(_t35.getLastChild()))return!1;}}return n;};_proto2.getKey=function getKey(){return this.__key;};_proto2.getIndexWithinParent=function getIndexWithinParent(){var t=this.getParent();if(null===t)return-1;var e=t.getFirstChild(),n=0;for(;null!==e;){if(this.is(e))return n;n++,e=e.getNextSibling();}return-1;};_proto2.getParent=function getParent(){var t=this.getLatest().__parent;return null===t?null:Ii(t);};_proto2.getParentOrThrow=function getParentOrThrow(){var e=this.getParent();return null===e&&t(66,this.__key),e;};_proto2.getTopLevelElement=function getTopLevelElement(){var e=this;for(;null!==e;){var _n25=e.getParent();if(So(_n25))return Yr(e)||e===this&&Vr(e)||t(194),e;e=_n25;}return null;};_proto2.getTopLevelElementOrThrow=function getTopLevelElementOrThrow(){var e=this.getTopLevelElement();return null===e&&t(67,this.__key),e;};_proto2.getParents=function getParents(){var t=[];var e=this.getParent();for(;null!==e;){t.push(e),e=e.getParent();}return t;};_proto2.getParentKeys=function getParentKeys(){var t=[];var e=this.getParent();for(;null!==e;){t.push(e.__key),e=e.getParent();}return t;};_proto2.getPreviousSibling=function getPreviousSibling(){var t=this.getLatest().__prev;return null===t?null:Ii(t);};_proto2.getPreviousSiblings=function getPreviousSiblings(){var t=[],e=this.getParent();if(null===e)return t;var n=e.getFirstChild();for(;null!==n&&!n.is(this);){t.push(n),n=n.getNextSibling();}return t;};_proto2.getNextSibling=function getNextSibling(){var t=this.getLatest().__next;return null===t?null:Ii(t);};_proto2.getNextSiblings=function getNextSiblings(){var t=[];var e=this.getNextSibling();for(;null!==e;){t.push(e),e=e.getNextSibling();}return t;};_proto2.getCommonAncestor=function getCommonAncestor(t){var e=Yr(this)?this:this.getParent(),n=Yr(t)?t:t.getParent(),r=e&&n?Ts(e,n):null;return r?r.commonAncestor:null;};_proto2.is=function is(t){return null!=t&&this.__key===t.__key;};_proto2.isBefore=function isBefore(e){var n=Ts(this,e);return null!==n&&("descendant"===n.type||("branch"===n.type?-1===Cs(n):("same"!==n.type&&"ancestor"!==n.type&&t(279),!1)));};_proto2.isParentOf=function isParentOf(t){var e=Ts(this,t);return null!==e&&"ancestor"===e.type;};_proto2.getNodesBetween=function getNodesBetween(e){var n=this.isBefore(e),r=[],i=new Set();var o=this;for(;null!==o;){var _s8=o.__key;if(i.has(_s8)||(i.add(_s8),r.push(o)),o===e)break;var _l4=Yr(o)?n?o.getFirstChild():o.getLastChild():null;if(null!==_l4){o=_l4;continue;}var _c5=n?o.getNextSibling():o.getPreviousSibling();if(null!==_c5){o=_c5;continue;}var _a4=o.getParentOrThrow();if(i.has(_a4.__key)||r.push(_a4),_a4===e)break;var _u4=null,_f3=_a4;do{if(null===_f3&&t(68),_u4=n?_f3.getNextSibling():_f3.getPreviousSibling(),_f3=_f3.getParent(),null===_f3)break;null!==_u4||i.has(_f3.__key)||r.push(_f3);}while(null===_u4);o=_u4;}return n||r.reverse(),r;};_proto2.isDirty=function isDirty(){var t=Mr()._dirtyLeaves;return null!==t&&t.has(this.__key);};_proto2.getLatest=function getLatest(){var e=Ii(this.__key);return null===e&&t(113),e;};_proto2.getWritable=function getWritable(){Er();var t=Or(),e=Mr(),n=t._nodeMap,r=this.__key,i=this.getLatest(),o=e._cloneNotNeeded,s=cr();if(null!==s&&s.setCachedNodes(null),o.has(r))return wi(i),i;var l=Wo(i);return o.add(r),wi(l),n.set(r,l),l;};_proto2.getTextContent=function getTextContent(){return"";};_proto2.getTextContentSize=function getTextContentSize(){return this.getTextContent().length;};_proto2.createDOM=function createDOM(e,n){t(70);};_proto2.updateDOM=function updateDOM(e,n,r){t(71);};_proto2.exportDOM=function exportDOM(t){return{element:this.createDOM(t._config,t)};};_proto2.exportJSON=function exportJSON(){var t=this.__state?this.__state.toJSON():void 0;return babelHelpers["extends"]({type:this.__type,version:1},t);};gn.importJSON=function importJSON(e){t(18,this.name);};_proto2.updateFromJSON=function updateFromJSON(t){return function(t,e){var n=t.getWritable();return(e||n.__state)&&Q(t).updateFromJSON(e),n;}(this,t.$);};gn.transform=function transform(){return null;};_proto2.remove=function remove(t){hn(this,!0,t);};_proto2.replace=function replace(e,n){Er();var r=cr();null!==r&&(r=r.clone()),vo(this,e);var i=this.getLatest(),o=this.__key,s=e.__key,l=e.getWritable(),c=this.getParentOrThrow().getWritable(),a=c.__size;Ai(l);var u=i.getPreviousSibling(),f=i.getNextSibling(),d=i.__prev,h=i.__next,g=i.__parent;if(hn(i,!1,!0),null===u)c.__first=s;else{u.getWritable().__next=s;}if(l.__prev=d,null===f)c.__last=s;else{f.getWritable().__prev=s;}if(l.__next=h,l.__parent=g,c.__size=a,n&&(Yr(this)&&Yr(l)||t(139),this.getChildren().forEach(function(t){l.append(t);})),jn(r)){$i(r);var _t36=r.anchor,_e35=r.focus;_t36.key===o&&Jn(_t36,l),_e35.key===o&&Jn(_e35,l);}return Pi()===o&&Di(s),l;};_proto2.insertAfter=function insertAfter(t,e){if(e===void 0){e=!0;}Er(),vo(this,t);var n=this.getWritable(),r=t.getWritable(),i=r.getParent(),o=cr();var s=!1,l=!1;if(null!==i){var _e36=t.getIndexWithinParent();if(Ai(r),jn(o)){var _t37=i.__key,_n26=o.anchor,_r18=o.focus;s="element"===_n26.type&&_n26.key===_t37&&_n26.offset===_e36+1,l="element"===_r18.type&&_r18.key===_t37&&_r18.offset===_e36+1;}}var c=this.getNextSibling(),a=this.getParentOrThrow().getWritable(),u=r.__key,f=n.__next;if(null===c)a.__last=u;else{c.getWritable().__prev=u;}if(a.__size++,n.__next=u,r.__next=f,r.__prev=n.__key,r.__parent=n.__parent,e&&jn(o)){var _t38=this.getIndexWithinParent();ur(o,a,_t38+1);var _e37=a.__key;s&&o.anchor.set(_e37,_t38+2,"element"),l&&o.focus.set(_e37,_t38+2,"element");}return t;};_proto2.insertBefore=function insertBefore(t,e){if(e===void 0){e=!0;}Er(),vo(this,t);var n=this.getWritable(),r=t.getWritable(),i=r.__key;Ai(r);var o=this.getPreviousSibling(),s=this.getParentOrThrow().getWritable(),l=n.__prev,c=this.getIndexWithinParent();if(null===o)s.__first=i;else{o.getWritable().__next=i;}s.__size++,n.__prev=i,r.__prev=l,r.__next=n.__key,r.__parent=n.__parent;var a=cr();if(e&&jn(a)){ur(a,this.getParentOrThrow(),c);}return t;};_proto2.isParentRequired=function isParentRequired(){return!1;};_proto2.createParentElementNode=function createParentElementNode(){return ci();};_proto2.selectStart=function selectStart(){return this.selectPrevious();};_proto2.selectEnd=function selectEnd(){return this.selectNext(0,0);};_proto2.selectPrevious=function selectPrevious(t,e){Er();var n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if(Yr(n))return n.select();if(!Fn(n)){var _t39=n.getIndexWithinParent()+1;return r.select(_t39,_t39);}return n.select(t,e);};_proto2.selectNext=function selectNext(t,e){Er();var n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if(Yr(n))return n.select(0,0);if(!Fn(n)){var _t40=n.getIndexWithinParent();return r.select(_t40,_t40);}return n.select(t,e);};_proto2.markDirty=function markDirty(){this.getWritable();};_proto2.reconcileObservedMutation=function reconcileObservedMutation(t,e){this.markDirty();};return gn;}();var pn=function(_gn){babelHelpers.inheritsLoose(pn,_gn);pn.getType=function getType(){return"linebreak";};pn.clone=function clone(t){return new pn(t.__key);};function pn(t){return _gn.call(this,t)||this;}var _proto3=pn.prototype;_proto3.getTextContent=function getTextContent(){return"\n";};_proto3.createDOM=function createDOM(){return document.createElement("br");};_proto3.updateDOM=function updateDOM(){return!1;};_proto3.isInline=function isInline(){return!0;};pn.importDOM=function importDOM(){return{br:function br(t){return function(t){var e=t.parentElement;if(null!==e&&Io(e)){var _n27=e.firstChild;if(_n27===t||_n27.nextSibling===t&&xn(_n27)){var _n28=e.lastChild;if(_n28===t||_n28.previousSibling===t&&xn(_n28))return!0;}}return!1;}(t)||function(t){var e=t.parentElement;if(null!==e&&Io(e)){var _n29=e.firstChild;if(_n29===t||_n29.nextSibling===t&&xn(_n29))return!1;var _r19=e.lastChild;if(_r19===t||_r19.previousSibling===t&&xn(_r19))return!0;}return!1;}(t)?null:{conversion:_n,priority:0};}};};pn.importJSON=function importJSON(t){return yn().updateFromJSON(t);};return pn;}(gn);function _n(t){return{node:yn()};}function yn(){return To(new pn());}function mn(t){return t instanceof pn;}function xn(t){return ki(t)&&/^( |\t|\r?\n)+$/.test(t.textContent||"");}function Cn(t,e){return 16&e?"code":e&_?"mark":32&e?"sub":64&e?"sup":null;}function Sn(t,e){return 1&e?"strong":2&e?"em":"span";}function Nn(t,e,n,r,i){var o=r.classList;var s=io(i,"base");void 0!==s&&o.add.apply(o,s),s=io(i,"underlineStrikethrough");var l=!1;var c=8&e&&4&e;void 0!==s&&(8&n&&4&n?(l=!0,c||o.add.apply(o,s)):c&&o.remove.apply(o,s));for(var _t41 in A){var _r20=A[_t41];if(s=io(i,_t41),void 0!==s)if(n&_r20){if(l&&("underline"===_t41||"strikethrough"===_t41)){e&_r20&&o.remove.apply(o,s);continue;}(0===(e&_r20)||c&&"underline"===_t41||"strikethrough"===_t41)&&o.add.apply(o,s);}else e&_r20&&o.remove.apply(o,s);}}function Tn(t,e,n){var r=e.firstChild,o=n.isComposing(),s=t+(o?T:"");if(null==r)e.textContent=s;else{var _t42=r.nodeValue;if(_t42!==s)if(o||i){var _ref9=function(t,e){var n=t.length,r=e.length;var i=0,o=0;for(;i<n&&i<r&&t[i]===e[i];){i++;}for(;o+i<n&&o+i<r&&t[n-o-1]===e[r-o-1];){o++;}return[i,n-i-o,e.slice(i,r-o)];}(_t42,s),_e38=_ref9[0],_n30=_ref9[1],_i15=_ref9[2];0!==_n30&&r.deleteData(_e38,_n30),r.insertData(_e38,_i15);}else r.nodeValue=s;}}function vn(t,e,n,r,i,o){Tn(i,t,e);var s=o.theme.text;void 0!==s&&Nn(0,0,r,t,s);}function kn(t,e){var n=document.createElement(e);return n.appendChild(t),n;}var En=function(_gn2){babelHelpers.inheritsLoose(En,_gn2);En.getType=function getType(){return"text";};En.clone=function clone(t){return new En(t.__text,t.__key);};var _proto4=En.prototype;_proto4.afterCloneFrom=function afterCloneFrom(t){_gn2.prototype.afterCloneFrom.call(this,t),this.__text=t.__text,this.__format=t.__format,this.__style=t.__style,this.__mode=t.__mode,this.__detail=t.__detail;};function En(t,e){var _this;if(t===void 0){t="";}_this=_gn2.call(this,e)||this,_this.__text=t,_this.__format=0,_this.__style="",_this.__mode=0,_this.__detail=0;return _this;}_proto4.getFormat=function getFormat(){return this.getLatest().__format;};_proto4.getDetail=function getDetail(){return this.getLatest().__detail;};_proto4.getMode=function getMode(){var t=this.getLatest();return L[t.__mode];};_proto4.getStyle=function getStyle(){return this.getLatest().__style;};_proto4.isToken=function isToken(){return 1===this.getLatest().__mode;};_proto4.isComposing=function isComposing(){return this.__key===Pi();};_proto4.isSegmented=function isSegmented(){return 2===this.getLatest().__mode;};_proto4.isDirectionless=function isDirectionless(){return!!(1&this.getLatest().__detail);};_proto4.isUnmergeable=function isUnmergeable(){return!!(2&this.getLatest().__detail);};_proto4.hasFormat=function hasFormat(t){var e=A[t];return 0!==(this.getFormat()&e);};_proto4.isSimpleText=function isSimpleText(){return"text"===this.__type&&0===this.__mode;};_proto4.getTextContent=function getTextContent(){return this.getLatest().__text;};_proto4.getFormatFlags=function getFormatFlags(t,e){return Oi(this.getLatest().__format,t,e);};_proto4.canHaveFormat=function canHaveFormat(){return!0;};_proto4.isInline=function isInline(){return!0;};_proto4.createDOM=function createDOM(t,e){var n=this.__format,r=Cn(0,n),i=Sn(0,n),o=null===r?i:r,s=document.createElement(o);var l=s;this.hasFormat("code")&&s.setAttribute("spellcheck","false"),null!==r&&(l=document.createElement(i),s.appendChild(l));vn(l,this,0,n,this.__text,t);var c=this.__style;return""!==c&&(s.style.cssText=c),s;};_proto4.updateDOM=function updateDOM(e,n,r){var i=this.__text,o=e.__format,s=this.__format,l=Cn(0,o),c=Cn(0,s),a=Sn(0,o),u=Sn(0,s);if((null===l?a:l)!==(null===c?u:c))return!0;if(l===c&&a!==u){var _e39=n.firstChild;null==_e39&&t(48);var _o0=document.createElement(u);return vn(_o0,this,0,s,i,r),n.replaceChild(_o0,_e39),!1;}var f=n;null!==c&&null!==l&&(f=n.firstChild,null==f&&t(49)),Tn(i,f,this);var d=r.theme.text;void 0!==d&&o!==s&&Nn(0,o,s,f,d);var h=e.__style,g=this.__style;return h!==g&&(n.style.cssText=g),!1;};En.importDOM=function importDOM(){return{"#text":function text(){return{conversion:wn,priority:0};},b:function b(){return{conversion:On,priority:0};},code:function code(){return{conversion:In,priority:0};},em:function em(){return{conversion:In,priority:0};},i:function i(){return{conversion:In,priority:0};},mark:function mark(){return{conversion:In,priority:0};},s:function s(){return{conversion:In,priority:0};},span:function span(){return{conversion:bn,priority:0};},strong:function strong(){return{conversion:In,priority:0};},sub:function sub(){return{conversion:In,priority:0};},sup:function sup(){return{conversion:In,priority:0};},u:function u(){return{conversion:In,priority:0};}};};En.importJSON=function importJSON(t){return Ln().updateFromJSON(t);};_proto4.updateFromJSON=function updateFromJSON(t){return _gn2.prototype.updateFromJSON.call(this,t).setTextContent(t.text).setFormat(t.format).setDetail(t.detail).setMode(t.mode).setStyle(t.style);};_proto4.exportDOM=function exportDOM(e){var _gn2$prototype$export=_gn2.prototype.exportDOM.call(this,e),n=_gn2$prototype$export.element;return Ao(n)||t(132),n.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?n.style.textTransform="lowercase":this.hasFormat("uppercase")?n.style.textTransform="uppercase":this.hasFormat("capitalize")&&(n.style.textTransform="capitalize"),this.hasFormat("bold")&&(n=kn(n,"b")),this.hasFormat("italic")&&(n=kn(n,"i")),this.hasFormat("strikethrough")&&(n=kn(n,"s")),this.hasFormat("underline")&&(n=kn(n,"u")),{element:n};};_proto4.exportJSON=function exportJSON(){return babelHelpers["extends"]({detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent()},_gn2.prototype.exportJSON.call(this));};_proto4.selectionTransform=function selectionTransform(t,e){};_proto4.setFormat=function setFormat(t){var e=this.getWritable();return e.__format="string"==typeof t?A[t]:t,e;};_proto4.setDetail=function setDetail(t){var e=this.getWritable();return e.__detail="string"==typeof t?w[t]:t,e;};_proto4.setStyle=function setStyle(t){var e=this.getWritable();return e.__style=t,e;};_proto4.toggleFormat=function toggleFormat(t){var e=Oi(this.getFormat(),t,null);return this.setFormat(e);};_proto4.toggleDirectionless=function toggleDirectionless(){var t=this.getWritable();return t.__detail^=1,t;};_proto4.toggleUnmergeable=function toggleUnmergeable(){var t=this.getWritable();return t.__detail^=2,t;};_proto4.setMode=function setMode(t){var e=I[t];if(this.__mode===e)return this;var n=this.getWritable();return n.__mode=e,n;};_proto4.setTextContent=function setTextContent(t){if(this.__text===t)return this;var e=this.getWritable();return e.__text=t,e;};_proto4.select=function select(t,e){Er();var n=t,r=e;var i=cr(),o=this.getTextContent(),s=this.__key;if("string"==typeof o){var _t43=o.length;void 0===n&&(n=_t43),void 0===r&&(r=_t43);}else n=0,r=0;if(!jn(i))return ir(s,n,s,r,"text","text");{var _t44=Pi();_t44!==i.anchor.key&&_t44!==i.focus.key||Di(s),i.setTextNodeRange(this,n,this,r);}return i;};_proto4.selectStart=function selectStart(){return this.select(0,0);};_proto4.selectEnd=function selectEnd(){var t=this.getTextContentSize();return this.select(t,t);};_proto4.spliceText=function spliceText(t,e,n,r){var i=this.getWritable(),o=i.__text,s=n.length;var l=t;l<0&&(l=s+l,l<0&&(l=0));var c=cr();if(r&&jn(c)){var _e40=t+s;c.setTextNodeRange(i,_e40,i,_e40);}var a=o.slice(0,l)+n+o.slice(l+e);return i.__text=a,i;};_proto4.canInsertTextBefore=function canInsertTextBefore(){return!0;};_proto4.canInsertTextAfter=function canInsertTextAfter(){return!0;};_proto4.splitText=function splitText(){Er();var e=this.getLatest(),n=e.getTextContent();if(""===n)return[];var r=e.__key,i=Pi(),o=n.length;for(var _len3=arguments.length,t=new Array(_len3),_key3=0;_key3<_len3;_key3++){t[_key3]=arguments[_key3];}t.sort(function(t,e){return t-e;}),t.push(o);var s=[],l=t.length;for(var _e41=0,_r21=0;_e41<o&&_r21<=l;_r21++){var _i16=t[_r21];_i16>_e41&&(s.push(n.slice(_e41,_i16)),_e41=_i16);}var c=s.length;if(1===c)return[e];var a=s[0],u=e.getParent();var f;var d=e.getFormat(),h=e.getStyle(),g=e.__detail;var p=!1,_=null,y=null;var m=cr();if(jn(m)){var _ref0=m.isBackward()?[m.focus,m.anchor]:[m.anchor,m.focus],_t45=_ref0[0],_e42=_ref0[1];"text"===_t45.type&&_t45.key===r&&(_=_t45),"text"===_e42.type&&_e42.key===r&&(y=_e42);}e.isSegmented()?(f=Ln(a),f.__format=d,f.__style=h,f.__detail=g,f.__state=rt(e,f),p=!0):f=e.setTextContent(a);var x=[f];for(var _t46=1;_t46<c;_t46++){var _n31=Ln(s[_t46]);_n31.__format=d,_n31.__style=h,_n31.__detail=g,_n31.__state=rt(e,_n31);var _o1=_n31.__key;i===r&&Di(_o1),x.push(_n31);}var C=_?_.offset:null,S=y?y.offset:null;var N=0;for(var _t47 of x){if(!_&&!y)break;var _e43=N+_t47.getTextContentSize();if(null!==_&&null!==C&&C<=_e43&&C>=N&&(_.set(_t47.getKey(),C-N,"text"),C<_e43&&(_=null)),null!==y&&null!==S&&S<=_e43&&S>=N){y.set(_t47.getKey(),S-N,"text");break;}N=_e43;}if(null!==u){!function(t){var e=t.getPreviousSibling(),n=t.getNextSibling();null!==e&&wi(e);null!==n&&wi(n);}(this);var _t48=u.getWritable(),_e44=this.getIndexWithinParent();p?(_t48.splice(_e44,0,x),this.remove()):_t48.splice(_e44,1,x),jn(m)&&ur(m,u,_e44,c-1);}return x;};_proto4.mergeWithSibling=function mergeWithSibling(e){var n=e===this.getPreviousSibling();n||e===this.getNextSibling()||t(50);var r=this.__key,i=e.__key,o=this.__text,s=o.length;Pi()===i&&Di(r);var l=cr();if(jn(l)){var _t49=l.anchor,_o10=l.focus;null!==_t49&&_t49.key===i&&hr(_t49,n,r,e,s),null!==_o10&&_o10.key===i&&hr(_o10,n,r,e,s);}var c=e.__text,a=n?c+o:o+c;this.setTextContent(a);var u=this.getWritable();return e.remove(),u;};_proto4.isTextEntity=function isTextEntity(){return!1;};return En;}(gn);function bn(t){return{forChild:Rn(t.style),node:null};}function On(t){var e=t,n="normal"===e.style.fontWeight;return{forChild:Rn(e.style,n?void 0:"bold"),node:null};}var Mn=new WeakMap();function An(t){if(!Ao(t))return!1;if("PRE"===t.nodeName)return!0;var e=t.style.whiteSpace;return"string"==typeof e&&e.startsWith("pre");}function wn(e){var n=e;null===e.parentElement&&t(129);var r=n.textContent||"";if(null!==function(t){var e,n=t.parentNode;var r=[t];for(;null!==n&&void 0===(e=Mn.get(n))&&!An(n);){r.push(n),n=n.parentNode;}var i=void 0===e?n:e;for(var _t50=0;_t50<r.length;_t50++){Mn.set(r[_t50],i);}return i;}(n)){var _t51=r.split(/(\r?\n|\t)/),_e45=[],_n32=_t51.length;for(var _r22=0;_r22<_n32;_r22++){var _n33=_t51[_r22];"\n"===_n33||"\r\n"===_n33?_e45.push(yn()):"\t"===_n33?_e45.push(Bn()):""!==_n33&&_e45.push(Ln(_n33));}return{node:_e45};}if(r=r.replace(/\r/g,"").replace(/[ \t\n]+/g," "),""===r)return{node:null};if(" "===r[0]){var _t52=n,_e46=!0;for(;null!==_t52&&null!==(_t52=Dn(_t52,!1));){var _n34=_t52.textContent||"";if(_n34.length>0){/[ \t\n]$/.test(_n34)&&(r=r.slice(1)),_e46=!1;break;}}_e46&&(r=r.slice(1));}if(" "===r[r.length-1]){var _t53=n,_e47=!0;for(;null!==_t53&&null!==(_t53=Dn(_t53,!0));){if((_t53.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){_e47=!1;break;}}_e47&&(r=r.slice(0,r.length-1));}return""===r?{node:null}:{node:Ln(r)};}function Dn(t,e){var n=t;for(;;){var _t54=void 0;for(;null===(_t54=e?n.nextSibling:n.previousSibling);){var _t55=n.parentElement;if(null===_t55)return null;n=_t55;}if(n=_t54,Ao(n)){var _t56=n.style.display;if(""===_t56&&!Po(n)||""!==_t56&&!_t56.startsWith("inline"))return null;}var _r23=n;for(;null!==(_r23=e?n.firstChild:n.lastChild);){n=_r23;}if(ki(n))return n;if("BR"===n.nodeName)return null;}}var Pn={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function In(t){var e=Pn[t.nodeName.toLowerCase()];return void 0===e?{node:null}:{forChild:Rn(t.style,e),node:null};}function Ln(t){if(t===void 0){t="";}return To(new En(t));}function Fn(t){return t instanceof En;}function Rn(t,e){var n=t.fontWeight,r=t.textDecoration.split(" "),i="700"===n||"bold"===n,o=r.includes("line-through"),s="italic"===t.fontStyle,l=r.includes("underline"),c=t.verticalAlign;return function(t){return Fn(t)?(i&&!t.hasFormat("bold")&&t.toggleFormat("bold"),o&&!t.hasFormat("strikethrough")&&t.toggleFormat("strikethrough"),s&&!t.hasFormat("italic")&&t.toggleFormat("italic"),l&&!t.hasFormat("underline")&&t.toggleFormat("underline"),"sub"!==c||t.hasFormat("subscript")||t.toggleFormat("subscript"),"super"!==c||t.hasFormat("superscript")||t.toggleFormat("superscript"),e&&!t.hasFormat(e)&&t.toggleFormat(e),t):t;};}var Kn=function(_En){babelHelpers.inheritsLoose(Kn,_En);Kn.getType=function getType(){return"tab";};Kn.clone=function clone(t){return new Kn(t.__key);};function Kn(t){var _this2;_this2=_En.call(this,"\t",t)||this,_this2.__detail=2;return _this2;}Kn.importDOM=function importDOM(){return null;};var _proto5=Kn.prototype;_proto5.createDOM=function createDOM(t){var e=_En.prototype.createDOM.call(this,t),n=io(t.theme,"tab");if(void 0!==n){var _e$classList;(_e$classList=e.classList).add.apply(_e$classList,n);}return e;};Kn.importJSON=function importJSON(t){return Bn().updateFromJSON(t);};_proto5.setTextContent=function setTextContent(e){return"\t"!==e&&""!==e&&t(126),_En.prototype.setTextContent.call(this,"\t");};_proto5.spliceText=function spliceText(e,n,r,i){return""===r&&0===n||"\t"===r&&1===n||t(286),this;};_proto5.setDetail=function setDetail(e){return 2!==e&&t(127),this;};_proto5.setMode=function setMode(e){return"normal"!==e&&t(128),this;};_proto5.canInsertTextBefore=function canInsertTextBefore(){return!1;};_proto5.canInsertTextAfter=function canInsertTextAfter(){return!1;};return Kn;}(En);function Bn(){return To(new Kn());}function zn(t){return t instanceof Kn;}var Wn=function(){function Wn(t,e,n){this._selection=null,this.key=t,this.offset=e,this.type=n;}var _proto6=Wn.prototype;_proto6.is=function is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type;};_proto6.isBefore=function isBefore(t){if(this.key===t.key)return this.offset<t.offset;return xs(Ps(vs(this,"next")),Ps(vs(t,"next")))<0;};_proto6.getNode=function getNode(){var e=Ii(this.key);return null===e&&t(20),e;};_proto6.set=function set(t,e,n,r){var i=this._selection,o=this.key;r&&this.key===t&&this.offset===e&&this.type===n||(this.key=t,this.offset=e,this.type=n,kr()||(Pi()===o&&Di(t),null!==i&&(i.setCachedNodes(null),i.dirty=!0)));};return Wn;}();function $n(t,e,n){return new Wn(t,e,n);}function Un(t,e){var n=e.__key,r=t.offset,i="element";if(Fn(e)){i="text";var _t57=e.getTextContentSize();r>_t57&&(r=_t57);}else if(!Yr(e)){var _t58=e.getNextSibling();if(Fn(_t58))n=_t58.__key,r=0,i="text";else{var _t59=e.getParent();_t59&&(n=_t59.__key,r=e.getIndexWithinParent()+1);}}t.set(n,r,i);}function Jn(t,e){if(Yr(e)){var _n35=e.getLastDescendant();Yr(_n35)||Fn(_n35)?Un(t,_n35):Un(t,e);}else Un(t,e);}var Yn=function(){function Yn(t){this._cachedNodes=null,this._nodes=t,this.dirty=!1;}var _proto7=Yn.prototype;_proto7.getCachedNodes=function getCachedNodes(){return this._cachedNodes;};_proto7.setCachedNodes=function setCachedNodes(t){this._cachedNodes=t;};_proto7.is=function is(t){if(!Vn(t))return!1;var e=this._nodes,n=t._nodes;return e.size===n.size&&Array.from(e).every(function(t){return n.has(t);});};_proto7.isCollapsed=function isCollapsed(){return!1;};_proto7.isBackward=function isBackward(){return!1;};_proto7.getStartEndPoints=function getStartEndPoints(){return null;};_proto7.add=function add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null;};_proto7["delete"]=function _delete(t){this.dirty=!0,this._nodes["delete"](t),this._cachedNodes=null;};_proto7.clear=function clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null;};_proto7.has=function has(t){return this._nodes.has(t);};_proto7.clone=function clone(){return new Yn(new Set(this._nodes));};_proto7.extract=function extract(){return this.getNodes();};_proto7.insertRawText=function insertRawText(t){};_proto7.insertText=function insertText(){};_proto7.insertNodes=function insertNodes(t){var e=this.getNodes(),n=e.length,r=e[n-1];var i;if(Fn(r))i=r.select();else{var _t60=r.getIndexWithinParent()+1;i=r.getParentOrThrow().select(_t60,_t60);}i.insertNodes(t);for(var _t61=0;_t61<n;_t61++){e[_t61].remove();}};_proto7.getNodes=function getNodes(){var t=this._cachedNodes;if(null!==t)return t;var e=this._nodes,n=[];for(var _t62 of e){var _e48=Ii(_t62);null!==_e48&&n.push(_e48);}return kr()||(this._cachedNodes=n),n;};_proto7.getTextContent=function getTextContent(){var t=this.getNodes();var e="";for(var _n36=0;_n36<t.length;_n36++){e+=t[_n36].getTextContent();}return e;};_proto7.deleteNodes=function deleteNodes(){var t=this.getNodes();if((cr()||ar())===this&&t[0]){var _e49=ss(t[0],"next");Es(ys(_e49,_e49));}for(var _e50 of t){_e50.remove();}};return Yn;}();function jn(t){return t instanceof Hn;}var Hn=function(){function Hn(t,e,n,r){this.anchor=t,this.focus=e,t._selection=this,e._selection=this,this._cachedNodes=null,this.format=n,this.style=r,this.dirty=!1;}var _proto8=Hn.prototype;_proto8.getCachedNodes=function getCachedNodes(){return this._cachedNodes;};_proto8.setCachedNodes=function setCachedNodes(t){this._cachedNodes=t;};_proto8.is=function is(t){return!!jn(t)&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style;};_proto8.isCollapsed=function isCollapsed(){return this.anchor.is(this.focus);};_proto8.getNodes=function getNodes(){var t=this._cachedNodes;if(null!==t)return t;var e=function(t){var e=[],_t$getTextSlices=t.getTextSlices(),n=_t$getTextSlices[0],r=_t$getTextSlices[1];n&&e.push(n.caret.origin);var i=new Set(),o=new Set();for(var _n37 of t){if(ns(_n37)){var _t63=_n37.origin;0===e.length?i.add(_t63):(o.add(_t63),e.push(_t63));}else{var _t64=_n37.origin;Yr(_t64)&&o.has(_t64)||e.push(_t64);}}r&&e.push(r.caret.origin);if(es(t.focus)&&Yr(t.focus.origin)&&null===t.focus.getNodeAtCaret())for(var _n38=us(t.focus.origin,"previous");ns(_n38)&&i.has(_n38.origin)&&!_n38.origin.isEmpty()&&_n38.origin.is(e[e.length-1]);_n38=ds(_n38)){i["delete"](_n38.origin),e.pop();}for(;e.length>1;){var _t65=e[e.length-1];if(!Yr(_t65)||o.has(_t65)||_t65.isEmpty()||i.has(_t65))break;e.pop();}if(0===e.length&&t.isCollapsed()){var _n39=Ps(t.anchor),_r24=Ps(t.anchor.getFlipped()),_i17=function _i17(t){return ts(t)?t.origin:t.getNodeAtCaret();},_o11=_i17(_n39)||_i17(_r24)||(t.anchor.getNodeAtCaret()?_n39.origin:_r24.origin);e.push(_o11);}return e;}(Fs(Os(this),"next"));return kr()||(this._cachedNodes=e),e;};_proto8.setTextNodeRange=function setTextNodeRange(t,e,n,r){this.anchor.set(t.__key,e,"text"),this.focus.set(n.__key,r,"text");};_proto8.getTextContent=function getTextContent(){var t=this.getNodes();if(0===t.length)return"";var e=t[0],n=t[t.length-1],r=this.anchor,i=this.focus,o=r.isBefore(i),_qn=qn(this),s=_qn[0],l=_qn[1];var c="",a=!0;for(var _u5=0;_u5<t.length;_u5++){var _f4=t[_u5];if(Yr(_f4)&&!_f4.isInline())a||(c+="\n"),a=!_f4.isEmpty();else if(a=!1,Fn(_f4)){var _t66=_f4.getTextContent();_f4===e?_f4===n?"element"===r.type&&"element"===i.type&&i.offset!==r.offset||(_t66=s<l?_t66.slice(s,l):_t66.slice(l,s)):_t66=o?_t66.slice(s):_t66.slice(l):_f4===n&&(_t66=o?_t66.slice(0,l):_t66.slice(0,s)),c+=_t66;}else!Vr(_f4)&&!mn(_f4)||_f4===n&&this.isCollapsed()||(c+=_f4.getTextContent());}return c;};_proto8.applyDOMRange=function applyDOMRange(t){var e=Mr(),n=e.getEditorState()._selection,r=rr(t.startContainer,t.startOffset,t.endContainer,t.endOffset,e,n);if(null===r)return;var i=r[0],o=r[1];this.anchor.set(i.key,i.offset,i.type,!0),this.focus.set(o.key,o.offset,o.type,!0),lt(this);};_proto8.clone=function clone(){var t=this.anchor,e=this.focus;return new Hn($n(t.key,t.offset,t.type),$n(e.key,e.offset,e.type),this.format,this.style);};_proto8.toggleFormat=function toggleFormat(t){this.format=Oi(this.format,t,null),this.dirty=!0;};_proto8.setFormat=function setFormat(t){this.format=t,this.dirty=!0;};_proto8.setStyle=function setStyle(t){this.style=t,this.dirty=!0;};_proto8.hasFormat=function hasFormat(t){var e=A[t];return 0!==(this.format&e);};_proto8.insertRawText=function insertRawText(t){var e=t.split(/(\r?\n|\t)/),n=[],r=e.length;for(var _t67=0;_t67<r;_t67++){var _r25=e[_t67];"\n"===_r25||"\r\n"===_r25?n.push(yn()):"\t"===_r25?n.push(Bn()):n.push(Ln(_r25));}this.insertNodes(n);};_proto8.insertText=function insertText(e){var n=this.anchor,r=this.focus,i=this.format,o=this.style;var s=n,l=r;!this.isCollapsed()&&r.isBefore(n)&&(s=r,l=n),"element"===s.type&&function(t,e,n,r){var i=t.getNode(),o=i.getChildAtIndex(t.offset),s=Ln(),l=qr(i)?ci().append(s):s;s.setFormat(n),s.setStyle(r),null===o?i.append(l):o.insertBefore(l),t.is(e)&&e.set(s.__key,0,"text"),t.set(s.__key,0,"text");}(s,l,i,o),"element"===l.type&&ks(l,Ps(vs(l,"next")));var c=s.offset;var a=l.offset;var u=this.getNodes(),f=u.length;var d=u[0];Fn(d)||t(26);var h=d.getTextContent().length,g=d.getParentOrThrow();var p=u[f-1];if(1===f&&"element"===l.type&&(a=h,l.set(s.key,a,"text")),this.isCollapsed()&&c===h&&(vi(d)||!d.canInsertTextAfter()||!g.canInsertTextAfter()&&null===d.getNextSibling())){var _t68=d.getNextSibling();if(Fn(_t68)&&_t68.canInsertTextBefore()&&!vi(_t68)||(_t68=Ln(),_t68.setFormat(i),_t68.setStyle(o),g.canInsertTextAfter()?d.insertAfter(_t68):g.insertAfter(_t68)),_t68.select(0,0),d=_t68,""!==e)return void this.insertText(e);}else if(this.isCollapsed()&&0===c&&(vi(d)||!d.canInsertTextBefore()||!g.canInsertTextBefore()&&null===d.getPreviousSibling())){var _t69=d.getPreviousSibling();if(Fn(_t69)&&!vi(_t69)||(_t69=Ln(),_t69.setFormat(i),g.canInsertTextBefore()?d.insertBefore(_t69):g.insertBefore(_t69)),_t69.select(),d=_t69,""!==e)return void this.insertText(e);}else if(d.isSegmented()&&c!==h){var _t70=Ln(d.getTextContent());_t70.setFormat(i),d.replace(_t70),d=_t70;}else if(!this.isCollapsed()&&""!==e){var _t71=p.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||Yr(_t71)&&(!_t71.canInsertTextBefore()||!_t71.canInsertTextAfter()))return this.insertText(""),nr(this.anchor,this.focus,null),void this.insertText(e);}if(1===f){if(Ti(d)){var _t73=Ln(e);return _t73.select(),void d.replace(_t73);}var _t72=d.getFormat(),_n40=d.getStyle();if(c!==a||_t72===i&&_n40===o){if(zn(d)){var _t74=Ln(e);return _t74.setFormat(i),_t74.setStyle(o),_t74.select(),void d.replace(_t74);}}else{if(""!==d.getTextContent()){var _t75=Ln(e);if(_t75.setFormat(i),_t75.setStyle(o),_t75.select(),0===c)d.insertBefore(_t75,!1);else{var _d$splitText=d.splitText(c),_e51=_d$splitText[0];_e51.insertAfter(_t75,!1);}return void(_t75.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length));}d.setFormat(i),d.setStyle(o);}var _r26=a-c;d=d.spliceText(c,_r26,e,!0),""===d.getTextContent()?d.remove():"text"===this.anchor.type&&(d.isComposing()?this.anchor.offset-=e.length:(this.format=_t72,this.style=_n40));}else{var _t76=new Set([].concat(d.getParentKeys(),p.getParentKeys())),_n41=Yr(d)?d:d.getParentOrThrow();var _r27=Yr(p)?p:p.getParentOrThrow(),_i18=p;if(!_n41.is(_r27)&&_r27.isInline())do{_i18=_r27,_r27=_r27.getParentOrThrow();}while(_r27.isInline());if("text"===l.type&&(0!==a||""===p.getTextContent())||"element"===l.type&&p.getIndexWithinParent()<a){if(Fn(p)&&!Ti(p)&&a!==p.getTextContentSize()){if(p.isSegmented()){var _t77=Ln(p.getTextContent());p.replace(_t77),p=_t77;}qr(l.getNode())||"text"!==l.type||(p=p.spliceText(0,a,"")),_t76.add(p.__key);}else{var _t78=p.getParentOrThrow();_t78.canBeEmpty()||1!==_t78.getChildrenSize()?p.remove():_t78.remove();}}else _t76.add(p.__key);var _o12=_r27.getChildren(),_s9=new Set(u),_g5=_n41.is(_r27),_3=_n41.isInline()&&null===d.getNextSibling()?_n41:d;for(var _t79=_o12.length-1;_t79>=0;_t79--){var _e52=_o12[_t79];if(_e52.is(d)||Yr(_e52)&&_e52.isParentOf(d))break;_e52.isAttached()&&(!_s9.has(_e52)||_e52.is(_i18)?_g5||_3.insertAfter(_e52,!1):_e52.remove());}if(!_g5){var _e53=_r27,_n42=null;for(;null!==_e53;){var _r28=_e53.getChildren(),_i19=_r28.length;(0===_i19||_r28[_i19-1].is(_n42))&&(_t76["delete"](_e53.__key),_n42=_e53),_e53=_e53.getParent();}}if(Ti(d)){if(c===h)d.select();else{var _t80=Ln(e);_t80.select(),d.replace(_t80);}}else d=d.spliceText(c,h-c,e,!0),""===d.getTextContent()?d.remove():d.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);for(var _e54=1;_e54<f;_e54++){var _n43=u[_e54],_r29=_n43.__key;_t76.has(_r29)||_n43.remove();}}};_proto8.removeText=function removeText(){var t=cr()===this;bs(this,Ds(Os(this))),t&&cr()!==this&&$i(this);};_proto8.formatText=function formatText(t,e){var _d$splitText2,_$splitText;if(e===void 0){e=null;}if(this.isCollapsed())return this.toggleFormat(t),void Di(null);var n=this.getNodes(),r=[];for(var _t81 of n){Fn(_t81)&&r.push(_t81);}var i=function i(e){n.forEach(function(n){if(Yr(n)){var _r30=n.getFormatFlags(t,e);n.setTextFormat(_r30);}});},o=r.length;if(0===o)return this.toggleFormat(t),Di(null),void i(e);var s=this.anchor,l=this.focus,c=this.isBackward(),a=c?l:s,u=c?s:l;var f=0,d=r[0],h="element"===a.type?0:a.offset;if("text"===a.type&&h===d.getTextContentSize()&&(f=1,d=r[1],h=0),null==d)return;var g=d.getFormatFlags(t,e);i(g);var p=o-1;var _=r[p];var y="text"===u.type?u.offset:_.getTextContentSize();if(d.is(_)){if(h===y)return;if(vi(d)||0===h&&y===d.getTextContentSize())d.setFormat(g);else{var _t82=d.splitText(h,y),_e55=0===h?_t82[0]:_t82[1];_e55.setFormat(g),"text"===a.type&&a.set(_e55.__key,0,"text"),"text"===u.type&&u.set(_e55.__key,y-h,"text");}return void(this.format=g);}0===h||vi(d)||(_d$splitText2=d.splitText(h),d=_d$splitText2[1],_d$splitText2,h=0),d.setFormat(g);var m=_.getFormatFlags(t,g);y>0&&(y===_.getTextContentSize()||vi(_)||(_$splitText=_.splitText(y),_=_$splitText[0],_$splitText),_.setFormat(m));for(var _e56=f+1;_e56<p;_e56++){var _n44=r[_e56],_i20=_n44.getFormatFlags(t,m);_n44.setFormat(_i20);}"text"===a.type&&a.set(d.__key,h,"text"),"text"===u.type&&u.set(_.__key,y,"text"),this.format=g|m;};_proto8.insertNodes=function insertNodes(e){if(0===e.length)return;if(this.isCollapsed()||this.removeText(),"root"===this.anchor.key){this.insertParagraph();var _n45=cr();return jn(_n45)||t(134),_n45.insertNodes(e);}var n=(this.isBackward()?this.focus:this.anchor).getNode(),r=Fo(n,Lo),i=e[e.length-1];if(Yr(r)&&"__language"in r){if("__language"in e[0])this.insertText(e[0].getTextContent());else{var _t83=_r(this);r.splice(_t83,0,e),i.selectEnd();}return;}if(!e.some(function(t){return(Yr(t)||Vr(t))&&!t.isInline();})){Yr(r)||t(211,n.constructor.name,n.getType());var _o13=_r(this);return r.splice(_o13,0,e),void i.selectEnd();}var o=function(t){var e=ci();var n=null;for(var _r31=0;_r31<t.length;_r31++){var _i21=t[_r31],_o14=mn(_i21);if(_o14||Vr(_i21)&&_i21.isInline()||Yr(_i21)&&_i21.isInline()||Fn(_i21)||_i21.isParentRequired()){if(null===n&&(n=_i21.createParentElementNode(),e.append(n),_o14))continue;null!==n&&n.append(_i21);}else e.append(_i21),n=null;}return e;}(e),s=o.getLastDescendant(),l=o.getChildren(),c=!Yr(r)||!r.isEmpty()?this.insertParagraph():null,a=l[l.length-1];var u=l[0];var f;Yr(f=u)&&Lo(f)&&!f.isEmpty()&&Yr(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&(Yr(r)||t(211,n.constructor.name,n.getType()),r.append.apply(r,u.getChildren()),u=l[1]),u&&(null===r&&t(212,n.constructor.name,n.getType()),function(e,n){var r=n.getParentOrThrow().getLastChild();var i=n;var o=[n];for(;i!==r;){i.getNextSibling()||t(140),i=i.getNextSibling(),o.push(i);}var s=e;for(var _t84 of o){s=s.insertAfter(_t84);}}(r,u));var d=Fo(s,Lo);c&&Yr(d)&&(c.canMergeWhenEmpty()||Lo(a))&&(d.append.apply(d,c.getChildren()),c.remove()),Yr(r)&&r.isEmpty()&&r.remove(),s.selectEnd();var h=Yr(r)?r.getLastChild():null;mn(h)&&d!==r&&h.remove();};_proto8.insertParagraph=function insertParagraph(){if("root"===this.anchor.key){var _t85=ci();return zi().splice(this.anchor.offset,0,[_t85]),_t85.select(),_t85;}var e=_r(this),n=Fo(this.anchor.getNode(),Lo);Yr(n)||t(213);var r=n.getChildAtIndex(e),i=r?[r].concat(r.getNextSiblings()):[],o=n.insertNewAfter(this,!1);return o?(o.append.apply(o,i),o.selectStart(),o):null;};_proto8.insertLineBreak=function insertLineBreak(t){var e=yn();if(this.insertNodes([e]),t){var _t86=e.getParentOrThrow(),_n46=e.getIndexWithinParent();_t86.select(_n46,_n46);}};_proto8.extract=function extract(){var t=this.getNodes(),e=t.length,n=e-1,r=this.anchor,i=this.focus;var o=t[0],s=t[n];var _qn2=qn(this),l=_qn2[0],c=_qn2[1];if(0===e)return[];if(1===e){if(Fn(o)&&!this.isCollapsed()){var _t87=l>c?c:l,_e57=l>c?l:c,_n47=o.splitText(_t87,_e57),_r32=0===_t87?_n47[0]:_n47[1];return null!=_r32?[_r32]:[];}return[o];}var a=r.isBefore(i);if(Fn(o)){var _o$splitText;var _e58=a?l:c;_e58===o.getTextContentSize()?t.shift():0!==_e58&&(_o$splitText=o.splitText(_e58),o=_o$splitText[1],_o$splitText,t[0]=o);}if(Fn(s)){var _s$splitText;var _e59=s.getTextContent().length,_r33=a?c:l;0===_r33?t.pop():_r33!==_e59&&(_s$splitText=s.splitText(_r33),s=_s$splitText[0],_s$splitText,t[n]=s);}return t;};_proto8.modify=function modify(t,e,n){if(mr(this,t,e,n))return;var r="move"===t,i=Mr(),o=Oo(xo(i));if(!o)return;var s=i._blockCursorElement,l=i._rootElement,c=this.focus.getNode();if(null===l||null===s||!Yr(c)||c.isInline()||c.canBeEmpty()||bo(s,i,l),this.dirty){var _t88=fo(i,this.anchor.key),_e60=fo(i,this.focus.key);"text"===this.anchor.type&&(_t88=bi(_t88)),"text"===this.focus.type&&(_e60=bi(_e60)),_t88&&_e60&&gr(o,_t88,this.anchor.offset,_e60,this.focus.offset);}if(function(t,e,n,r){t.modify(e,n,r);}(o,t,e?"backward":"forward",n),o.rangeCount>0){var _t89=o.getRangeAt(0),_n48=this.anchor.getNode(),_i22=qr(_n48)?_n48:Co(_n48);if(this.applyDOMRange(_t89),this.dirty=!0,!r){var _n49=this.getNodes(),_r34=[];var _s0=!1;for(var _t90=0;_t90<_n49.length;_t90++){var _e61=_n49[_t90];yo(_e61,_i22)?_r34.push(_e61):_s0=!0;}if(_s0&&_r34.length>0)if(e){var _t91=_r34[0];Yr(_t91)?_t91.selectStart():_t91.getParentOrThrow().selectStart();}else{var _t92=_r34[_r34.length-1];Yr(_t92)?_t92.selectEnd():_t92.getParentOrThrow().selectEnd();}o.anchorNode===_t89.startContainer&&o.anchorOffset===_t89.startOffset||function(t){var e=t.focus,n=t.anchor,r=n.key,i=n.offset,o=n.type;n.set(e.key,e.offset,e.type,!0),e.set(r,i,o,!0);}(this);}}"lineboundary"===n&&mr(this,t,e,n,"decorators");};_proto8.forwardDeletion=function forwardDeletion(t,e,n){if(!n&&("element"===t.type&&Yr(e)&&t.offset===e.getChildrenSize()||"text"===t.type&&t.offset===e.getTextContentSize())){var _t93=e.getParent(),_n50=e.getNextSibling()||(null===_t93?null:_t93.getNextSibling());if(Yr(_n50)&&_n50.isShadowRoot())return!0;}return!1;};_proto8.deleteCharacter=function deleteCharacter(t){var e=this.isCollapsed();if(this.isCollapsed()){var _e62=this.anchor;var _n51=_e62.getNode();if(this.forwardDeletion(_e62,_n51,t))return;var _r35=ps(vs(_e62,t?"previous":"next"));if(_r35.getTextSlices().every(function(t){return null===t||0===t.distance;})){var _t94={type:"initial"};for(var _e63 of _r35.iterNodeCarets("shadowRoot")){if(ns(_e63)){if(_e63.origin.isInline());else{if(_e63.origin.isShadowRoot()){if("merge-block"===_t94.type)break;if(Yr(_r35.anchor.origin)&&_r35.anchor.origin.isEmpty()){var _t95=Ps(_e63);bs(this,ys(_t95,_t95)),_r35.anchor.origin.remove();}return;}"merge-next-block"!==_t94.type&&"merge-block"!==_t94.type||(_t94={block:_t94.block,caret:_e63,type:"merge-block"});}}else{if("merge-block"===_t94.type)break;if(es(_e63)){if(Yr(_e63.origin)){if(_e63.origin.isInline()){if(!_e63.origin.isParentOf(_r35.anchor.origin))break;}else _t94={block:_e63.origin,type:"merge-next-block"};continue;}if(Vr(_e63.origin)){if(_e63.origin.isIsolated());else if("merge-next-block"===_t94.type&&(_e63.origin.isKeyboardSelectable()||!_e63.origin.isInline())&&Yr(_r35.anchor.origin)&&_r35.anchor.origin.isEmpty()){_r35.anchor.origin.remove();var _t96=sr();_t96.add(_e63.origin.getKey()),$i(_t96);}else _e63.origin.remove();return;}break;}}}if("merge-block"===_t94.type){var _t97=_t94,_e64=_t97.caret,_n52=_t97.block;return bs(this,ys(!_e64.origin.isEmpty()&&_n52.isEmpty()?Ms(ss(_n52,_e64.direction)):_r35.anchor,_e64)),this.removeText();}}var _i23=this.focus;if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&0===_e62.offset&&Xn(this,_e62.getNode()))return;}else{var _r36="text"===_i23.type?_i23.getNode():null;if(_n51="text"===_e62.type?_e62.getNode():null,null!==_r36&&_r36.isSegmented()){var _e65=_i23.offset,_o15=_r36.getTextContentSize();if(_r36.is(_n51)||t&&_e65!==_o15||!t&&0!==_e65)return void Zn(_r36,t,_e65);}else if(null!==_n51&&_n51.isSegmented()){var _i24=_e62.offset,_o16=_n51.getTextContentSize();if(_n51.is(_r36)||t&&0!==_i24||!t&&_i24!==_o16)return void Zn(_n51,t,_i24);}!function(t,e){var n=t.anchor,r=t.focus,i=n.getNode(),o=r.getNode();if(i===o&&"text"===n.type&&"text"===r.type){var _t98=n.offset,_o17=r.offset,_s1=_t98<_o17,_l5=_s1?_t98:_o17,_c6=_s1?_o17:_t98,_a5=_c6-1;if(_l5!==_a5){(function(t){return!(Yi(t)||Qn(t));})(i.getTextContent().slice(_l5,_c6))&&(e?r.set(r.key,_a5,r.type):n.set(n.key,_a5,n.type));}}}(this,t);}}if(this.removeText(),t&&!e&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){var _t99=this.anchor.getNode();_t99.isEmpty()&&qr(_t99.getParent())&&null===_t99.getPreviousSibling()&&Xn(this,_t99);}};_proto8.deleteLine=function deleteLine(t){this.isCollapsed()&&this.modify("extend",t,"lineboundary"),this.isCollapsed()?this.deleteCharacter(t):this.removeText();};_proto8.deleteWord=function deleteWord(t){if(this.isCollapsed()){var _e66=this.anchor,_n53=_e66.getNode();if(this.forwardDeletion(_e66,_n53,t))return;this.modify("extend",t,"word");}this.removeText();};_proto8.isBackward=function isBackward(){return this.focus.isBefore(this.anchor);};_proto8.getStartEndPoints=function getStartEndPoints(){return[this.anchor,this.focus];};return Hn;}();function Vn(t){return t instanceof Yn;}function Gn(t){var e=t.offset;if("text"===t.type)return e;var n=t.getNode();return e===n.getChildrenSize()?n.getTextContent().length:0;}function qn(t){var e=t.getStartEndPoints();if(null===e)return[0,0];var n=e[0],r=e[1];return"element"===n.type&&"element"===r.type&&n.key===r.key&&n.offset===r.offset?[0,0]:[Gn(n),Gn(r)];}function Xn(t,e){for(var _n54=e;_n54;_n54=_n54.getParent()){if(Yr(_n54)){if(_n54.collapseAtStart(t))return!0;if(So(_n54))break;}if(_n54.getPreviousSibling())break;}return!1;}var Qn=function(){try{var _t100=new RegExp("\\p{Emoji}","u"),_e67=_t100.test.bind(_t100);if(_e67("❤️")&&_e67("#️⃣")&&_e67("👍"))return _e67;}catch(t){}return function(){return!1;};}();function Zn(t,e,n){var r=t,i=r.getTextContent().split(/(?=\s)/g),o=i.length;var s=0,l=0;for(var _t101=0;_t101<o;_t101++){var _r37=_t101===o-1;if(l=s,s+=i[_t101].length,e&&s===n||s>n||_r37){i.splice(_t101,1),_r37&&(l=void 0);break;}}var c=i.join("").trim();""===c?r.remove():(r.setTextContent(c),r.select(l,l));}function tr(e,n,r,i){var o,s=n;if(Ao(e)){var _l6=!1;var _c7=e.childNodes,_a6=_c7.length,_u6=i._blockCursorElement;s===_a6&&(_l6=!0,s=_a6-1);var _f5=_c7[s],_d5=!1;if(_f5===_u6)_f5=_c7[s+1],_d5=!0;else if(null!==_u6){var _t102=_u6.parentNode;if(e===_t102){n>Array.prototype.indexOf.call(_t102.children,_u6)&&s--;}}if(o=Ui(_f5),Fn(o))s=Ji(o,_l6);else{var _c8=Ui(e);if(null===_c8)return null;if(Yr(_c8)){var _u7$resolveChildIndex;var _a7=i.getElementByKey(_c8.getKey());null===_a7&&t(214);var _u7=_c8.getDOMSlot(_a7);_u7$resolveChildIndex=_u7.resolveChildIndex(_c8,_a7,e,n),_c8=_u7$resolveChildIndex[0],s=_u7$resolveChildIndex[1],_u7$resolveChildIndex,Yr(_c8)||t(215),_l6&&s>=_c8.getChildrenSize()&&(s=Math.max(0,_c8.getChildrenSize()-1));var _f6=_c8.getChildAtIndex(s);if(Yr(_f6)&&function(t,e,n){var r=t.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode();}(_f6,0,r)){var _t103=_l6?_f6.getLastDescendant():_f6.getFirstDescendant();null===_t103?_c8=_f6:(_f6=_t103,_c8=Yr(_f6)?_f6:_f6.getParentOrThrow()),s=0;}Fn(_f6)?(o=_f6,_c8=null,s=Ji(_f6,_l6)):_f6!==_c8&&_l6&&!_d5&&(Yr(_c8)||t(216),s=Math.min(_c8.getChildrenSize(),s+1));}else{var _t104=_c8.getIndexWithinParent();s=0===n&&Vr(_c8)&&Ui(e)===_c8?_t104:_t104+1,_c8=_c8.getParentOrThrow();}if(Yr(_c8))return $n(_c8.__key,s,"element");}}else o=Ui(e);return Fn(o)?$n(o.__key,s,"text"):null;}function er(t,e,n){var r=t.offset,i=t.getNode();if(0===r){var _r38=i.getPreviousSibling(),_o18=i.getParent();if(e){if((n||!e)&&null===_r38&&Yr(_o18)&&_o18.isInline()){var _e68=_o18.getPreviousSibling();Fn(_e68)&&t.set(_e68.__key,_e68.getTextContent().length,"text");}}else Yr(_r38)&&!n&&_r38.isInline()?t.set(_r38.__key,_r38.getChildrenSize(),"element"):Fn(_r38)&&t.set(_r38.__key,_r38.getTextContent().length,"text");}else if(r===i.getTextContent().length){var _r39=i.getNextSibling(),_o19=i.getParent();if(e&&Yr(_r39)&&_r39.isInline())t.set(_r39.__key,0,"element");else if((n||e)&&null===_r39&&Yr(_o19)&&_o19.isInline()&&!_o19.canInsertTextAfter()){var _e69=_o19.getNextSibling();Fn(_e69)&&t.set(_e69.__key,0,"text");}}}function nr(t,e,n){if("text"===t.type&&"text"===e.type){var _r40=t.isBefore(e),_i25=t.is(e);er(t,_r40,_i25),er(e,!_r40,_i25),_i25&&e.set(t.key,t.offset,t.type);var _o20=Mr();if(_o20.isComposing()&&_o20._compositionKey!==t.key&&jn(n)){var _r41=n.anchor,_i26=n.focus;t.set(_r41.key,_r41.offset,_r41.type,!0),e.set(_i26.key,_i26.offset,_i26.type,!0);}}}function rr(t,e,n,r,i,o){if(null===t||null===n||!xi(i,t,n))return null;var s=tr(t,e,jn(o)?o.anchor:null,i);if(null===s)return null;var l=tr(n,r,jn(o)?o.focus:null,i);if(null===l)return null;if("element"===s.type&&"element"===l.type){var _e70=Ui(t),_r42=Ui(n);if(Vr(_e70)&&Vr(_r42))return null;}return nr(s,l,o),[s,l];}function ir(t,e,n,r,i,o){var s=Or(),l=new Hn($n(t,e,i),$n(n,r,o),0,"");return l.dirty=!0,s._selection=l,l;}function or(){var t=$n("root",0,"element"),e=$n("root",0,"element");return new Hn(t,e,0,"");}function sr(){return new Yn(new Set());}function lr(t,e,n,r){var i=n._window;if(null===i)return null;var o=r||i.event,s=o?o.type:void 0,l="selectionchange"===s,c=!K&&(l||"beforeinput"===s||"compositionstart"===s||"compositionend"===s||"click"===s&&o&&3===o.detail||"drop"===s||void 0===s);var a,u,f,d;if(jn(t)&&!c)return t.clone();if(null===e)return null;if(a=e.anchorNode,u=e.focusNode,f=e.anchorOffset,d=e.focusOffset,l&&jn(t)&&!xi(n,a,u))return t.clone();var h=rr(a,f,u,d,n,t);if(null===h)return null;var g=h[0],p=h[1];return new Hn(g,p,jn(t)?t.format:0,jn(t)?t.style:"");}function cr(){return Or()._selection;}function ar(){return Mr()._editorState._selection;}function ur(t,e,n,r){if(r===void 0){r=1;}var i=t.anchor,o=t.focus,s=i.getNode(),l=o.getNode();if(!e.is(s)&&!e.is(l))return;var c=e.__key;if(t.isCollapsed()){var _e71=i.offset;if(n<=_e71&&r>0||n<_e71&&r<0){var _n55=Math.max(0,_e71+r);i.set(c,_n55,"element"),o.set(c,_n55,"element"),fr(t);}}else{var _s10=t.isBackward(),_l7=_s10?o:i,_a8=_l7.getNode(),_u8=_s10?i:o,_f7=_u8.getNode();if(e.is(_a8)){var _t105=_l7.offset;(n<=_t105&&r>0||n<_t105&&r<0)&&_l7.set(c,Math.max(0,_t105+r),"element");}if(e.is(_f7)){var _t106=_u8.offset;(n<=_t106&&r>0||n<_t106&&r<0)&&_u8.set(c,Math.max(0,_t106+r),"element");}}fr(t);}function fr(t){var e=t.anchor,n=e.offset,r=t.focus,i=r.offset,o=e.getNode(),s=r.getNode();if(t.isCollapsed()){if(!Yr(o))return;var _t107=o.getChildrenSize(),_i27=n>=_t107,_s11=_i27?o.getChildAtIndex(_t107-1):o.getChildAtIndex(n);if(Fn(_s11)){var _t108=0;_i27&&(_t108=_s11.getTextContentSize()),e.set(_s11.__key,_t108,"text"),r.set(_s11.__key,_t108,"text");}return;}if(Yr(o)){var _t109=o.getChildrenSize(),_r43=n>=_t109,_i28=_r43?o.getChildAtIndex(_t109-1):o.getChildAtIndex(n);if(Fn(_i28)){var _t110=0;_r43&&(_t110=_i28.getTextContentSize()),e.set(_i28.__key,_t110,"text");}}if(Yr(s)){var _t111=s.getChildrenSize(),_e72=i>=_t111,_n56=_e72?s.getChildAtIndex(_t111-1):s.getChildAtIndex(i);if(Fn(_n56)){var _t112=0;_e72&&(_t112=_n56.getTextContentSize()),r.set(_n56.__key,_t112,"text");}}}function dr(t,e,n,r,i){var o=null,s=0,l=null;null!==r?(o=r.__key,Fn(r)?(s=r.getTextContentSize(),l="text"):Yr(r)&&(s=r.getChildrenSize(),l="element")):null!==i&&(o=i.__key,Fn(i)?l="text":Yr(i)&&(l="element")),null!==o&&null!==l?t.set(o,s,l):(s=e.getIndexWithinParent(),-1===s&&(s=n.getChildrenSize()),t.set(n.__key,s,"element"));}function hr(t,e,n,r,i){"text"===t.type?t.set(n,t.offset+(e?0:i),"text"):t.offset>r.getIndexWithinParent()&&t.set(t.key,t.offset-1,"element");}function gr(t,e,n,r,i){try{t.setBaseAndExtent(e,n,r,i);}catch(t){}}function pr(t,e,n,r,i,o,s){var l=r.anchorNode,c=r.focusNode,a=r.anchorOffset,u=r.focusOffset,f=document.activeElement;if(i.has(ni)&&f!==o||null!==f&&mi(f))return;if(!jn(e))return void(null!==t&&xi(n,l,c)&&r.removeAllRanges());var d=e.anchor,h=e.focus,g=d.key,p=h.key,_=fo(n,g),y=fo(n,p),m=d.offset,x=h.offset,C=e.format,S=e.style,N=e.isCollapsed();var T=_,v=y,k=!1;if("text"===d.type){T=bi(_);var _t113=d.getNode();k=_t113.getFormat()!==C||_t113.getStyle()!==S;}else jn(t)&&"text"===t.anchor.type&&(k=!0);var E,b,O,M,A;if(("text"===h.type&&(v=bi(y)),null!==T&&null!==v)&&(N&&(null===t||k||jn(t)&&(t.format!==C||t.style!==S))&&(E=C,b=S,O=m,M=g,A=performance.now(),Xe=[E,b,O,M,A]),a!==m||u!==x||l!==T||c!==v||"Range"===r.type&&N||(null!==f&&o.contains(f)||o.focus({preventScroll:!0}),"element"===d.type))){if(gr(r,T,m,v,x),!i.has(ri)&&e.isCollapsed()&&null!==o&&o===document.activeElement){var _t114=jn(e)&&"element"===e.anchor.type?T.childNodes[m]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==_t114){var _e73;if(_t114 instanceof Text){var _n57=document.createRange();_n57.selectNode(_t114),_e73=_n57.getBoundingClientRect();}else _e73=_t114.getBoundingClientRect();!function(t,e,n){var r=go(n),i=mo(r);if(null===r||null===i)return;var o=e.top,s=e.bottom,l=0,c=0,a=n;for(;null!==a;){var _e74=a===r.body;if(_e74)l=0,c=xo(t).innerHeight;else{var _t115=a.getBoundingClientRect();l=_t115.top,c=_t115.bottom;}var _n58=0;if(o<l?_n58=-(l-o):s>c&&(_n58=s-c),0!==_n58)if(_e74)i.scrollBy(0,_n58);else{var _t116=a.scrollTop;a.scrollTop+=_n58;var _e75=a.scrollTop-_t116;o-=_e75,s-=_e75;}if(_e74)break;a=ho(a);}}(n,_e73,o);}}Je=!0;}}function _r(e){var n=e;e.isCollapsed()||n.removeText();var r=cr();jn(r)&&(n=r),jn(n)||t(161);var i=n.anchor;var o=i.getNode(),s=i.offset;for(;!Lo(o);){var _yr;var _t117=o;if(_yr=yr(o,s),o=_yr[0],s=_yr[1],_yr,_t117.is(o))break;}return s;}function yr(t,e){var n=t.getParent();if(!n){var _t118=ci();return zi().append(_t118),_t118.select(),[zi(),0];}if(Fn(t)){var _r44=t.splitText(e);if(0===_r44.length)return[n,t.getIndexWithinParent()];var _i29=0===e?0:1;return[n,_r44[0].getIndexWithinParent()+_i29];}if(!Yr(t)||0===e)return[n,t.getIndexWithinParent()];var r=t.getChildAtIndex(e);if(r){var _n59=new Hn($n(t.__key,e,"element"),$n(t.__key,e,"element"),0,""),_i30=t.insertNewAfter(_n59);_i30&&_i30.append.apply(_i30,[r].concat(r.getNextSiblings()));}return[n,t.getIndexWithinParent()+1];}function mr(t,e,n,r,i){if(i===void 0){i="decorators-and-blocks";}if("move"===e&&"character"===r&&!t.isCollapsed()){var _ref1=n===t.isBackward()?[t.focus,t.anchor]:[t.anchor,t.focus],_e76=_ref1[0],_r45=_ref1[1];return _r45.set(_e76.key,_e76.offset,_e76.type),!0;}var o=vs(t.focus,n?"previous":"next"),s="lineboundary"===r,l="move"===e;var c=o,a="decorators-and-blocks"===i;if(!Is(c)){for(var _t119 of c){a=!1;var _e77=_t119.origin;if(!Vr(_e77)||_e77.isIsolated()||(c=_t119,!s||!_e77.isInline()))break;}if(a)for(var _t120 of ps(o).iterNodeCarets("extend"===e?"shadowRoot":"root")){if(ns(_t120))_t120.origin.isInline()||(c=_t120);else{if(Yr(_t120.origin))continue;Vr(_t120.origin)&&!_t120.origin.isInline()&&(c=_t120);}break;}}if(c===o)return!1;if(l&&!s&&Vr(c.origin)&&c.origin.isKeyboardSelectable()){var _t121=sr();return _t121.add(c.origin.getKey()),$i(_t121),!0;}return c=Ps(c),l&&ks(t.anchor,c),ks(t.focus,c),a||!s;}var xr=null,Cr=null,Sr=!1,Nr=!1,Tr=0;var vr={characterData:!0,childList:!0,subtree:!0};function kr(){return Sr||null!==xr&&xr._readOnly;}function Er(){Sr&&t(13);}function br(){Tr>99&&t(14);}function Or(){return null===xr&&t(195,Ar()),xr;}function Mr(){return null===Cr&&t(196,Ar()),Cr;}function Ar(){var t=0;var e=new Set(),n=ui.version;if("undefined"!=typeof window)for(var _r46 of document.querySelectorAll("[contenteditable]")){var _i31=Ni(_r46);if(Ci(_i31))t++;else if(_i31){var _t122=String(_i31.constructor.version||"<0.17.1");_t122===n&&(_t122+=" (separately built, likely a bundler configuration issue)"),e.add(_t122);}}var r=" Detected on the page: "+t+" compatible editor(s) with version "+n;return e.size&&(r+=" and incompatible editors with versions "+Array.from(e).join(", ")),r;}function wr(){return Cr;}function Dr(t,e,n){var r=e.__type,i=gi(t,r);var o=n.get(r);void 0===o&&(o=Array.from(i.transforms),n.set(r,o));var s=o.length;for(var _t123=0;_t123<s&&(o[_t123](e),e.isAttached());_t123++){;}}function Pr(t,e){return void 0!==t&&t.__key!==e&&t.isAttached();}function Ir(t,e){if(!e)return;var n=t._updateTags;var r=e;Array.isArray(e)||(r=[e]);for(var _t124 of r){n.add(_t124);}}function Lr(e,n){var r=e.type,i=n.get(r);void 0===i&&t(17,r);var o=i.klass;e.type!==o.getType()&&t(18,o.name);var s=o.importJSON(e),l=e.children;if(Yr(s)&&Array.isArray(l))for(var _t125=0;_t125<l.length;_t125++){var _e78=Lr(l[_t125],n);s.append(_e78);}return s;}function Fr(t,e,n){var r=xr,i=Sr,o=Cr;xr=e,Sr=!0,Cr=t;try{return n();}finally{xr=r,Sr=i,Cr=o;}}function Rr(t,e){var n=t._pendingEditorState,r=t._rootElement,i=t._headless||null===r;if(null===n)return;var o=t._editorState,s=o._selection,l=n._selection,c=0!==t._dirtyType,a=xr,u=Sr,f=Cr,h=t._updating,g=t._observer;var p=null;if(t._pendingEditorState=null,t._editorState=n,!i&&c&&null!==g){Cr=t,xr=n,Sr=!1,t._updating=!0;try{var _e79=t._dirtyType,_r47=t._dirtyElements,_i32=t._dirtyLeaves;g.disconnect(),p=Ut(o,n,t,_e79,_r47,_i32);}catch(e){if(e instanceof Error&&t._onError(e),Nr)throw e;return ai(t,null,r,n),H(t),t._dirtyType=2,Nr=!0,Rr(t,o),void(Nr=!1);}finally{g.observe(r,vr),t._updating=h,xr=a,Sr=u,Cr=f;}}n._readOnly||(n._readOnly=!0);var _=t._dirtyLeaves,y=t._dirtyElements,m=t._normalizedNodes,x=t._updateTags,C=t._deferred;c&&(t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set(),t._dirtyElements=new Map(),t._normalizedNodes=new Set(),t._updateTags=new Set()),function(t,e){var n=t._decorators;var r=t._pendingDecorators||n;var i=e._nodeMap;var o;for(o in r){i.has(o)||(r===n&&(r=Ki(t)),delete r[o]);}}(t,n);var S=i?null:Oo(xo(t));if(t._editable&&null!==S&&(c||null===l||l.dirty)&&null!==r&&!x.has(ii)){Cr=t,xr=n;try{if(null!==g&&g.disconnect(),c||null===l||l.dirty){var _e80=t._blockCursorElement;null!==_e80&&bo(_e80,t,r),pr(s,l,t,S,x,r);}!function(t,e,n){var r=t._blockCursorElement;if(jn(n)&&n.isCollapsed()&&"element"===n.anchor.type&&e.contains(document.activeElement)){var _i33=n.anchor,_o21=_i33.getNode(),_s12=_i33.offset;var _l8=!1,_c9=null;if(_s12===_o21.getChildrenSize()){Eo(_o21.getChildAtIndex(_s12-1))&&(_l8=!0);}else{var _e81=_o21.getChildAtIndex(_s12);if(null!==_e81&&Eo(_e81)){var _n60=_e81.getPreviousSibling();(null===_n60||Eo(_n60))&&(_l8=!0,_c9=t.getElementByKey(_e81.__key));}}if(_l8){var _n61=t.getElementByKey(_o21.__key);return null===r&&(t._blockCursorElement=r=function(t){var e=t.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");var r=e.blockCursor;if(void 0!==r){var _n$classList;if("string"==typeof r){var _t126=d(r);r=e.blockCursor=_t126;}void 0!==r&&(_n$classList=n.classList).add.apply(_n$classList,r);}return n;}(t._config)),e.style.caretColor="transparent",void(null===_c9?_n61.appendChild(r):_n61.insertBefore(r,_c9));}}null!==r&&bo(r,t,e);}(t,r,l);}finally{null!==g&&g.observe(r,vr),Cr=f,xr=a;}}null!==p&&function(t,e,n,r,i){var o=Array.from(t._listeners.mutation),s=o.length;for(var _t127=0;_t127<s;_t127++){var _o$_t=o[_t127],_s13=_o$_t[0],_l9=_o$_t[1];for(var _t128 of _l9){var _o22=e.get(_t128);void 0!==_o22&&_s13(_o22,{dirtyLeaves:r,prevEditorState:i,updateTags:n});}}}(t,p,x,_,o),jn(l)||null===l||null!==s&&s.is(l)||t.dispatchCommand(jt,void 0);var N=t._pendingDecorators;null!==N&&(t._decorators=N,t._pendingDecorators=null,Kr("decorator",t,!0,N)),function(t,e,n){var r=Bi(e),i=Bi(n);r!==i&&Kr("textcontent",t,!0,i);}(t,e||o,n),Kr("update",t,!0,{dirtyElements:y,dirtyLeaves:_,editorState:n,mutatedNodes:p,normalizedNodes:m,prevEditorState:e||o,tags:x}),function(t,e){if(t._deferred=[],0!==e.length){var _n62=t._updating;t._updating=!0;try{for(var _t129=0;_t129<e.length;_t129++){e[_t129]();}}finally{t._updating=_n62;}}}(t,C),function(t){var e=t._updates;if(0!==e.length){var _n63=e.shift();if(_n63){var _e82=_n63[0],_r48=_n63[1];zr(t,_e82,_r48);}}}(t);}function Kr(t,e,n){var i=e._updating;e._updating=n;try{var _n64=Array.from(e._listeners[t]);for(var _len4=arguments.length,r=new Array(_len4>3?_len4-3:0),_key4=3;_key4<_len4;_key4++){r[_key4-3]=arguments[_key4];}for(var _t130=0;_t130<_n64.length;_t130++){_n64[_t130].apply(null,r);}}finally{e._updating=i;}}function Br(e,n){var r=e._updates;var i=n||!1;for(;0!==r.length;){var _n65=r.shift();if(_n65){var _r49=_n65[0],_o23=_n65[1];var _s14=void 0;if(void 0!==_o23){if(_s14=_o23.onUpdate,_o23.skipTransforms&&(i=!0),_o23.discrete){var _n66=e._pendingEditorState;null===_n66&&t(191),_n66._flushSync=!0;}_s14&&e._deferred.push(_s14),Ir(e,_o23.tag);}_r49();}}return i;}function zr(e,n,r){var i=e._updateTags;var o,s=!1,l=!1;void 0!==r&&(o=r.onUpdate,Ir(e,r.tag),s=r.skipTransforms||!1,l=r.discrete||!1),o&&e._deferred.push(o);var c=e._editorState;var a=e._pendingEditorState,u=!1;(null===a||a._readOnly)&&(a=e._pendingEditorState=Xr(a||c),u=!0),a._flushSync=l;var f=xr,d=Sr,h=Cr,g=e._updating;xr=a,Sr=!1,e._updating=!0,Cr=e;var p=e._headless||null===e.getRootElement();di(null);try{u&&(p?null!==c._selection&&(a._selection=c._selection.clone()):a._selection=function(t,e){var n=t.getEditorState()._selection,r=Oo(xo(t));return jn(n)||null==n?lr(n,r,t,e):n.clone();}(e,r&&r.event||null));var _i34=e._compositionKey;n(),s=Br(e,s),function(t,e){var n=e.getEditorState()._selection,r=t._selection;if(jn(r)){var _t131=r.anchor,_e83=r.focus;var _i35;if("text"===_t131.type&&(_i35=_t131.getNode(),_i35.selectionTransform(n,r)),"text"===_e83.type){var _t132=_e83.getNode();_i35!==_t132&&_t132.selectionTransform(n,r);}}}(a,e),0!==e._dirtyType&&(s?function(t,e){var n=e._dirtyLeaves,r=t._nodeMap;for(var _t133 of n){var _e84=r.get(_t133);Fn(_e84)&&_e84.isAttached()&&_e84.isSimpleText()&&!_e84.isUnmergeable()&&st(_e84);}}(a,e):function(t,e){var n=e._dirtyLeaves,r=e._dirtyElements,i=t._nodeMap,o=Pi(),s=new Map();var l=n,c=l.size,a=r,u=a.size;for(;c>0||u>0;){if(c>0){e._dirtyLeaves=new Set();for(var _t134 of l){var _r50=i.get(_t134);Fn(_r50)&&_r50.isAttached()&&_r50.isSimpleText()&&!_r50.isUnmergeable()&&st(_r50),void 0!==_r50&&Pr(_r50,o)&&Dr(e,_r50,s),n.add(_t134);}if(l=e._dirtyLeaves,c=l.size,c>0){Tr++;continue;}}e._dirtyLeaves=new Set(),e._dirtyElements=new Map(),a["delete"]("root")&&a.set("root",!0);for(var _t135 of a){var _n67=_t135[0],_l0=_t135[1];if(r.set(_n67,_l0),!_l0)continue;var _c0=i.get(_n67);void 0!==_c0&&Pr(_c0,o)&&Dr(e,_c0,s);}l=e._dirtyLeaves,c=l.size,a=e._dirtyElements,u=a.size,Tr++;}e._dirtyLeaves=n,e._dirtyElements=r;}(a,e),Br(e),function(t,e,n,r){var i=t._nodeMap,o=e._nodeMap,s=[];for(var _ref10 of r){var _t136=_ref10[0];var _e85=o.get(_t136);void 0!==_e85&&(_e85.isAttached()||(Yr(_e85)&&R(_e85,_t136,i,o,s,r),i.has(_t136)||r["delete"](_t136),s.push(_t136)));}for(var _t137 of s){o["delete"](_t137);}for(var _t138 of n){var _e86=o.get(_t138);void 0===_e86||_e86.isAttached()||(i.has(_t138)||n["delete"](_t138),o["delete"](_t138));}}(c,a,e._dirtyLeaves,e._dirtyElements));_i34!==e._compositionKey&&(a._flushSync=!0);var _o24=a._selection;if(jn(_o24)){var _e87=a._nodeMap,_n68=_o24.anchor.key,_r51=_o24.focus.key;void 0!==_e87.get(_n68)&&void 0!==_e87.get(_r51)||t(19);}else Vn(_o24)&&0===_o24._nodes.size&&(a._selection=null);}catch(t){return t instanceof Error&&e._onError(t),e._pendingEditorState=c,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set(),e._dirtyElements.clear(),void Rr(e);}finally{xr=f,Sr=d,Cr=h,e._updating=g,Tr=0;}var _=0!==e._dirtyType||e._deferred.length>0||function(t,e){var n=e.getEditorState()._selection,r=t._selection;if(null!==r){if(r.dirty||!r.is(n))return!0;}else if(null!==n)return!0;return!1;}(a,e);_?a._flushSync?(a._flushSync=!1,Rr(e)):u&&_i(function(){Rr(e);}):(a._flushSync=!1,u&&(i.clear(),e._deferred=[],e._pendingEditorState=null));}function Wr(t,e,n){Cr===t&&void 0===n?e():zr(t,e,n);}var $r=function(){function $r(t,e,n){this.element=t,this.before=e||null,this.after=n||null;}var _proto9=$r.prototype;_proto9.withBefore=function withBefore(t){return new $r(this.element,t,this.after);};_proto9.withAfter=function withAfter(t){return new $r(this.element,this.before,t);};_proto9.withElement=function withElement(t){return this.element===t?this:new $r(t,this.before,this.after);};_proto9.insertChild=function insertChild(e){var n=this.before||this.getManagedLineBreak();return null!==n&&n.parentElement!==this.element&&t(222),this.element.insertBefore(e,n),this;};_proto9.removeChild=function removeChild(e){return e.parentElement!==this.element&&t(223),this.element.removeChild(e),this;};_proto9.replaceChild=function replaceChild(e,n){return n.parentElement!==this.element&&t(224),this.element.replaceChild(e,n),this;};_proto9.getFirstChild=function getFirstChild(){var t=this.after?this.after.nextSibling:this.element.firstChild;return t===this.before||t===this.getManagedLineBreak()?null:t;};_proto9.getManagedLineBreak=function getManagedLineBreak(){return this.element.__lexicalLineBreak||null;};_proto9.setManagedLineBreak=function setManagedLineBreak(t){if(null===t)this.removeManagedLineBreak();else{var _e88="decorator"===t&&(l||s);this.insertManagedLineBreak(_e88);}};_proto9.removeManagedLineBreak=function removeManagedLineBreak(){var t=this.getManagedLineBreak();if(t){var _e89=this.element,_n69="IMG"===t.nodeName?t.nextSibling:null;_n69&&_e89.removeChild(_n69),_e89.removeChild(t),_e89.__lexicalLineBreak=void 0;}};_proto9.insertManagedLineBreak=function insertManagedLineBreak(t){var e=this.getManagedLineBreak();if(e){if(t===("IMG"===e.nodeName))return;this.removeManagedLineBreak();}var n=this.element,r=this.before,i=document.createElement("br");if(n.insertBefore(i,r),t){var _t139=document.createElement("img");_t139.setAttribute("data-lexical-linebreak","true"),_t139.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",_t139.alt="",n.insertBefore(_t139,i),n.__lexicalLineBreak=_t139;}else n.__lexicalLineBreak=i;};_proto9.getFirstChildOffset=function getFirstChildOffset(){var t=0;for(var _e90=this.after;null!==_e90;_e90=_e90.previousSibling){t++;}return t;};_proto9.resolveChildIndex=function resolveChildIndex(t,e,n,r){if(n===this.element){var _e91=this.getFirstChildOffset();return[t,Math.min(_e91+t.getChildrenSize(),Math.max(_e91,r))];}var i=Ur(e,n);i.push(r);var o=Ur(e,this.element);var s=t.getIndexWithinParent();for(var _t140=0;_t140<o.length;_t140++){var _e92=i[_t140],_n70=o[_t140];if(void 0===_e92||_e92<_n70)break;if(_e92>_n70){s+=1;break;}}return[t.getParentOrThrow(),s];};return $r;}();function Ur(e,n){var r=[];var i=n;for(;i!==e&&null!==i;i=i.parentNode){var _t141=0;for(var _e93=i.previousSibling;null!==_e93;_e93=_e93.previousSibling){_t141++;}r.push(_t141);}return i!==e&&t(225),r.reverse();}var Jr=function(_gn3){babelHelpers.inheritsLoose(Jr,_gn3);function Jr(t){var _this3;_this3=_gn3.call(this,t)||this,_this3.__first=null,_this3.__last=null,_this3.__size=0,_this3.__format=0,_this3.__style="",_this3.__indent=0,_this3.__dir=null,_this3.__textFormat=0,_this3.__textStyle="";return _this3;}var _proto0=Jr.prototype;_proto0.afterCloneFrom=function afterCloneFrom(t){_gn3.prototype.afterCloneFrom.call(this,t),this.__key===t.__key&&(this.__first=t.__first,this.__last=t.__last,this.__size=t.__size),this.__indent=t.__indent,this.__format=t.__format,this.__style=t.__style,this.__dir=t.__dir,this.__textFormat=t.__textFormat,this.__textStyle=t.__textStyle;};_proto0.getFormat=function getFormat(){return this.getLatest().__format;};_proto0.getFormatType=function getFormatType(){var t=this.getFormat();return P[t]||"";};_proto0.getStyle=function getStyle(){return this.getLatest().__style;};_proto0.getIndent=function getIndent(){return this.getLatest().__indent;};_proto0.getChildren=function getChildren(){var t=[];var e=this.getFirstChild();for(;null!==e;){t.push(e),e=e.getNextSibling();}return t;};_proto0.getChildrenKeys=function getChildrenKeys(){var t=[];var e=this.getFirstChild();for(;null!==e;){t.push(e.__key),e=e.getNextSibling();}return t;};_proto0.getChildrenSize=function getChildrenSize(){return this.getLatest().__size;};_proto0.isEmpty=function isEmpty(){return 0===this.getChildrenSize();};_proto0.isDirty=function isDirty(){var t=Mr()._dirtyElements;return null!==t&&t.has(this.__key);};_proto0.isLastChild=function isLastChild(){var t=this.getLatest(),e=this.getParentOrThrow().getLastChild();return null!==e&&e.is(t);};_proto0.getAllTextNodes=function getAllTextNodes(){var t=[];var e=this.getFirstChild();for(;null!==e;){if(Fn(e)&&t.push(e),Yr(e)){var _n71=e.getAllTextNodes();t.push.apply(t,_n71);}e=e.getNextSibling();}return t;};_proto0.getFirstDescendant=function getFirstDescendant(){var t=this.getFirstChild();for(;Yr(t);){var _e94=t.getFirstChild();if(null===_e94)break;t=_e94;}return t;};_proto0.getLastDescendant=function getLastDescendant(){var t=this.getLastChild();for(;Yr(t);){var _e95=t.getLastChild();if(null===_e95)break;t=_e95;}return t;};_proto0.getDescendantByIndex=function getDescendantByIndex(t){var e=this.getChildren(),n=e.length;if(t>=n){var _t142=e[n-1];return Yr(_t142)&&_t142.getLastDescendant()||_t142||null;}var r=e[t];return Yr(r)&&r.getFirstDescendant()||r||null;};_proto0.getFirstChild=function getFirstChild(){var t=this.getLatest().__first;return null===t?null:Ii(t);};_proto0.getFirstChildOrThrow=function getFirstChildOrThrow(){var e=this.getFirstChild();return null===e&&t(45,this.__key),e;};_proto0.getLastChild=function getLastChild(){var t=this.getLatest().__last;return null===t?null:Ii(t);};_proto0.getLastChildOrThrow=function getLastChildOrThrow(){var e=this.getLastChild();return null===e&&t(96,this.__key),e;};_proto0.getChildAtIndex=function getChildAtIndex(t){var e=this.getChildrenSize();var n,r;if(t<e/2){for(n=this.getFirstChild(),r=0;null!==n&&r<=t;){if(r===t)return n;n=n.getNextSibling(),r++;}return null;}for(n=this.getLastChild(),r=e-1;null!==n&&r>=t;){if(r===t)return n;n=n.getPreviousSibling(),r--;}return null;};_proto0.getTextContent=function getTextContent(){var t="";var e=this.getChildren(),n=e.length;for(var _r52=0;_r52<n;_r52++){var _i36=e[_r52];t+=_i36.getTextContent(),Yr(_i36)&&_r52!==n-1&&!_i36.isInline()&&(t+=v);}return t;};_proto0.getTextContentSize=function getTextContentSize(){var t=0;var e=this.getChildren(),n=e.length;for(var _r53=0;_r53<n;_r53++){var _i37=e[_r53];t+=_i37.getTextContentSize(),Yr(_i37)&&_r53!==n-1&&!_i37.isInline()&&(t+=2);}return t;};_proto0.getDirection=function getDirection(){return this.getLatest().__dir;};_proto0.getTextFormat=function getTextFormat(){return this.getLatest().__textFormat;};_proto0.hasFormat=function hasFormat(t){if(""!==t){var _e96=D[t];return 0!==(this.getFormat()&_e96);}return!1;};_proto0.hasTextFormat=function hasTextFormat(t){var e=A[t];return 0!==(this.getTextFormat()&e);};_proto0.getFormatFlags=function getFormatFlags(t,e){return Oi(this.getLatest().__textFormat,t,e);};_proto0.getTextStyle=function getTextStyle(){return this.getLatest().__textStyle;};_proto0.select=function select(t,e){Er();var n=cr();var r=t,i=e;var o=this.getChildrenSize();if(!this.canBeEmpty())if(0===t&&0===e){var _t143=this.getFirstChild();if(Fn(_t143)||Yr(_t143))return _t143.select(0,0);}else if(!(void 0!==t&&t!==o||void 0!==e&&e!==o)){var _t144=this.getLastChild();if(Fn(_t144)||Yr(_t144))return _t144.select();}void 0===r&&(r=o),void 0===i&&(i=o);var s=this.__key;return jn(n)?(n.anchor.set(s,r,"element"),n.focus.set(s,i,"element"),n.dirty=!0,n):ir(s,r,s,i,"element","element");};_proto0.selectStart=function selectStart(){var t=this.getFirstDescendant();return t?t.selectStart():this.select();};_proto0.selectEnd=function selectEnd(){var t=this.getLastDescendant();return t?t.selectEnd():this.select();};_proto0.clear=function clear(){var t=this.getWritable();return this.getChildren().forEach(function(t){return t.remove();}),t;};_proto0.append=function append(){for(var _len5=arguments.length,t=new Array(_len5),_key5=0;_key5<_len5;_key5++){t[_key5]=arguments[_key5];}return this.splice(this.getChildrenSize(),0,t);};_proto0.setDirection=function setDirection(t){var e=this.getWritable();return e.__dir=t,e;};_proto0.setFormat=function setFormat(t){return this.getWritable().__format=""!==t?D[t]:0,this;};_proto0.setStyle=function setStyle(t){return this.getWritable().__style=t||"",this;};_proto0.setTextFormat=function setTextFormat(t){var e=this.getWritable();return e.__textFormat=t,e;};_proto0.setTextStyle=function setTextStyle(t){var e=this.getWritable();return e.__textStyle=t,e;};_proto0.setIndent=function setIndent(t){return this.getWritable().__indent=t,this;};_proto0.splice=function splice(e,n,r){var i=r.length,o=this.getChildrenSize(),s=this.getWritable();e+n<=o||t(226,String(e),String(n),String(o));var l=s.__key,c=[],a=[],u=this.getChildAtIndex(e+n);var f=null,d=o-n+i;if(0!==e)if(e===o)f=this.getLastChild();else{var _t145=this.getChildAtIndex(e);null!==_t145&&(f=_t145.getPreviousSibling());}if(n>0){var _e97=null===f?this.getFirstChild():f.getNextSibling();for(var _r54=0;_r54<n;_r54++){null===_e97&&t(100);var _n72=_e97.getNextSibling(),_r55=_e97.__key;Ai(_e97.getWritable()),a.push(_r55),_e97=_n72;}}var h=f;for(var _e98=0;_e98<i;_e98++){var _n73=r[_e98];null!==h&&_n73.is(h)&&(f=h=h.getPreviousSibling());var _i38=_n73.getWritable();_i38.__parent===l&&d--,Ai(_i38);var _o25=_n73.__key;if(null===h)s.__first=_o25,_i38.__prev=null;else{var _t146=h.getWritable();_t146.__next=_o25,_i38.__prev=_t146.__key;}_n73.__key===l&&t(76),_i38.__parent=l,c.push(_o25),h=_n73;}if(e+n===o){if(null!==h){h.getWritable().__next=null,s.__last=h.__key;}}else if(null!==u){var _t147=u.getWritable();if(null!==h){var _e99=h.getWritable();_t147.__prev=h.__key,_e99.__next=u.__key;}else _t147.__prev=null;}if(s.__size=d,a.length){var _t148=cr();if(jn(_t148)){var _e100=new Set(a),_n74=new Set(c),_r56=_t148.anchor,_i39=_t148.focus;jr(_r56,_e100,_n74)&&dr(_r56,_r56.getNode(),this,f,u),jr(_i39,_e100,_n74)&&dr(_i39,_i39.getNode(),this,f,u),0!==d||this.canBeEmpty()||So(this)||this.remove();}}return s;};_proto0.getDOMSlot=function getDOMSlot(t){return new $r(t);};_proto0.exportDOM=function exportDOM(t){var _gn3$prototype$export=_gn3.prototype.exportDOM.call(this,t),e=_gn3$prototype$export.element;if(Ao(e)){var _t149=this.getIndent();_t149>0&&(e.style.paddingInlineStart=40*_t149+"px");var _n75=this.getDirection();_n75&&(e.dir=_n75);}return{element:e};};_proto0.exportJSON=function exportJSON(){var t=babelHelpers["extends"]({children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent()},_gn3.prototype.exportJSON.call(this)),e=this.getTextFormat(),n=this.getTextStyle();return 0!==e&&(t.textFormat=e),""!==n&&(t.textStyle=n),t;};_proto0.updateFromJSON=function updateFromJSON(t){return _gn3.prototype.updateFromJSON.call(this,t).setFormat(t.format).setIndent(t.indent).setDirection(t.direction).setTextFormat(t.textFormat||0).setTextStyle(t.textStyle||"");};_proto0.insertNewAfter=function insertNewAfter(t,e){return null;};_proto0.canIndent=function canIndent(){return!0;};_proto0.collapseAtStart=function collapseAtStart(t){return!1;};_proto0.excludeFromCopy=function excludeFromCopy(t){return!1;};_proto0.canReplaceWith=function canReplaceWith(t){return!0;};_proto0.canInsertAfter=function canInsertAfter(t){return!0;};_proto0.canBeEmpty=function canBeEmpty(){return!0;};_proto0.canInsertTextBefore=function canInsertTextBefore(){return!0;};_proto0.canInsertTextAfter=function canInsertTextAfter(){return!0;};_proto0.isInline=function isInline(){return!1;};_proto0.isShadowRoot=function isShadowRoot(){return!1;};_proto0.canMergeWith=function canMergeWith(t){return!1;};_proto0.extractWithChild=function extractWithChild(t,e,n){return!1;};_proto0.canMergeWhenEmpty=function canMergeWhenEmpty(){return!1;};_proto0.reconcileObservedMutation=function reconcileObservedMutation(t,e){var n=this.getDOMSlot(t);var r=n.getFirstChild();for(var _t150=this.getFirstChild();_t150;_t150=_t150.getNextSibling()){var _i40=e.getElementByKey(_t150.getKey());null!==_i40&&(null==r?(n.insertChild(_i40),r=_i40):r!==_i40&&n.replaceChild(_i40,r),r=r.nextSibling);}};return Jr;}(gn);function Yr(t){return t instanceof Jr;}function jr(t,e,n){var r=t.getNode();for(;r;){var _t151=r.__key;if(e.has(_t151)&&!n.has(_t151))return!0;r=r.getParent();}return!1;}var Hr=function(_gn4){babelHelpers.inheritsLoose(Hr,_gn4);function Hr(){return _gn4.apply(this,arguments)||this;}var _proto1=Hr.prototype;_proto1.decorate=function decorate(e,n){t(47);};_proto1.isIsolated=function isIsolated(){return!1;};_proto1.isInline=function isInline(){return!0;};_proto1.isKeyboardSelectable=function isKeyboardSelectable(){return!0;};return Hr;}(gn);function Vr(t){return t instanceof Hr;}var Gr=function(_Jr){babelHelpers.inheritsLoose(Gr,_Jr);Gr.getType=function getType(){return"root";};Gr.clone=function clone(){return new Gr();};function Gr(){var _this4;_this4=_Jr.call(this,"root")||this,_this4.__cachedText=null;return _this4;}var _proto10=Gr.prototype;_proto10.getTopLevelElementOrThrow=function getTopLevelElementOrThrow(){t(51);};_proto10.getTextContent=function getTextContent(){var t=this.__cachedText;return!kr()&&0!==Mr()._dirtyType||null===t?_Jr.prototype.getTextContent.call(this):t;};_proto10.remove=function remove(){t(52);};_proto10.replace=function replace(e){t(53);};_proto10.insertBefore=function insertBefore(e){t(54);};_proto10.insertAfter=function insertAfter(e){t(55);};_proto10.updateDOM=function updateDOM(t,e){return!1;};_proto10.splice=function splice(e,n,r){for(var _e101 of r){Yr(_e101)||Vr(_e101)||t(282);}return _Jr.prototype.splice.call(this,e,n,r);};Gr.importJSON=function importJSON(t){return zi().updateFromJSON(t);};_proto10.collapseAtStart=function collapseAtStart(){return!0;};return Gr;}(Jr);function qr(t){return t instanceof Gr;}function Xr(t){return new ti(new Map(t._nodeMap));}function Qr(){return new ti(new Map([["root",new Gr()]]));}function Zr(e){var n=e.exportJSON(),r=e.constructor;if(n.type!==r.getType()&&t(130,r.name),Yr(e)){var _i41=n.children;Array.isArray(_i41)||t(59,r.name);var _o26=e.getChildren();for(var _t152=0;_t152<_o26.length;_t152++){var _e102=Zr(_o26[_t152]);_i41.push(_e102);}}return n;}var ti=function(){function ti(t,e){this._nodeMap=t,this._selection=e||null,this._flushSync=!1,this._readOnly=!1;}var _proto11=ti.prototype;_proto11.isEmpty=function isEmpty(){return 1===this._nodeMap.size&&null===this._selection;};_proto11.read=function read(t,e){return Fr(e&&e.editor||null,this,t);};_proto11.clone=function clone(t){var e=new ti(this._nodeMap,void 0===t?this._selection:t);return e._readOnly=!0,e;};_proto11.toJSON=function toJSON(){return Fr(null,this,function(){return{root:Zr(zi())};});};return ti;}();var ei="history-merge",ni="collaboration",ri="skip-scroll-into-view",ii="skip-dom-selection";var oi=function(_Jr2){babelHelpers.inheritsLoose(oi,_Jr2);function oi(){return _Jr2.apply(this,arguments)||this;}oi.getType=function getType(){return"artificial";};var _proto12=oi.prototype;_proto12.createDOM=function createDOM(t){return document.createElement("div");};return oi;}(Jr);var si=function(_Jr3){babelHelpers.inheritsLoose(si,_Jr3);function si(){return _Jr3.apply(this,arguments)||this;}si.getType=function getType(){return"paragraph";};si.clone=function clone(t){return new si(t.__key);};var _proto13=si.prototype;_proto13.createDOM=function createDOM(t){var e=document.createElement("p"),n=io(t.theme,"paragraph");if(void 0!==n){var _e$classList2;(_e$classList2=e.classList).add.apply(_e$classList2,n);}return e;};_proto13.updateDOM=function updateDOM(t,e,n){return!1;};si.importDOM=function importDOM(){return{p:function p(t){return{conversion:li,priority:0};}};};_proto13.exportDOM=function exportDOM(t){var _Jr3$prototype$export=_Jr3.prototype.exportDOM.call(this,t),e=_Jr3$prototype$export.element;if(Ao(e)){this.isEmpty()&&e.append(document.createElement("br"));var _t153=this.getFormatType();_t153&&(e.style.textAlign=_t153);}return{element:e};};si.importJSON=function importJSON(t){return ci().updateFromJSON(t);};_proto13.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_Jr3.prototype.exportJSON.call(this),{textFormat:this.getTextFormat(),textStyle:this.getTextStyle()});};_proto13.insertNewAfter=function insertNewAfter(t,e){var n=ci();n.setTextFormat(t.format),n.setTextStyle(t.style);var r=this.getDirection();return n.setDirection(r),n.setFormat(this.getFormatType()),n.setStyle(this.getStyle()),this.insertAfter(n,e),n;};_proto13.collapseAtStart=function collapseAtStart(){var t=this.getChildren();if(0===t.length||Fn(t[0])&&""===t[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0;}return!1;};return si;}(Jr);function li(t){var e=ci();return t.style&&(e.setFormat(t.style.textAlign),$o(t,e)),{node:e};}function ci(){return To(new si());}function ai(t,e,n,r){var i=t._keyToDOMMap;i.clear(),t._editorState=Qr(),t._pendingEditorState=r,t._compositionKey=null,t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set(),t._dirtyElements.clear(),t._normalizedNodes=new Set(),t._updateTags=new Set(),t._updates=[],t._blockCursorElement=null;var o=t._observer;null!==o&&(o.disconnect(),t._observer=null),null!==e&&(e.textContent=""),null!==n&&(n.textContent="",i.set("root",n));}var ui=function(){function ui(t,e,n,r,i,o,s,l){this._createEditorArgs=l,this._parentEditor=e,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map(),this._updates=[],this._updating=!1,this._listeners={decorator:new Set(),editable:new Set(),mutation:new Map(),root:new Set(),textcontent:new Set(),update:new Set()},this._commands=new Map(),this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set(),this._dirtyLeaves=new Set(),this._dirtyElements=new Map(),this._normalizedNodes=new Set(),this._updateTags=new Set(),this._observer=null,this._key=Hi(),this._onError=i,this._htmlConversions=o,this._editable=s,this._headless=null!==e&&e._headless,this._window=null,this._blockCursorElement=null;}var _proto14=ui.prototype;_proto14.isComposing=function isComposing(){return null!=this._compositionKey;};_proto14.registerUpdateListener=function registerUpdateListener(t){var e=this._listeners.update;return e.add(t),function(){e["delete"](t);};};_proto14.registerEditableListener=function registerEditableListener(t){var e=this._listeners.editable;return e.add(t),function(){e["delete"](t);};};_proto14.registerDecoratorListener=function registerDecoratorListener(t){var e=this._listeners.decorator;return e.add(t),function(){e["delete"](t);};};_proto14.registerTextContentListener=function registerTextContentListener(t){var e=this._listeners.textcontent;return e.add(t),function(){e["delete"](t);};};_proto14.registerRootListener=function registerRootListener(t){var _this13=this;var e=this._listeners.root;return t(this._rootElement,null),e.add(t),function(){t(null,_this13._rootElement),e["delete"](t);};};_proto14.registerCommand=function registerCommand(e,n,r){void 0===r&&t(35);var i=this._commands;i.has(e)||i.set(e,[new Set(),new Set(),new Set(),new Set(),new Set()]);var o=i.get(e);void 0===o&&t(36,String(e));var s=o[r];return s.add(n),function(){s["delete"](n),o.every(function(t){return 0===t.size;})&&i["delete"](e);};};_proto14.registerMutationListener=function registerMutationListener(t,e,n){var r=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(t)).klass,i=this._listeners.mutation;var o=i.get(e);void 0===o&&(o=new Set(),i.set(e,o)),o.add(r);var s=n&&n.skipInitialization;return void 0!==s&&s||this.initializeMutationListener(e,r),function(){o["delete"](r),0===o.size&&i["delete"](e);};};_proto14.getRegisteredNode=function getRegisteredNode(e){var n=this._nodes.get(e.getType());return void 0===n&&t(37,e.name),n;};_proto14.resolveRegisteredNodeAfterReplacements=function resolveRegisteredNodeAfterReplacements(t){for(;t.replaceWithKlass;){t=this.getRegisteredNode(t.replaceWithKlass);}return t;};_proto14.initializeMutationListener=function initializeMutationListener(t,e){var n=this._editorState,r=zo(n).get(e.getType());if(!r)return;var i=new Map();for(var _t154 of r.keys()){i.set(_t154,"created");}i.size>0&&t(i,{dirtyLeaves:new Set(),prevEditorState:n,updateTags:new Set(["registerMutationListener"])});};_proto14.registerNodeTransformToKlass=function registerNodeTransformToKlass(t,e){var n=this.getRegisteredNode(t);return n.transforms.add(e),n;};_proto14.registerNodeTransform=function registerNodeTransform(t,e){var n=this.registerNodeTransformToKlass(t,e),r=[n],i=n.replaceWithKlass;if(null!=i){var _t155=this.registerNodeTransformToKlass(i,e);r.push(_t155);}return function(t,e){var n=zo(t.getEditorState()),r=[];for(var _t156 of e){var _e103=n.get(_t156);_e103&&r.push(_e103);}if(0===r.length)return;t.update(function(){for(var _t157 of r){for(var _e104 of _t157.keys()){var _t158=Ii(_e104);_t158&&_t158.markDirty();}}},null===t._pendingEditorState?{tag:ei}:void 0);}(this,r.map(function(t){return t.klass.getType();})),function(){r.forEach(function(t){return t.transforms["delete"](e);});};};_proto14.hasNode=function hasNode(t){return this._nodes.has(t.getType());};_proto14.hasNodes=function hasNodes(t){return t.every(this.hasNode.bind(this));};_proto14.dispatchCommand=function dispatchCommand(t,e){return ao(this,t,e);};_proto14.getDecorators=function getDecorators(){return this._decorators;};_proto14.getRootElement=function getRootElement(){return this._rootElement;};_proto14.getKey=function getKey(){return this._key;};_proto14.setRootElement=function setRootElement(t){var e=this._rootElement;if(t!==e){var _e$classList3;var _n76=io(this._config.theme,"root"),_r57=this._pendingEditorState||this._editorState;if(this._rootElement=t,ai(this,e,t,_r57),null!==e&&(this._config.disableEvents||dn(e),null!=_n76&&(_e$classList3=e.classList).remove.apply(_e$classList3,_n76)),null!==t){var _t$classList;var _e105=mo(t),_r58=t.style;_r58.userSelect="text",_r58.whiteSpace="pre-wrap",_r58.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=_e105,this._dirtyType=2,H(this),this._updateTags.add(ei),Rr(this),this._config.disableEvents||function(t,e){var n=t.ownerDocument,r=Ue.get(n);(void 0===r||r<1)&&n.addEventListener("selectionchange",cn),Ue.set(n,(r||0)+1),t.__lexicalEditor=e;var i=sn(t);var _loop=function _loop(_n77){var _Ke$_n=Ke[_n77],r=_Ke$_n[0],o=_Ke$_n[1],s="function"==typeof o?function(t){un(t)||(an(t),(e.isEditable()||"click"===r)&&o(t,e));}:function(t){if(un(t))return;an(t);var n=e.isEditable();switch(r){case"cut":return n&&ao(e,Oe,t);case"copy":return ao(e,be,t);case"paste":return n&&ao(e,Zt,t);case"dragstart":return n&&ao(e,ve,t);case"dragover":return n&&ao(e,ke,t);case"dragend":return n&&ao(e,Ee,t);case"focus":return n&&ao(e,Ie,t);case"blur":return n&&ao(e,Le,t);case"drop":return n&&ao(e,Ne,t);}};t.addEventListener(r,s),i.push(function(){t.removeEventListener(r,s);});};for(var _n77=0;_n77<Ke.length;_n77++){_loop(_n77);}}(t,this),null!=_n76&&(_t$classList=t.classList).add.apply(_t$classList,_n76);}else this._window=null,this._updateTags.add(ei),Rr(this);Kr("root",this,!1,t,e);}};_proto14.getElementByKey=function getElementByKey(t){return this._keyToDOMMap.get(t)||null;};_proto14.getEditorState=function getEditorState(){return this._editorState;};_proto14.setEditorState=function setEditorState(e,n){e.isEmpty()&&t(38);var r=e;r._readOnly&&(r=Xr(e),r._selection=e._selection?e._selection.clone():null),j(this);var i=this._pendingEditorState,o=this._updateTags,s=void 0!==n?n.tag:null;null===i||i.isEmpty()||(null!=s&&o.add(s),Rr(this)),this._pendingEditorState=r,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=s&&o.add(s),this._updating||Rr(this);};_proto14.parseEditorState=function parseEditorState(t,e){return function(t,e,n){var r=Qr(),i=xr,o=Sr,s=Cr,l=e._dirtyElements,c=e._dirtyLeaves,a=e._cloneNotNeeded,u=e._dirtyType;e._dirtyElements=new Map(),e._dirtyLeaves=new Set(),e._cloneNotNeeded=new Set(),e._dirtyType=0,xr=r,Sr=!1,Cr=e,di(null);try{var _i42=e._nodes;Lr(t.root,_i42),n&&n(),r._readOnly=!0;}catch(t){t instanceof Error&&e._onError(t);}finally{e._dirtyElements=l,e._dirtyLeaves=c,e._cloneNotNeeded=a,e._dirtyType=u,xr=i,Sr=o,Cr=s;}return r;}("string"==typeof t?JSON.parse(t):t,this,e);};_proto14.read=function read(t){return Rr(this),this.getEditorState().read(t,{editor:this});};_proto14.update=function update(t,e){!function(t,e,n){t._updating?t._updates.push([e,n]):zr(t,e,n);}(this,t,e);};_proto14.focus=function focus(t,e){if(e===void 0){e={};}var n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),Wr(this,function(){var r=cr(),i=zi();null!==r?r.dirty||$i(r.clone()):0!==i.getChildrenSize()&&("rootStart"===e.defaultSelection?i.selectStart():i.selectEnd()),po("focus"),_o(function(){n.removeAttribute("autocapitalize"),t&&t();});}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"));};_proto14.blur=function blur(){var t=this._rootElement;null!==t&&t.blur();var e=Oo(this._window);null!==e&&e.removeAllRanges();};_proto14.isEditable=function isEditable(){return this._editable;};_proto14.setEditable=function setEditable(t){this._editable!==t&&(this._editable=t,Kr("editable",this,!0,t));};_proto14.toJSON=function toJSON(){return{editorState:this._editorState.toJSON()};};return ui;}();ui.version="0.33.0+prod.cjs";var fi=null;function di(t){fi=t;}var hi=1;function gi(e,n){var r=pi(e,n);return void 0===r&&t(30,n),r;}function pi(t,e){return t._nodes.get(e);}var _i="function"==typeof queueMicrotask?queueMicrotask:function(t){Promise.resolve().then(t);};function yi(t){return Vr(Ri(t));}function mi(t){var e=document.activeElement;if(!Ao(e))return!1;var n=e.nodeName;return Vr(Ri(t))&&("INPUT"===n||"TEXTAREA"===n||"true"===e.contentEditable&&null==Ni(e));}function xi(t,e,n){var r=t.getRootElement();try{return null!==r&&r.contains(e)&&r.contains(n)&&null!==e&&!mi(e)&&Si(e)===t;}catch(t){return!1;}}function Ci(t){return t instanceof ui;}function Si(t){var e=t;for(;null!=e;){var _t159=Ni(e);if(Ci(_t159))return _t159;e=ho(e);}return null;}function Ni(t){return t?t.__lexicalEditor:null;}function Ti(t){return zn(t)||t.isToken();}function vi(t){return Ti(t)||t.isSegmented();}function ki(t){return wo(t)&&3===t.nodeType;}function Ei(t){return wo(t)&&9===t.nodeType;}function bi(t){var e=t;for(;null!=e;){if(ki(e))return e;e=e.firstChild;}return null;}function Oi(t,e,n){var r=A[e];if(null!==n&&(t&r)===(n&r))return t;var i=t^r;return"subscript"===e?i&=~A.superscript:"superscript"===e?i&=~A.subscript:"lowercase"===e?(i&=~A.uppercase,i&=~A.capitalize):"uppercase"===e?(i&=~A.lowercase,i&=~A.capitalize):"capitalize"===e&&(i&=~A.lowercase,i&=~A.uppercase),i;}function Mi(t,e){var n=function(){var t=fi;return fi=null,t;}();if(null!=(e=e||n&&n.__key))return void(t.__key=e);Er(),br();var r=Mr(),i=Or(),o=""+hi++;i._nodeMap.set(o,t),Yr(t)?r._dirtyElements.set(o,!0):r._dirtyLeaves.add(o),r._cloneNotNeeded.add(o),r._dirtyType=1,t.__key=o;}function Ai(t){var e=t.getParent();if(null!==e){var _n78=t.getWritable(),_r59=e.getWritable(),_i43=t.getPreviousSibling(),_o27=t.getNextSibling(),_s15=null!==_o27?_o27.__key:null,_l1=null!==_i43?_i43.__key:null,_c1=null!==_i43?_i43.getWritable():null,_a9=null!==_o27?_o27.getWritable():null;null===_i43&&(_r59.__first=_s15),null===_o27&&(_r59.__last=_l1),null!==_c1&&(_c1.__next=_s15),null!==_a9&&(_a9.__prev=_l1),_n78.__prev=null,_n78.__next=null,_n78.__parent=null,_r59.__size--;}}function wi(t){br();var e=t.getLatest(),n=e.__parent,r=Or(),i=Mr(),o=r._nodeMap,s=i._dirtyElements;null!==n&&function(t,e,n){var r=t;for(;null!==r;){if(n.has(r))return;var _t160=e.get(r);if(void 0===_t160)break;n.set(r,!1),r=_t160.__parent;}}(n,o,s);var l=e.__key;i._dirtyType=1,Yr(t)?s.set(l,!0):i._dirtyLeaves.add(l);}function Di(t){Er();var e=Mr(),n=e._compositionKey;if(t!==n){if(e._compositionKey=t,null!==n){var _t161=Ii(n);null!==_t161&&_t161.getWritable();}if(null!==t){var _e106=Ii(t);null!==_e106&&_e106.getWritable();}}}function Pi(){if(kr())return null;return Mr()._compositionKey;}function Ii(t,e){var n=(e||Or())._nodeMap.get(t);return void 0===n?null:n;}function Li(t,e){var n=Fi(t,Mr());return void 0!==n?Ii(n,e):null;}function Fi(t,e){return t["__lexicalKey_"+e._key];}function Ri(t,e){var n=t;for(;null!=n;){var _t162=Li(n,e);if(null!==_t162)return _t162;n=ho(n);}return null;}function Ki(t){var e=t._decorators,n=Object.assign({},e);return t._pendingDecorators=n,n;}function Bi(t){return t.read(function(){return zi().getTextContent();});}function zi(){return Wi(Or());}function Wi(t){return t._nodeMap.get("root");}function $i(t){Er();var e=Or();null!==t&&(t.dirty=!0,t.setCachedNodes(null)),e._selection=t;}function Ui(t){var e=Mr(),n=function(t,e){var n=t;for(;null!=n;){var _t163=Fi(n,e);if(void 0!==_t163)return _t163;n=ho(n);}return null;}(t,e);if(null===n){return t===e.getRootElement()?Ii("root"):null;}return Ii(n);}function Ji(t,e){return e?t.getTextContentSize():0;}function Yi(t){return /[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t);}function ji(t){var e=[];var n=t;for(;null!==n;){e.push(n),n=n._parentEditor;}return e;}function Hi(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5);}function Vi(t){return ki(t)?t.nodeValue:null;}function Gi(t,e,n){var r=Oo(xo(e));if(null===r)return;var i=r.anchorNode;var o=r.anchorOffset,s=r.focusOffset;if(null!==i){var _e107=Vi(i);var _r60=Ri(i);if(null!==_e107&&Fn(_r60)){if(_e107===T&&n){var _t164=n.length;_e107=n,o=_t164,s=_t164;}null!==_e107&&qi(_r60,_e107,o,s,t);}}}function qi(t,e,n,r,i){var o=t;if(o.isAttached()&&(i||!o.isDirty())){var _c10=o.isComposing();var _a0=e;(_c10||i)&&e[e.length-1]===T&&(_a0=e.slice(0,-1));var _u9=o.getTextContent();if(i||_a0!==_u9){if(""===_a0){if(Di(null),s||l||f)o.remove();else{var _t165=Mr();setTimeout(function(){_t165.update(function(){o.isAttached()&&o.remove();});},20);}return;}var _e108=o.getParent(),_i44=ar(),_u0=o.getTextContentSize(),_d6=Pi(),_h5=o.getKey();if(o.isToken()||null!==_d6&&_h5===_d6&&!_c10||jn(_i44)&&(null!==_e108&&!_e108.canInsertTextBefore()&&0===_i44.anchor.offset||_i44.anchor.key===t.__key&&0===_i44.anchor.offset&&!o.canInsertTextBefore()&&!_c10||_i44.focus.key===t.__key&&_i44.focus.offset===_u0&&!o.canInsertTextAfter()&&!_c10))return void o.markDirty();var _g6=cr();if(!jn(_g6)||null===n||null===r)return void o.setTextContent(_a0);if(_g6.setTextNodeRange(o,n,o,r),o.isSegmented()){var _t166=Ln(o.getTextContent());o.replace(_t166),o=_t166;}o.setTextContent(_a0);}}}function Xi(t,e,n){var r=e[n]||!1;return"any"===r||r===t[n];}function Qi(t,e){return Xi(t,e,"altKey")&&Xi(t,e,"ctrlKey")&&Xi(t,e,"shiftKey")&&Xi(t,e,"metaKey");}function Zi(t,e,n){return Qi(t,n)&&t.key.toLowerCase()===e.toLowerCase();}var to={ctrlKey:!r,metaKey:r},eo={altKey:r,ctrlKey:!r};function no(t){return"Backspace"===t.key;}function ro(t){return Zi(t,"a",to);}function io(t,e){void 0===t.__lexicalClassNameCache&&(t.__lexicalClassNameCache={});var n=t.__lexicalClassNameCache,r=n[e];if(void 0!==r)return r;var i=t[e];if("string"==typeof i){var _t167=d(i);return n[e]=_t167,_t167;}return i;}function oo(e,n,r,i,o){if(0===r.size)return;var s=i.__type,l=i.__key,c=n.get(s);void 0===c&&t(33,s);var a=c.klass;var u=e.get(a);void 0===u&&(u=new Map(),e.set(a,u));var f=u.get(l),d="destroyed"===f&&"created"===o;(void 0===f||d)&&u.set(l,d?"updated":o);}function so(t,e,n){var r=t.getParent();var i=n,o=t;return null!==r&&(e&&0===n?(i=o.getIndexWithinParent(),o=r):e||n!==o.getChildrenSize()||(i=o.getIndexWithinParent()+1,o=r)),o.getChildAtIndex(e?i-1:i);}function lo(t,e){var n=t.offset;if("element"===t.type){return so(t.getNode(),e,n);}{var _r61=t.getNode();if(e&&0===n||!e&&n===_r61.getTextContentSize()){var _t168=e?_r61.getPreviousSibling():_r61.getNextSibling();return null===_t168?so(_r61.getParentOrThrow(),e,_r61.getIndexWithinParent()+(e?0:1)):_t168;}}return null;}function co(t){var e=xo(t).event,n=e&&e.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n;}function ao(t,e,n){return function(t,e,n){var r=ji(t);for(var _i45=4;_i45>=0;_i45--){for(var _o28=0;_o28<r.length;_o28++){var _s16=r[_o28],_l10=_s16._commands.get(e);if(void 0!==_l10){var _e109=_l10[_i45];if(void 0!==_e109){var _ret=function(){var r=Array.from(_e109),i=r.length;var o=!1;if(Wr(_s16,function(){for(var _e110=0;_e110<i;_e110++){if(r[_e110](n,t))return void(o=!0);}}),o)return{v:o};}();if(typeof _ret==="object")return _ret.v;}}}}return!1;}(t,e,n);}function uo(t){return!qr(t)&&!t.isLastChild()&&!t.isInline();}function fo(e,n){var r=e._keyToDOMMap.get(n);return void 0===r&&t(75,n),r;}function ho(t){var e=t.assignedSlot||t.parentElement;return Do(e)?e.host:e;}function go(t){return Ei(t)?t:Ao(t)?t.ownerDocument:null;}function po(t){Er();Mr()._updateTags.add(t);}function _o(t){Er();Mr()._deferred.push(t);}function yo(t,e){var n=t.getParent();for(;null!==n;){if(n.is(e))return!0;n=n.getParent();}return!1;}function mo(t){var e=go(t);return e?e.defaultView:null;}function xo(e){var n=e._window;return null===n&&t(78),n;}function Co(t){var e=t.getParentOrThrow();for(;null!==e;){if(So(e))return e;e=e.getParentOrThrow();}return e;}function So(t){return qr(t)||Yr(t)&&t.isShadowRoot();}function No(t){var e=t.constructor.clone(t);return Mi(e,null),e.afterCloneFrom(t),e;}function To(e){var n=Mr(),r=e.getType(),i=pi(n,r);void 0===i&&t(200,e.constructor.name,r);var o=i.replace,s=i.replaceWithKlass;if(null!==o){var _n79=o(e),_i46=_n79.constructor;return null!==s?_n79 instanceof s||t(201,s.name,s.getType(),_i46.name,_i46.getType(),e.constructor.name,r):_n79 instanceof e.constructor&&_i46!==e.constructor||t(202,_i46.name,_i46.getType(),e.constructor.name,r),_n79.__key===e.__key&&t(203,e.constructor.name,r,_i46.name,_i46.getType()),_n79;}return e;}function vo(e,n){!qr(e.getParent())||Yr(n)||Vr(n)||t(99);}function ko(e){var n=Ii(e);return null===n&&t(63,e),n;}function Eo(t){return(Vr(t)||Yr(t)&&!t.canBeEmpty())&&!t.isInline();}function bo(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null;var r=t.parentElement;null!==r&&r.removeChild(t);}function Oo(t){return e?(t||window).getSelection():null;}function Mo(t){var e=mo(t);return e?e.getSelection():null;}function Ao(t){return wo(t)&&1===t.nodeType;}function wo(t){return"object"==typeof t&&null!==t&&"nodeType"in t&&"number"==typeof t.nodeType;}function Do(t){return wo(t)&&11===t.nodeType;}function Po(t){var e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==t.nodeName.match(e);}function Io(t){var e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==t.nodeName.match(e);}function Lo(t){if(Vr(t)&&!t.isInline())return!0;if(!Yr(t)||So(t))return!1;var e=t.getFirstChild(),n=null===e||mn(e)||Fn(e)||e.isInline();return!t.isInline()&&!1!==t.canBeEmpty()&&n;}function Fo(t,e){var n=t;for(;null!==n&&null!==n.getParent()&&!e(n);){n=n.getParentOrThrow();}return e(n)?n:null;}function Ro(){return Mr();}var Ko=new WeakMap(),Bo=new Map();function zo(e){if(!e._readOnly&&e.isEmpty())return Bo;e._readOnly||t(192);var n=Ko.get(e);return n||(n=function(t){var e=new Map();for(var _ref11 of t._nodeMap){var _n80=_ref11[0];var _r62=_ref11[1];var _t169=_r62.__type;var _i47=e.get(_t169);_i47||(_i47=new Map(),e.set(_t169,_i47)),_i47.set(_n80,_r62);}return e;}(e),Ko.set(e,n)),n;}function Wo(t){var e=t.constructor.clone(t);return e.afterCloneFrom(t),e;}function $o(t,e){var n=parseInt(t.style.paddingInlineStart,10)||0,r=Math.round(n/40);e.setIndent(r);}function Uo(t){return!0===t.__lexicalUnmanaged;}function Jo(t,e){return function(t,e){return Object.prototype.hasOwnProperty.call(t,e);}(t,e)&&t[e]!==gn[e];}function Yo(t){var e=F in t.prototype?t.prototype[F]():void 0,n=function(t){return t===Hr||t===Jr||t===gn;}(t),r=!n&&Jo(t,"getType")?t.getType():void 0;var i,o=r;if(e)if(r)i=e[r];else for(var _ref12 of Object.entries(e)){var _t170=_ref12[0];var _n81=_ref12[1];o=_t170,i=_n81;}if(!n&&o&&(Jo(t,"getType")||(t.getType=function(){return o;}),Jo(t,"clone")||(t.clone=function(e){return di(e),new t();}),Jo(t,"importJSON")||(t.importJSON=i&&i.$importJSON||function(e){return new t().updateFromJSON(e);}),!Jo(t,"importDOM")&&i)){var _i48=i,_e111=_i48.importDOM;_e111&&(t.importDOM=function(){return _e111;});}return{ownNodeConfig:i,ownNodeType:o};}var jo={next:"previous",previous:"next"};var Ho=function(){function Ho(t){this.origin=t;}var _proto15=Ho.prototype;_proto15[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=function(){return ms({hasNext:es,initial:this.getAdjacentCaret(),map:function map(t){return t;},step:function step(t){return t.getAdjacentCaret();}});};_proto15.getAdjacentCaret=function getAdjacentCaret(){return ss(this.getNodeAtCaret(),this.direction);};_proto15.getSiblingCaret=function getSiblingCaret(){return ss(this.origin,this.direction);};_proto15.remove=function remove(){var t=this.getNodeAtCaret();return t&&t.remove(),this;};_proto15.replaceOrInsert=function replaceOrInsert(t,e){var n=this.getNodeAtCaret();return t.is(this.origin)||t.is(n)||(null===n?this.insert(t):n.replace(t,e)),this;};_proto15.splice=function splice(e,n,r){if(r===void 0){r="next";}var i=r===this.direction?n:Array.from(n).reverse();var o=this;var s=this.getParentAtCaret(),l=new Map();for(var _t171=o.getAdjacentCaret();null!==_t171&&l.size<e;_t171=_t171.getAdjacentCaret()){var _e112=_t171.origin.getWritable();l.set(_e112.getKey(),_e112);}for(var _e113 of i){if(l.size>0){var _n82=o.getNodeAtCaret();if(_n82){if(l["delete"](_n82.getKey()),l["delete"](_e113.getKey()),_n82.is(_e113)||o.origin.is(_e113));else{var _t172=_e113.getParent();_t172&&_t172.is(s)&&_e113.remove(),_n82.replace(_e113);}}else null===_n82&&t(263,Array.from(l).join(" "));}else o.insert(_e113);o=ss(_e113,this.direction);}for(var _t173 of l.values()){_t173.remove();}return this;};return Ho;}();var Vo=function(_Ho){babelHelpers.inheritsLoose(Vo,_Ho);function Vo(){var _this5;for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++){args[_key6]=arguments[_key6];}return(_this5=_Ho.call.apply(_Ho,[this].concat(args))||this,_this5.type="child",babelHelpers.assertThisInitialized(_this5))||babelHelpers.assertThisInitialized(_this5);}var _proto16=Vo.prototype;_proto16.getLatest=function getLatest(){var t=this.origin.getLatest();return t===this.origin?this:us(t,this.direction);};_proto16.getParentCaret=function getParentCaret(t){if(t===void 0){t="root";}return ss(Xo(this.getParentAtCaret(),t),this.direction);};_proto16.getFlipped=function getFlipped(){var t=qo(this.direction);return ss(this.getNodeAtCaret(),t)||us(this.origin,t);};_proto16.getParentAtCaret=function getParentAtCaret(){return this.origin;};_proto16.getChildCaret=function getChildCaret(){return this;};_proto16.isSameNodeCaret=function isSameNodeCaret(t){return t instanceof Vo&&this.direction===t.direction&&this.origin.is(t.origin);};_proto16.isSamePointCaret=function isSamePointCaret(t){return this.isSameNodeCaret(t);};return Vo;}(Ho);var Go={root:qr,shadowRoot:So};function qo(t){return jo[t];}function Xo(t,e){if(e===void 0){e="root";}return Go[e](t)?null:t;}var Qo=function(_Ho2){babelHelpers.inheritsLoose(Qo,_Ho2);function Qo(){var _this6;for(var _len7=arguments.length,args=new Array(_len7),_key7=0;_key7<_len7;_key7++){args[_key7]=arguments[_key7];}return(_this6=_Ho2.call.apply(_Ho2,[this].concat(args))||this,_this6.type="sibling",babelHelpers.assertThisInitialized(_this6))||babelHelpers.assertThisInitialized(_this6);}var _proto17=Qo.prototype;_proto17.getLatest=function getLatest(){var t=this.origin.getLatest();return t===this.origin?this:ss(t,this.direction);};_proto17.getSiblingCaret=function getSiblingCaret(){return this;};_proto17.getParentAtCaret=function getParentAtCaret(){return this.origin.getParent();};_proto17.getChildCaret=function getChildCaret(){return Yr(this.origin)?us(this.origin,this.direction):null;};_proto17.getParentCaret=function getParentCaret(t){if(t===void 0){t="root";}return ss(Xo(this.getParentAtCaret(),t),this.direction);};_proto17.getFlipped=function getFlipped(){var t=qo(this.direction);return ss(this.getNodeAtCaret(),t)||us(this.origin.getParentOrThrow(),t);};_proto17.isSamePointCaret=function isSamePointCaret(t){return t instanceof Qo&&this.direction===t.direction&&this.origin.is(t.origin);};_proto17.isSameNodeCaret=function isSameNodeCaret(t){return(t instanceof Qo||t instanceof Zo)&&this.direction===t.direction&&this.origin.is(t.origin);};return Qo;}(Ho);var Zo=function(_Ho3){babelHelpers.inheritsLoose(Zo,_Ho3);function Zo(t,e){var _this7;_this7=_Ho3.call(this,t)||this,_this7.type="text",_this7.offset=e;return _this7;}var _proto18=Zo.prototype;_proto18.getLatest=function getLatest(){var t=this.origin.getLatest();return t===this.origin?this:ls(t,this.direction,this.offset);};_proto18.getParentAtCaret=function getParentAtCaret(){return this.origin.getParent();};_proto18.getChildCaret=function getChildCaret(){return null;};_proto18.getParentCaret=function getParentCaret(t){if(t===void 0){t="root";}return ss(Xo(this.getParentAtCaret(),t),this.direction);};_proto18.getFlipped=function getFlipped(){return ls(this.origin,qo(this.direction),this.offset);};_proto18.isSamePointCaret=function isSamePointCaret(t){return t instanceof Zo&&this.direction===t.direction&&this.origin.is(t.origin)&&this.offset===t.offset;};_proto18.isSameNodeCaret=function isSameNodeCaret(t){return(t instanceof Qo||t instanceof Zo)&&this.direction===t.direction&&this.origin.is(t.origin);};_proto18.getSiblingCaret=function getSiblingCaret(){return ss(this.origin,this.direction);};return Zo;}(Ho);function ts(t){return t instanceof Zo;}function es(t){return t instanceof Qo;}function ns(t){return t instanceof Vo;}var rs={next:function(_Zo){babelHelpers.inheritsLoose(_class,_Zo);function _class(){var _this8;for(var _len8=arguments.length,args=new Array(_len8),_key8=0;_key8<_len8;_key8++){args[_key8]=arguments[_key8];}return(_this8=_Zo.call.apply(_Zo,[this].concat(args))||this,_this8.direction="next",babelHelpers.assertThisInitialized(_this8))||babelHelpers.assertThisInitialized(_this8);}var _proto19=_class.prototype;_proto19.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getNextSibling();};_proto19.insert=function insert(t){return this.origin.insertAfter(t),this;};return _class;}(Zo),previous:function(_Zo2){babelHelpers.inheritsLoose(_class3,_Zo2);function _class3(){var _this9;for(var _len9=arguments.length,args=new Array(_len9),_key9=0;_key9<_len9;_key9++){args[_key9]=arguments[_key9];}return(_this9=_Zo2.call.apply(_Zo2,[this].concat(args))||this,_this9.direction="previous",babelHelpers.assertThisInitialized(_this9))||babelHelpers.assertThisInitialized(_this9);}var _proto20=_class3.prototype;_proto20.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getPreviousSibling();};_proto20.insert=function insert(t){return this.origin.insertBefore(t),this;};return _class3;}(Zo)},is={next:function(_Qo){babelHelpers.inheritsLoose(_class5,_Qo);function _class5(){var _this0;for(var _len0=arguments.length,args=new Array(_len0),_key0=0;_key0<_len0;_key0++){args[_key0]=arguments[_key0];}return(_this0=_Qo.call.apply(_Qo,[this].concat(args))||this,_this0.direction="next",babelHelpers.assertThisInitialized(_this0))||babelHelpers.assertThisInitialized(_this0);}var _proto21=_class5.prototype;_proto21.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getNextSibling();};_proto21.insert=function insert(t){return this.origin.insertAfter(t),this;};return _class5;}(Qo),previous:function(_Qo2){babelHelpers.inheritsLoose(_class7,_Qo2);function _class7(){var _this1;for(var _len1=arguments.length,args=new Array(_len1),_key1=0;_key1<_len1;_key1++){args[_key1]=arguments[_key1];}return(_this1=_Qo2.call.apply(_Qo2,[this].concat(args))||this,_this1.direction="previous",babelHelpers.assertThisInitialized(_this1))||babelHelpers.assertThisInitialized(_this1);}var _proto22=_class7.prototype;_proto22.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getPreviousSibling();};_proto22.insert=function insert(t){return this.origin.insertBefore(t),this;};return _class7;}(Qo)},os={next:function(_Vo){babelHelpers.inheritsLoose(_class9,_Vo);function _class9(){var _this10;for(var _len10=arguments.length,args=new Array(_len10),_key10=0;_key10<_len10;_key10++){args[_key10]=arguments[_key10];}return(_this10=_Vo.call.apply(_Vo,[this].concat(args))||this,_this10.direction="next",babelHelpers.assertThisInitialized(_this10))||babelHelpers.assertThisInitialized(_this10);}var _proto23=_class9.prototype;_proto23.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getFirstChild();};_proto23.insert=function insert(t){return this.origin.splice(0,0,[t]),this;};return _class9;}(Vo),previous:function(_Vo2){babelHelpers.inheritsLoose(_class1,_Vo2);function _class1(){var _this11;for(var _len11=arguments.length,args=new Array(_len11),_key11=0;_key11<_len11;_key11++){args[_key11]=arguments[_key11];}return(_this11=_Vo2.call.apply(_Vo2,[this].concat(args))||this,_this11.direction="previous",babelHelpers.assertThisInitialized(_this11))||babelHelpers.assertThisInitialized(_this11);}var _proto24=_class1.prototype;_proto24.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getLastChild();};_proto24.insert=function insert(t){return this.origin.splice(this.origin.getChildrenSize(),0,[t]),this;};return _class1;}(Vo)};function ss(t,e){return t?new is[e](t):null;}function ls(t,e,n){return t?new rs[e](t,cs(t,n)):null;}function cs(t,e){var n=t.getTextContentSize();var r="next"===e?n:"previous"===e?0:e;return(r<0||r>n)&&(!function(t){var n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",t);for(var _len12=arguments.length,e=new Array(_len12>1?_len12-1:0),_key12=1;_key12<_len12;_key12++){e[_key12-1]=arguments[_key12];}for(var _t174 of e){r.append("v",_t174);}n.search=r.toString(),console.warn("Minified Lexical warning #"+t+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}(284,String(e),String(n),t.getKey()),r=r<0?0:n),r;}function as(t,e){return new gs(t,e);}function us(t,e){return Yr(t)?new os[e](t):null;}function fs(t){return t&&t.getChildCaret()||t;}function ds(t){return t&&fs(t.getAdjacentCaret());}var hs=function(){function hs(t,e,n){this.type="node-caret-range";this.anchor=t,this.focus=e,this.direction=n;}var _proto25=hs.prototype;_proto25.getLatest=function getLatest(){var t=this.anchor.getLatest(),e=this.focus.getLatest();return t===this.anchor&&e===this.focus?this:new hs(t,e,this.direction);};_proto25.isCollapsed=function isCollapsed(){return this.anchor.isSamePointCaret(this.focus);};_proto25.getTextSlices=function getTextSlices(){var _this14=this;var t=function t(_t175){var e=_this14[_t175].getLatest();return ts(e)?function(t,e){var n=t.direction,r=t.origin,i=cs(r,"focus"===e?qo(n):n);return as(t,i-t.offset);}(e,_t175):null;},e=t("anchor"),n=t("focus");if(e&&n){var _t176=e.caret,_r63=n.caret;if(_t176.isSameNodeCaret(_r63))return[as(_t176,_r63.offset-_t176.offset),null];}return[e,n];};_proto25.iterNodeCarets=function iterNodeCarets(t){if(t===void 0){t="root";}var e=ts(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),n=this.focus.getLatest(),r=ts(n),i=function i(e){return e.isSameNodeCaret(n)?null:ds(e)||e.getParentCaret(t);};return ms({hasNext:function hasNext(t){return null!==t&&!(r&&n.isSameNodeCaret(t));},initial:e.isSameNodeCaret(n)?null:i(e),map:function map(t){return t;},step:i});};_proto25[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=function(){return this.iterNodeCarets("root");};return hs;}();var gs=function(){function gs(t,e){this.type="slice";this.caret=t,this.distance=e;}var _proto26=gs.prototype;_proto26.getSliceIndices=function getSliceIndices(){var t=this.distance,e=this.caret.offset,n=e+t;return n<e?[n,e]:[e,n];};_proto26.getTextContent=function getTextContent(){var _this$getSliceIndices=this.getSliceIndices(),t=_this$getSliceIndices[0],e=_this$getSliceIndices[1];return this.caret.origin.getTextContent().slice(t,e);};_proto26.getTextContentSize=function getTextContentSize(){return Math.abs(this.distance);};_proto26.removeTextSlice=function removeTextSlice(){var _this$caret=this.caret,t=_this$caret.origin,e=_this$caret.direction,_this$getSliceIndices2=this.getSliceIndices(),n=_this$getSliceIndices2[0],r=_this$getSliceIndices2[1],i=t.getTextContent();return ls(t.setTextContent(i.slice(0,n)+i.slice(r)),e,n);};return gs;}();function ps(t){return ys(t,ss(zi(),t.direction));}function _s(t){return ys(t,t);}function ys(e,n){return e.direction!==n.direction&&t(265),new hs(e,n,e.direction);}function ms(t){var _ref13;var e=t.initial,n=t.hasNext,r=t.step,i=t.map;var o=e;return _ref13={},_ref13[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=function(){return this;},_ref13.next=function next(){if(!n(o))return{done:!0,value:void 0};var t={done:!1,value:i(o)};return o=r(o),t;},_ref13;}function xs(e,n){var r=Ts(e.origin,n.origin);switch(null===r&&t(275,e.origin.getKey(),n.origin.getKey()),r.type){case"same":{var _t177="text"===e.type,_r64="text"===n.type;return _t177&&_r64?function(t,e){return Math.sign(t-e);}(e.offset,n.offset):e.type===n.type?0:_t177?-1:_r64?1:"child"===e.type?-1:1;}case"ancestor":return"child"===e.type?-1:1;case"descendant":return"child"===n.type?1:-1;case"branch":return Cs(r);}}function Cs(t){var e=t.a,n=t.b,r=e.__key,i=n.__key;var o=e,s=n;for(;o&&s;o=o.getNextSibling(),s=s.getNextSibling()){if(o.__key===i)return-1;if(s.__key===r)return 1;}return null===o?1:-1;}function Ss(t,e){return e.is(t);}function Ns(t){return Yr(t)?[t.getLatest(),null]:[t.getParent(),t.getLatest()];}function Ts(e,n){if(e.is(n))return{commonAncestor:e,type:"same"};var r=new Map();for(var _Ns=Ns(e),_t178=_Ns[0],_n83=_Ns[1];_t178;_n83=_t178,_t178=_t178.getParent()){r.set(_t178,_n83);}for(var _Ns2=Ns(n),_i49=_Ns2[0],_o29=_Ns2[1];_i49;_o29=_i49,_i49=_i49.getParent()){var _s17=r.get(_i49);if(void 0!==_s17)return null===_s17?(Ss(e,_i49)||t(276),{commonAncestor:_i49,type:"ancestor"}):null===_o29?(Ss(n,_i49)||t(277),{commonAncestor:_i49,type:"descendant"}):((Yr(_s17)||Ss(e,_s17))&&(Yr(_o29)||Ss(n,_o29))&&_i49.is(_s17.getParent())&&_i49.is(_o29.getParent())||t(278),{a:_s17,b:_o29,commonAncestor:_i49,type:"branch"});}return null;}function vs(e,n){var r=e.type,i=e.key,o=e.offset,s=ko(e.key);return"text"===r?(Fn(s)||t(266,s.getType(),i),ls(s,n,o)):(Yr(s)||t(267,s.getType(),i),Rs(s,e.offset,n));}function ks(e,n){var r=n.origin,i=n.direction,o="next"===i;ts(n)?e.set(r.getKey(),n.offset,"text"):es(n)?Fn(r)?e.set(r.getKey(),cs(r,i),"text"):e.set(r.getParentOrThrow().getKey(),r.getIndexWithinParent()+(o?1:0),"element"):(ns(n)&&Yr(r)||t(268),e.set(r.getKey(),o?0:r.getChildrenSize(),"element"));}function Es(t){var e=cr(),n=jn(e)?e:or();return bs(n,t),$i(n),n;}function bs(t,e){ks(t.anchor,e.anchor),ks(t.focus,e.focus);}function Os(t){var e=t.anchor,n=t.focus,r=vs(e,"next"),i=vs(n,"next"),o=xs(r,i)<=0?"next":"previous";return ys(Ls(r,o),Ls(i,o));}function Ms(t){var e=t.direction,n=t.origin,r=ss(n,qo(e)).getNodeAtCaret();return r?ss(r,e):us(n.getParentOrThrow(),e);}function As(t,e){if(e===void 0){e="root";}var n=[t];for(var _r65=ns(t)?t.getParentCaret(e):t.getSiblingCaret();null!==_r65;_r65=_r65.getParentCaret(e)){n.push(Ms(_r65));}return n;}function ws(t){return!!t&&t.origin.isAttached();}function Ds(e,n){if(n===void 0){n="removeEmptySlices";}if(e.isCollapsed())return e;var r="root",i="next";var o=n;var s=Fs(e,i),l=As(s.anchor,r),c=As(s.focus.getFlipped(),r),a=new Set(),u=[];for(var _t179 of s.iterNodeCarets(r)){if(ns(_t179))a.add(_t179.origin.getKey());else if(es(_t179)){var _e114=_t179.origin;Yr(_e114)&&!a.has(_e114.getKey())||u.push(_e114);}}for(var _t180 of u){_t180.remove();}for(var _t181 of s.getTextSlices()){if(!_t181)continue;var _e115=_t181.caret.origin,_n84=_e115.getTextContentSize(),_r66=Ms(ss(_e115,i)),_s18=_e115.getMode();if(Math.abs(_t181.distance)===_n84&&"removeEmptySlices"===o||"token"===_s18&&0!==_t181.distance)_r66.remove();else if(0!==_t181.distance){o="removeEmptySlices";var _e116=_t181.removeTextSlice();var _n85=_t181.caret.origin;if("segmented"===_s18){var _t182=_e116.origin,_n86=Ln(_t182.getTextContent()).setStyle(_t182.getStyle()).setFormat(_t182.getFormat());_r66.replaceOrInsert(_n86),_e116=ls(_n86,i,_e116.offset);}_n85.is(l[0].origin)&&(l[0]=_e116),_n85.is(c[0].origin)&&(c[0]=_e116.getFlipped());}}var f,d;for(var _t183 of l){if(ws(_t183)){f=Ps(_t183);break;}}for(var _t184 of c){if(ws(_t184)){d=Ps(_t184);break;}}var h=function(t,e,n){if(!t||!e)return null;var r=t.getParentAtCaret(),i=e.getParentAtCaret();if(!r||!i)return null;var o=r.getParents().reverse();o.push(r);var s=i.getParents().reverse();s.push(i);var l=Math.min(o.length,s.length);var c;for(c=0;c<l&&o[c]===s[c];c++){;}var a=function a(t,e){var n;for(var _r67=c;_r67<t.length;_r67++){var _i50=t[_r67];if(So(_i50))return;!n&&e(_i50)&&(n=_i50);}return n;},u=a(o,Lo),f=u&&a(s,function(t){return n.has(t.getKey())&&Lo(t);});return u&&f?[u,f]:null;}(f,d,a);if(h){var _t185=h[0],_e117=h[1];us(_t185,"previous").splice(0,_e117.getChildren()),_e117.remove();}var g=[f,d].concat(l,c).find(ws);if(g){return _s(Ls(Ps(g),e.direction));}t(269,JSON.stringify(l.map(function(t){return t.origin.__key;})));}function Ps(t){var e=function(t){var e=t;for(;ns(e);){var _t186=ds(e);if(!ns(_t186))break;e=_t186;}return e;}(t.getLatest()),n=e.direction;if(Fn(e.origin))return ts(e)?e:ls(e.origin,n,n);var r=e.getAdjacentCaret();return es(r)&&Fn(r.origin)?ls(r.origin,n,qo(n)):e;}function Is(t){return ts(t)&&t.offset!==cs(t.origin,t.direction);}function Ls(t,e){return t.direction===e?t:t.getFlipped();}function Fs(t,e){return t.direction===e?t:ys(Ls(t.focus,e),Ls(t.anchor,e));}function Rs(t,e,n){var r=us(t,"next");for(var _t187=0;_t187<e;_t187++){var _t188=r.getAdjacentCaret();if(null===_t188)break;r=_t188;}return Ls(r,n);}function Ks(e){var n=e.origin,r=e.offset,i=e.direction;if(r===cs(n,i))return e.getSiblingCaret();if(r===cs(n,qo(i)))return Ms(e.getSiblingCaret());var _n$splitText=n.splitText(r),o=_n$splitText[0];return Fn(o)||t(281),Ls(ss(o,"next"),i);}function Bs(t,e){return!0;}exports.$addUpdateTag=po,exports.$applyNodeReplacement=To,exports.$caretFromPoint=vs,exports.$caretRangeFromSelection=Os,exports.$cloneWithProperties=Wo,exports.$comparePointCaretNext=xs,exports.$copyNode=No,exports.$create=function(t){var e=Ro();return Er(),new(e.resolveRegisteredNodeAfterReplacements(e.getRegisteredNode(t)).klass)();},exports.$createLineBreakNode=yn,exports.$createNodeSelection=sr,exports.$createParagraphNode=ci,exports.$createPoint=$n,exports.$createRangeSelection=or,exports.$createRangeSelectionFromDom=function(t,e){return lr(null,t,e,null);},exports.$createTabNode=Bn,exports.$createTextNode=Ln,exports.$extendCaretToRange=ps,exports.$getAdjacentChildCaret=ds,exports.$getAdjacentNode=lo,exports.$getAdjacentSiblingOrParentSiblingCaret=function(t,e){if(e===void 0){e="root";}var n=0,r=t,i=ds(r);for(;null===i;){if(n--,i=r.getParentCaret(e),!i)return null;r=i,i=ds(r);}return i&&[i,n];},exports.$getCaretInDirection=Ls,exports.$getCaretRange=ys,exports.$getCaretRangeInDirection=Fs,exports.$getCharacterOffsets=qn,exports.$getChildCaret=us,exports.$getChildCaretAtIndex=Rs,exports.$getChildCaretOrSelf=fs,exports.$getCollapsedCaretRange=_s,exports.$getCommonAncestor=Ts,exports.$getCommonAncestorResultBranchOrder=Cs,exports.$getEditor=Ro,exports.$getNearestNodeFromDOMNode=Ri,exports.$getNearestRootOrShadowRoot=Co,exports.$getNodeByKey=Ii,exports.$getNodeByKeyOrThrow=ko,exports.$getPreviousSelection=ar,exports.$getRoot=zi,exports.$getSelection=cr,exports.$getSiblingCaret=ss,exports.$getState=G,exports.$getStateChange=function(t,e,n){var r=G(t,n,"direct"),i=G(e,n,"direct");return n.isEqual(r,i)?null:[r,i];},exports.$getTextContent=function(){var t=cr();return null===t?"":t.getTextContent();},exports.$getTextNodeOffset=cs,exports.$getTextPointCaret=ls,exports.$getTextPointCaretSlice=as,exports.$getWritableNodeState=Q,exports.$hasAncestor=yo,exports.$hasUpdateTag=function(t){return Mr()._updateTags.has(t);},exports.$insertNodes=function(t){var e=cr()||ar();null===e&&(e=zi().selectEnd()),e.insertNodes(t);},exports.$isBlockElementNode=function(t){return Yr(t)&&!t.isInline();},exports.$isChildCaret=ns,exports.$isDecoratorNode=Vr,exports.$isElementNode=Yr,exports.$isExtendableTextPointCaret=Is,exports.$isInlineElementOrDecoratorNode=function(t){return Yr(t)&&t.isInline()||Vr(t)&&t.isInline();},exports.$isLeafNode=function(t){return Fn(t)||mn(t)||Vr(t);},exports.$isLineBreakNode=mn,exports.$isNodeCaret=function(t){return t instanceof Ho;},exports.$isNodeSelection=Vn,exports.$isParagraphNode=function(t){return t instanceof si;},exports.$isRangeSelection=jn,exports.$isRootNode=qr,exports.$isRootOrShadowRoot=So,exports.$isSiblingCaret=es,exports.$isTabNode=zn,exports.$isTextNode=Fn,exports.$isTextPointCaret=ts,exports.$isTextPointCaretSlice=function(t){return t instanceof gs;},exports.$isTokenOrSegmented=vi,exports.$isTokenOrTab=Ti,exports.$nodesOfType=function(t){var e=t.getType(),n=Or();if(n._readOnly){var _t189=zo(n).get(e);return _t189?Array.from(_t189.values()):[];}var r=n._nodeMap,i=[];for(var _ref14 of r){var _n87=_ref14[1];_n87 instanceof t&&_n87.__type===e&&_n87.isAttached()&&i.push(_n87);}return i;},exports.$normalizeCaret=Ps,exports.$normalizeSelection__EXPERIMENTAL=lt,exports.$onUpdate=_o,exports.$parseSerializedNode=function(t){return Lr(t,Mr()._nodes);},exports.$removeTextFromCaretRange=Ds,exports.$rewindSiblingCaret=Ms,exports.$selectAll=function(t){var e=zi();if(jn(t)){var _e118=t.anchor,_n88=t.focus,_r68=_e118.getNode().getTopLevelElementOrThrow().getParentOrThrow();return _e118.set(_r68.getKey(),0,"element"),_n88.set(_r68.getKey(),_r68.getChildrenSize(),"element"),lt(t),t;}{var _t190=e.select(0,e.getChildrenSize());return $i(lt(_t190)),_t190;}},exports.$setCompositionKey=Di,exports.$setPointFromCaret=ks,exports.$setSelection=$i,exports.$setSelectionFromCaretRange=Es,exports.$setState=function(t,e,n){var r;if(Er(),"function"==typeof n){var _i51=t.getLatest(),_o30=G(_i51,e);if(r=n(_o30),e.isEqual(_o30,r))return _i51;}else r=n;var i=t.getWritable();return Q(i).updateFromKnown(e,r),i;},exports.$splitAtPointCaretNext=function(t,_temp){var _ref15=_temp===void 0?{}:_temp,_ref15$$copyElementNo=_ref15.$copyElementNode,e=_ref15$$copyElementNo===void 0?No:_ref15$$copyElementNo,_ref15$$splitTextPoin=_ref15.$splitTextPointCaretNext,n=_ref15$$splitTextPoin===void 0?Ks:_ref15$$splitTextPoin,_ref15$rootMode=_ref15.rootMode,r=_ref15$rootMode===void 0?"shadowRoot":_ref15$rootMode,_ref15$$shouldSplit=_ref15.$shouldSplit,i=_ref15$$shouldSplit===void 0?Bs:_ref15$$shouldSplit;if(ts(t))return n(t);var o=t.getParentCaret(r);if(o){var _n89=o.origin;if(ns(t)&&(!_n89.canBeEmpty()||!i(_n89,"first")))return Ms(o);var _r69=function(t){var e=[];for(var _n90=t.getAdjacentCaret();_n90;_n90=_n90.getAdjacentCaret()){e.push(_n90.origin);}return e;}(t);(_r69.length>0||_n89.canBeEmpty()&&i(_n89,"last"))&&o.insert(e(_n89).splice(0,0,_r69));}return o;},exports.$splitNode=function(e,n){var r=e.getChildAtIndex(n);null==r&&(r=e),So(e)&&t(102);var i=function i(e){var n=e.getParentOrThrow(),o=So(n),s=e!==r||o?No(e):e;if(o)return Yr(e)&&Yr(s)||t(133),e.insertAfter(s),[e,s,s];{var _i53=i(n),_t191=_i53[0],_r70=_i53[1],_o31=_i53[2],_l11=e.getNextSiblings();return _o31.append.apply(_o31,[s].concat(_l11)),[_t191,_r70,s];}},_i52=i(r),o=_i52[0],s=_i52[1];return[o,s];},exports.$updateRangeSelectionFromCaretRange=bs,exports.ArtificialNode__DO_NOT_USE=oi,exports.BLUR_COMMAND=Le,exports.CAN_REDO_COMMAND=De,exports.CAN_UNDO_COMMAND=Pe,exports.CLEAR_EDITOR_COMMAND=Ae,exports.CLEAR_HISTORY_COMMAND=we,exports.CLICK_COMMAND=Vt,exports.COLLABORATION_TAG=ni,exports.COMMAND_PRIORITY_CRITICAL=4,exports.COMMAND_PRIORITY_EDITOR=0,exports.COMMAND_PRIORITY_HIGH=3,exports.COMMAND_PRIORITY_LOW=1,exports.COMMAND_PRIORITY_NORMAL=2,exports.CONTROLLED_TEXT_INSERTION_COMMAND=Qt,exports.COPY_COMMAND=be,exports.CUT_COMMAND=Oe,exports.DELETE_CHARACTER_COMMAND=Gt,exports.DELETE_LINE_COMMAND=ne,exports.DELETE_WORD_COMMAND=ee,exports.DRAGEND_COMMAND=Ee,exports.DRAGOVER_COMMAND=ke,exports.DRAGSTART_COMMAND=ve,exports.DROP_COMMAND=Ne,exports.DecoratorNode=Hr,exports.ElementNode=Jr,exports.FOCUS_COMMAND=Ie,exports.FORMAT_ELEMENT_COMMAND=Te,exports.FORMAT_TEXT_COMMAND=re,exports.HISTORIC_TAG="historic",exports.HISTORY_MERGE_TAG=ei,exports.HISTORY_PUSH_TAG="history-push",exports.INDENT_CONTENT_COMMAND=Ce,exports.INSERT_LINE_BREAK_COMMAND=qt,exports.INSERT_PARAGRAPH_COMMAND=Xt,exports.INSERT_TAB_COMMAND=xe,exports.INTERNAL_$isBlock=Lo,exports.IS_ALL_FORMATTING=2047,exports.IS_BOLD=1,exports.IS_CODE=16,exports.IS_HIGHLIGHT=_,exports.IS_ITALIC=2,exports.IS_STRIKETHROUGH=4,exports.IS_SUBSCRIPT=32,exports.IS_SUPERSCRIPT=64,exports.IS_UNDERLINE=8,exports.KEY_ARROW_DOWN_COMMAND=de,exports.KEY_ARROW_LEFT_COMMAND=ae,exports.KEY_ARROW_RIGHT_COMMAND=le,exports.KEY_ARROW_UP_COMMAND=fe,exports.KEY_BACKSPACE_COMMAND=pe,exports.KEY_DELETE_COMMAND=ye,exports.KEY_DOWN_COMMAND=se,exports.KEY_ENTER_COMMAND=he,exports.KEY_ESCAPE_COMMAND=_e,exports.KEY_MODIFIER_COMMAND=Fe,exports.KEY_SPACE_COMMAND=ge,exports.KEY_TAB_COMMAND=me,exports.LineBreakNode=pn,exports.MOVE_TO_END=ce,exports.MOVE_TO_START=ue,exports.NODE_STATE_KEY="$",exports.OUTDENT_CONTENT_COMMAND=Se,exports.PASTE_COMMAND=Zt,exports.PASTE_TAG="paste",exports.ParagraphNode=si,exports.REDO_COMMAND=oe,exports.REMOVE_TEXT_COMMAND=te,exports.RootNode=Gr,exports.SELECTION_CHANGE_COMMAND=jt,exports.SELECTION_INSERT_CLIPBOARD_NODES_COMMAND=Ht,exports.SELECT_ALL_COMMAND=Me,exports.SKIP_COLLAB_TAG="skip-collab",exports.SKIP_DOM_SELECTION_TAG=ii,exports.SKIP_SCROLL_INTO_VIEW_TAG=ri,exports.TEXT_TYPE_TO_FORMAT=A,exports.TabNode=Kn,exports.TextNode=En,exports.UNDO_COMMAND=ie,exports.buildImportMap=function(t){return t;},exports.createCommand=Yt,exports.createEditor=function(t){var e=t||{},n=wr(),r=e.theme||{},i=void 0===t?n:e.parentEditor||null,o=e.disableEvents||!1,s=Qr(),l=e.namespace||(null!==i?i._config.namespace:Hi()),c=e.editorState,a=[Gr,En,pn,Kn,si,oi].concat(e.nodes||[]),u=e.onError,f=e.html,d=void 0===e.editable||e.editable;var h;if(void 0===t&&null!==n)h=n._nodes;else{h=new Map();for(var _t192=0;_t192<a.length;_t192++){var _e119=a[_t192],_n91=null,_r71=null;if("function"!=typeof _e119){var _t193=_e119;_e119=_t193.replace,_n91=_t193["with"],_r71=_t193.withKlass||null;}var _Yo3=Yo(_e119),_i54=_Yo3.ownNodeConfig,_o32=_e119.getType(),_s19=_e119.transform(),_l12=new Set();_i54&&_i54.$transform&&_l12.add(_i54.$transform),null!==_s19&&_l12.add(_s19),h.set(_o32,{exportDOM:f&&f["export"]?f["export"].get(_e119):void 0,klass:_e119,replace:_n91,replaceWithKlass:_r71,sharedNodeState:q(a[_t192]),transforms:_l12});}}var g=new ui(s,i,h,{disableEvents:o,namespace:l,theme:r},u||console.error,function(t,e){var n=new Map(),r=new Set(),i=function i(t){Object.keys(t).forEach(function(e){var r=n.get(e);void 0===r&&(r=[],n.set(e,r)),r.push(t[e]);});};return t.forEach(function(t){var e=t.klass.importDOM;if(null==e||r.has(e))return;r.add(e);var n=e.call(t.klass);null!==n&&i(n);}),e&&i(e),n;}(h,f?f["import"]:void 0),d,t);return void 0!==c&&(g._pendingEditorState=c,g._dirtyType=2),g;},exports.createSharedNodeState=q,exports.createState=function(t,e){return new V(t,e);},exports.flipDirection=qo,exports.getDOMOwnerDocument=go,exports.getDOMSelection=Oo,exports.getDOMSelectionFromTarget=Mo,exports.getDOMTextNode=bi,exports.getEditorPropertyFromDOMNode=Ni,exports.getNearestEditorFromDOMNode=Si,exports.getRegisteredNode=pi,exports.getRegisteredNodeOrThrow=gi,exports.isBlockDomNode=Io,exports.isCurrentlyReadOnlyMode=kr,exports.isDOMDocumentNode=Ei,exports.isDOMNode=wo,exports.isDOMTextNode=ki,exports.isDOMUnmanaged=Uo,exports.isDocumentFragment=Do,exports.isExactShortcutMatch=Zi,exports.isHTMLAnchorElement=function(t){return Ao(t)&&"A"===t.tagName;},exports.isHTMLElement=Ao,exports.isInlineDomNode=Po,exports.isLexicalEditor=Ci,exports.isModifierMatch=Qi,exports.isSelectionCapturedInDecoratorInput=mi,exports.isSelectionWithinEditor=xi,exports.makeStepwiseIterator=ms,exports.removeFromParent=Ai,exports.resetRandomKey=function(){hi=1;},exports.setDOMUnmanaged=function(t){t.__lexicalUnmanaged=!0;},exports.setNodeIndentFromDOM=$o;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<d4f4df497abc7b85a16c829825c1c083>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalComposerContext.prod",["react"],(function $module_LexicalComposerContext_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var e=_require_closure_react||(_require_closure_react=require("react"));var n=e.createContext(null);exports.LexicalComposerContext=n,exports.createLexicalComposerContext=function(e,n){var t=null;return null!=e&&(t=e[1]),{getTheme:function getTheme(){return null!=n?n:null!=t?t.getTheme():null;}};},exports.useLexicalComposerContext=function(){var t=e.useContext(n);return null==t&&function(e){var t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",e);for(var _len=arguments.length,n=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){n[_key-1]=arguments[_key];}for(var _e of n){r.append("v",_e);}throw t.search=r.toString(),Error("Minified Lexical error #"+e+"; visit "+t.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}(8),t;};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<c0b0c1ef6bc1e0ee5dc26b14935cb9c7>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalHashtag.prod",["Lexical","LexicalUtils"],(function $module_LexicalHashtag_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var r=function(_t$TextNode){babelHelpers.inheritsLoose(r,_t$TextNode);function r(){return _t$TextNode.apply(this,arguments)||this;}r.getType=function getType(){return"hashtag";};r.clone=function clone(e){return new r(e.__text,e.__key);};var _proto=r.prototype;_proto.createDOM=function createDOM(t){var r=_t$TextNode.prototype.createDOM.call(this,t);return require("LexicalUtils").addClassNamesToElement(r,t.theme.hashtag),r;};r.importJSON=function importJSON(e){return a().updateFromJSON(e);};_proto.canInsertTextBefore=function canInsertTextBefore(){return!1;};_proto.isTextEntity=function isTextEntity(){return!0;};return r;}(require("Lexical").TextNode);function a(e){if(e===void 0){e="";}return require("Lexical").$applyNodeReplacement(new r(e));}exports.$createHashtagNode=a,exports.$isHashtagNode=function(e){return e instanceof r;},exports.HashtagNode=r;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<5b5c5cbbd7462e401a865cd2fe715742>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalLink.prod",["Lexical","LexicalUtils"],(function $module_LexicalLink_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var n=new Set(["http:","https://www.facebook.com/clusterrevista/","mailto:","sms:","tel:"]);var r=function(_e$ElementNode){babelHelpers.inheritsLoose(r,_e$ElementNode);r.getType=function getType(){return"link";};r.clone=function clone(t){return new r(t.__url,{rel:t.__rel,target:t.__target,title:t.__title},t.__key);};function r(t,e,n){var _this;if(t===void 0){t="";}if(e===void 0){e={};}_this=_e$ElementNode.call(this,n)||this;var _e=e,_e$target=_e.target,_r=_e$target===void 0?null:_e$target,_e$rel=_e.rel,i=_e$rel===void 0?null:_e$rel,_e$title=_e.title,s=_e$title===void 0?null:_e$title;_this.__url=t,_this.__target=_r,_this.__rel=i,_this.__title=s;return _this;}var _proto=r.prototype;_proto.createDOM=function createDOM(e){var n=document.createElement("a");return this.updateLinkDOM(null,n,e),require("LexicalUtils").addClassNamesToElement(n,e.theme.link),n;};_proto.updateLinkDOM=function updateLinkDOM(e,n,r){if(require("LexicalUtils").isHTMLAnchorElement(n)){e&&e.__url===this.__url||(n.href=this.sanitizeUrl(this.__url));for(var _t of["target","rel","title"]){var _r3="__"+_t,_i=this[_r3];e&&e[_r3]===_i||(_i?n[_t]=_i:n.removeAttribute(_t));}}};_proto.updateDOM=function updateDOM(t,e,n){return this.updateLinkDOM(t,e,n),!1;};r.importDOM=function importDOM(){return{a:function a(t){return{conversion:i,priority:1};}};};r.importJSON=function importJSON(t){return s().updateFromJSON(t);};_proto.updateFromJSON=function updateFromJSON(t){return _e$ElementNode.prototype.updateFromJSON.call(this,t).setURL(t.url).setRel(t.rel||null).setTarget(t.target||null).setTitle(t.title||null);};_proto.sanitizeUrl=function sanitizeUrl(t){t=p(t);try{var _e2=new URL(https://www.facebook.com/clusterrevista/p(t));if(!n.has(_e2.protocol))return"about:blank";}catch(e){return t;}return t;};_proto.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_e$ElementNode.prototype.exportJSON.call(this),{rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()});};_proto.getURL=function getURL(){return this.getLatest().__url;};_proto.setURL=function setURL(t){var e=this.getWritable();return e.__url=t,e;};_proto.getTarget=function getTarget(){return this.getLatest().__target;};_proto.setTarget=function setTarget(t){var e=this.getWritable();return e.__target=t,e;};_proto.getRel=function getRel(){return this.getLatest().__rel;};_proto.setRel=function setRel(t){var e=this.getWritable();return e.__rel=t,e;};_proto.getTitle=function getTitle(){return this.getLatest().__title;};_proto.setTitle=function setTitle(t){var e=this.getWritable();return e.__title=t,e;};_proto.insertNewAfter=function insertNewAfter(t,e){if(e===void 0){e=!0;}var n=s(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(n,e),n;};_proto.canInsertTextBefore=function canInsertTextBefore(){return!1;};_proto.canInsertTextAfter=function canInsertTextAfter(){return!1;};_proto.canBeEmpty=function canBeEmpty(){return!1;};_proto.isInline=function isInline(){return!0;};_proto.extractWithChild=function extractWithChild(t,n,r){if(!require("Lexical").$isRangeSelection(n))return!1;var i=n.anchor.getNode(),s=n.focus.getNode();return this.isParentOf(i)&&this.isParentOf(s)&&n.getTextContent().length>0;};_proto.isEmailURI=function isEmailURI(){return this.__url.startsWith("mailto:");};_proto.isWebSiteURI=function isWebSiteURI(){return this.__url.startsWith("https:///")||this.__url.startsWith("http://");};return r;}(require("Lexical").ElementNode);function i(e){var n=null;if(require("LexicalUtils").isHTMLAnchorElement(e)){var _t2=e.textContent;(null!==_t2&&""!==_t2||e.children.length>0)&&(n=s(e.getAttribute("href")||"",{rel:e.getAttribute("rel"),target:e.getAttribute("target"),title:e.getAttribute("title")}));}return{node:n};}function s(t,n){if(t===void 0){t="";}return require("Lexical").$applyNodeReplacement(new r(t,n));}function l(t){return t instanceof r;}var o=function(_r2){babelHelpers.inheritsLoose(o,_r2);function o(t,e,n){var _this2;if(t===void 0){t="";}if(e===void 0){e={};}_this2=_r2.call(this,t,e,n)||this,_this2.__isUnlinked=void 0!==e.isUnlinked&&null!==e.isUnlinked&&e.isUnlinked;return _this2;}o.getType=function getType(){return"autolink";};o.clone=function clone(t){return new o(t.__url,{isUnlinked:t.__isUnlinked,rel:t.__rel,target:t.__target,title:t.__title},t.__key);};var _proto2=o.prototype;_proto2.getIsUnlinked=function getIsUnlinked(){return this.__isUnlinked;};_proto2.setIsUnlinked=function setIsUnlinked(t){var e=this.getWritable();return e.__isUnlinked=t,e;};_proto2.createDOM=function createDOM(t){return this.__isUnlinked?document.createElement("span"):_r2.prototype.createDOM.call(this,t);};_proto2.updateDOM=function updateDOM(t,e,n){return _r2.prototype.updateDOM.call(this,t,e,n)||t.__isUnlinked!==this.__isUnlinked;};o.importJSON=function importJSON(t){return a().updateFromJSON(t);};_proto2.updateFromJSON=function updateFromJSON(t){return _r2.prototype.updateFromJSON.call(this,t).setIsUnlinked(t.isUnlinked||!1);};o.importDOM=function importDOM(){return null;};_proto2.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_r2.prototype.exportJSON.call(this),{isUnlinked:this.__isUnlinked});};_proto2.insertNewAfter=function insertNewAfter(t,n){if(n===void 0){n=!0;}var r=this.getParentOrThrow().insertNewAfter(t,n);if(require("Lexical").$isElementNode(r)){var _t3=a(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return r.append(_t3),_t3;}return null;};return o;}(r);function a(t,n){if(t===void 0){t="";}return require("Lexical").$applyNodeReplacement(new o(t,n));}function u(t){return t instanceof o;}var c=require("Lexical").createCommand("TOGGLE_LINK_COMMAND");function _(t,n){if("element"===t.type){var _r4=t.getNode();require("Lexical").$isElementNode(_r4)||function(t){var n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",t);for(var _len=arguments.length,e=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){e[_key-1]=arguments[_key];}for(var _t4 of e){r.append("v",_t4);}throw n.search=r.toString(),Error("Minified Lexical error #"+t+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}(252);return _r4.getChildren()[t.offset+n]||null;}return null;}function d(n,r){if(r===void 0){r={};}var _r5=r,i=_r5.target,o=_r5.title,a=void 0===r.rel?"noreferrer":r.rel,c=require("Lexical").$getSelection();if(null===c||!require("Lexical").$isRangeSelection(c)&&!require("Lexical").$isNodeSelection(c))return;if(require("Lexical").$isNodeSelection(c)){var _e3=c.getNodes();if(0===_e3.length)return;return void _e3.forEach(function(e){if(null===n){var _n=require("LexicalUtils").$findMatchingParent(e,function(t){return!u(t)&&l(t);});_n&&(_n.insertBefore(e),0===_n.getChildren().length&&_n.remove());}else{var _r6=require("LexicalUtils").$findMatchingParent(e,function(t){return!u(t)&&l(t);});if(_r6)_r6.setURL(n),void 0!==i&&_r6.setTarget(i),void 0!==a&&_r6.setRel(a);else{var _t5=s(n,{rel:a,target:i});e.insertBefore(_t5),_t5.append(e);}}});}var d=c.extract();if(null===n)return void d.forEach(function(e){var n=require("LexicalUtils").$findMatchingParent(e,function(t){return!u(t)&&l(t);});if(n){var _t6=n.getChildren();for(var _e4=0;_e4<_t6.length;_e4++){n.insertBefore(_t6[_e4]);}n.remove();}});var g=new Set(),f=function f(t){g.has(t.getKey())||(g.add(t.getKey()),t.setURL(n),void 0!==i&&t.setTarget(i),void 0!==a&&t.setRel(a),void 0!==o&&t.setTitle(o));};if(1===d.length){var _t7=h(d[0],l);if(null!==_t7)return f(_t7);}!function(t){var n=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(n))return t();var r=require("Lexical").$normalizeSelection__EXPERIMENTAL(n),i=r.isBackward(),s=_(r.anchor,i?-1:0),l=_(r.focus,i?0:-1),o=t();if(s||l){var _t8=require("Lexical").$getSelection();if(require("Lexical").$isRangeSelection(_t8)){var _n2=_t8.clone();if(s){var _t9=s.getParent();_t9&&_n2.anchor.set(_t9.getKey(),s.getIndexWithinParent()+(i?1:0),"element");}if(l){var _t0=l.getParent();_t0&&_n2.focus.set(_t0.getKey(),l.getIndexWithinParent()+(i?0:1),"element");}require("Lexical").$setSelection(require("Lexical").$normalizeSelection__EXPERIMENTAL(_n2));}}}(function(){var t=null;for(var _r7 of d){if(!_r7.isAttached())continue;var _c=h(_r7,l);if(_c){f(_c);continue;}if(require("Lexical").$isElementNode(_r7)){if(!_r7.isInline())continue;if(l(_r7)){if(!(u(_r7)||null!==t&&t.getParentOrThrow().isParentOf(_r7))){f(_r7),t=_r7;continue;}for(var _t1 of _r7.getChildren()){_r7.insertBefore(_t1);}_r7.remove();continue;}}var _2=_r7.getPreviousSibling();l(_2)&&_2.is(t)?_2.append(_r7):(t=s(n,{rel:a,target:i,title:o}),_r7.insertAfter(t),t.append(_r7));}});}var g=d;function h(t,e){var n=t;for(;null!==n&&null!==n.getParent()&&!e(n);){n=n.getParentOrThrow();}return e(n)?n:null;}var f=/^\+?[0-9\s()-]{5,}$/;function p(t){return t.match(/^[a-z][a-z0-9+.-]*:/i)||t.match(/^[/#.]/)?t:t.includes("@")?"mailto:"+t:f.test(t)?"tel:"+t:"https://"+t;}exports.$createAutoLinkNode=a,exports.$createLinkNode=s,exports.$isAutoLinkNode=u,exports.$isLinkNode=l,exports.$toggleLink=d,exports.AutoLinkNode=o,exports.LinkNode=r,exports.TOGGLE_LINK_COMMAND=c,exports.formatUrl=p,exports.toggleLink=g;}),null);
__d("LexicalSelection",["cr:2180"],(function(a,b,c,d,e,f){e.exports=b("cr:2180")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<991a8893e0637665e528aa5c4aaf108d>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalSelection.prod",["Lexical"],(function $module_LexicalSelection_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function t(e){for(var _len=arguments.length,t=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){t[_key-1]=arguments[_key];}var n=new URL("https://lexical.dev/docs/error"),o=new URLSearchParams();o.append("code",e);for(var _e of t){o.append("v",_e);}throw n.search=o.toString(),Error("Minified Lexical error #"+e+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}var n=new Map();function o(e){var t=e;for(;null!=t;){if(t.nodeType===Node.TEXT_NODE)return t;t=t.firstChild;}return null;}function s(e){var t=e.parentNode;if(null==t)throw new Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(e)];}function r(e){var t={};if(!e)return t;var n=e.split(";");for(var _e2 of n){if(""!==_e2){var _e2$split=_e2.split(/:([^]+)/),_n=_e2$split[0],_o=_e2$split[1];_n&&_o&&(t[_n.trim()]=_o.trim());}}return t;}function l(e){var t=n.get(e);return void 0===t&&(t=r(e),n.set(e,t)),t;}function i(e){var t="";for(var _n2 in e){_n2&&(t+=_n2+": "+e[_n2]+";");}return t;}function c(t,n,o){var s=n.getNode(),r=o;if(require("Lexical").$isElementNode(s)){var _e3=s.getDescendantByIndex(n.offset);null!==_e3&&(s=_e3);}for(;r>0&&null!==s;){if(require("Lexical").$isElementNode(s)){var _e4=s.getLastDescendant();null!==_e4&&(s=_e4);}var _o2=s.getPreviousSibling(),_l=0;if(null===_o2){var _e5=s.getParentOrThrow(),_t=_e5.getPreviousSibling();for(;null===_t;){if(_e5=_e5.getParent(),null===_e5){_o2=null;break;}_t=_e5.getPreviousSibling();}null!==_e5&&(_l=_e5.isInline()?0:2,_o2=_t);}var _i=s.getTextContent();""===_i&&require("Lexical").$isElementNode(s)&&!s.isInline()&&(_i="\n\n");var _c=_i.length;if(!require("Lexical").$isTextNode(s)||r>=_c){var _t2=s.getParent();s.remove(),null==_t2||0!==_t2.getChildrenSize()||require("Lexical").$isRootNode(_t2)||_t2.remove(),r-=_c+_l,s=_o2;}else{(function(){var o=s.getKey(),l=t.getEditorState().read(function(){var t=require("Lexical").$getNodeByKey(o);return require("Lexical").$isTextNode(t)&&t.isSimpleText()?t.getTextContent():null;}),f=_c-r,a=_i.slice(0,f);if(null!==l&&l!==_i){var _t3=require("Lexical").$getPreviousSelection();var _n3=s;if(s.isSimpleText())s.setTextContent(l);else{var _t4=require("Lexical").$createTextNode(l);s.replace(_t4),_n3=_t4;}if(require("Lexical").$isRangeSelection(_t3)&&_t3.isCollapsed()){var _e6=_t3.anchor.offset;_n3.select(_e6,_e6);}}else if(s.isSimpleText()){var _e7=n.key===o;var _t5=n.offset;_t5<r&&(_t5=_c);var _l2=_e7?_t5-r:0,_i2=_e7?_t5:f;if(_e7&&0===_l2){var _s$splitText=s.splitText(_l2,_i2),_e8=_s$splitText[0];_e8.remove();}else{var _s$splitText2=s.splitText(_l2,_i2),_e9=_s$splitText2[1];_e9.remove();}}else{var _t6=require("Lexical").$createTextNode(a);s.replace(_t6);}r=0;})();}}}function f(o,s){(require("Lexical").$isRangeSelection(o)?o.isCollapsed():require("Lexical").$isTextNode(o)||require("Lexical").$isElementNode(o))||t(280);var r=l(require("Lexical").$isRangeSelection(o)?o.style:require("Lexical").$isTextNode(o)?o.getStyle():o.getTextStyle()),c=Object.entries(s).reduce(function(e,_ref){var t=_ref[0],n=_ref[1];return"function"==typeof n?e[t]=n(r[t],o):null===n?delete e[t]:e[t]=n,e;},babelHelpers["extends"]({},r)),f=i(c);require("Lexical").$isRangeSelection(o)||require("Lexical").$isTextNode(o)?o.setStyle(f):o.setTextStyle(f),n.set(f,c);}function a(t){var n=require("Lexical").$getSelection();if(!n)return;var o=new Map(),s=function s(e){return o.get(e.getKey())||[0,e.getTextContentSize()];};if(require("Lexical").$isRangeSelection(n))for(var _t7 of require("Lexical").$caretRangeFromSelection(n).getTextSlices()){_t7&&o.set(_t7.caret.origin.getKey(),_t7.getSliceIndices());}var r=n.getNodes();for(var _n4 of r){if(!require("Lexical").$isTextNode(_n4)||!_n4.canHaveFormat())continue;var _s=s(_n4),_o3=_s[0],_r=_s[1];if(_r!==_o3)if(require("Lexical").$isTokenOrSegmented(_n4)||0===_o3&&_r===_n4.getTextContentSize())t(_n4);else{t(_n4.splitText(_o3,_r)[0===_o3?0:1]);}}require("Lexical").$isRangeSelection(n)&&"text"===n.anchor.type&&"text"===n.focus.type&&n.anchor.key===n.focus.key&&d(n);}function d(e){if(e.isBackward()){var _t8=e.anchor,_n5=e.focus,_o4=_t8.key,_s2=_t8.offset,_r2=_t8.type;_t8.set(_n5.key,_n5.offset,_n5.type),_n5.set(_o4,_s2,_r2);}}function g(e,t){var n=e.getFormatType(),o=e.getIndent();n!==t.getFormatType()&&t.setFormat(n),o!==t.getIndent()&&t.setIndent(o);}function u(e){return e.getNode().isAttached();}function p(t){var n=t;for(;null!==n&&!require("Lexical").$isRootOrShadowRoot(n);){var _e0=n.getLatest(),_t9=n.getParent();0===_e0.getChildrenSize()&&n.remove(!0),n=_t9;}}function h(n,o,s,r,l){if(l===void 0){l=null;}if(0===o.length)return;var i=o[0],c=new Map(),f=[];var a=require("Lexical").$isElementNode(i)?i:i.getParentOrThrow();a.isInline()&&(a=a.getParentOrThrow());var d=!1;for(;null!==a;){var _t0=a.getPreviousSibling();if(null!==_t0){a=_t0,d=!0;break;}if(a=a.getParentOrThrow(),require("Lexical").$isRootOrShadowRoot(a))break;}var g=new Set();for(var _t1=0;_t1<s;_t1++){var _n6=o[_t1];require("Lexical").$isElementNode(_n6)&&0===_n6.getChildrenSize()&&g.add(_n6.getKey());}var h=new Set();for(var _n7=0;_n7<s;_n7++){var _s3=o[_n7];var _l3=_s3.getParent();if(null!==_l3&&_l3.isInline()&&(_l3=_l3.getParent()),null!==_l3&&require("Lexical").$isLeafNode(_s3)&&!h.has(_s3.getKey())){var _t10=_l3.getKey();if(void 0===c.get(_t10)){(function(){var n=r();n.setFormat(_l3.getFormatType()),n.setIndent(_l3.getIndent()),f.push(n),c.set(_t10,n),_l3.getChildren().forEach(function(t){n.append(t),h.add(t.getKey()),require("Lexical").$isElementNode(t)&&t.getChildrenKeys().forEach(function(e){return h.add(e);});}),p(_l3);})();}}else if(g.has(_s3.getKey())){require("Lexical").$isElementNode(_s3)||t(179);var _n8=r();_n8.setFormat(_s3.getFormatType()),_n8.setIndent(_s3.getIndent()),f.push(_n8),_s3.remove(!0);}}if(null!==l)for(var _e1=0;_e1<f.length;_e1++){var _t11=f[_e1];l.append(_t11);}var $=null;if(require("Lexical").$isRootOrShadowRoot(a)){if(d){if(null!==l)a.insertAfter(l);else for(var _e10=f.length-1;_e10>=0;_e10--){var _t12=f[_e10];a.insertAfter(_t12);}}else{var _t13=a.getFirstChild();if(require("Lexical").$isElementNode(_t13)&&(a=_t13),null===_t13){if(l)a.append(l);else for(var _e11=0;_e11<f.length;_e11++){var _t14=f[_e11];a.append(_t14),$=_t14;}}else if(null!==l)_t13.insertBefore(l);else for(var _e12=0;_e12<f.length;_e12++){var _n9=f[_e12];_t13.insertBefore(_n9),$=_n9;}}}else if(l)a.insertAfter(l);else for(var _e13=f.length-1;_e13>=0;_e13--){var _t15=f[_e13];a.insertAfter(_t15),$=_t15;}var y=require("Lexical").$getPreviousSelection();require("Lexical").$isRangeSelection(y)&&u(y.anchor)&&u(y.focus)?require("Lexical").$setSelection(y.clone()):null!==$?$.selectEnd():n.dirty=!0;}function $(t){var n=t.anchor.getNode(),o=require("Lexical").$isRootNode(n)?n:n.getParentOrThrow(),s=require("Lexical").$getEditor().getElementByKey(o.getKey());if(null===s)return!1;var r=s.ownerDocument.defaultView;if(null===r)return!1;return"vertical-rl"===r.getComputedStyle(s).writingMode;}function y(e,t,n,o){e.modify(t?"extend":"move",n,o);}function S(t){var n=t.anchor.getNode();return"rtl"===(require("Lexical").$isRootNode(n)?n:n.getParentOrThrow()).getDirection();}function m(e,t,n){var o=l(e.getStyle());return null!==o&&o[t]||n;}function N(e,t){var n=e;for(;null!==n&&null!==n.getParent()&&!t(n);){n=n.getParentOrThrow();}return t(n)?n:null;}var x=c;exports.$cloneWithProperties=require("Lexical").$cloneWithProperties,exports.$selectAll=require("Lexical").$selectAll,exports.$addNodeStyle=function(e){var t=e.getStyle(),o=r(t);n.set(t,o);},exports.$copyBlockFormatIndent=g,exports.$ensureForwardRangeSelection=d,exports.$forEachSelectedTextNode=a,exports.$getSelectionStyleValueForProperty=function(t,n,o){if(o===void 0){o="";}var s=null;var r=t.getNodes(),i=t.anchor,c=t.focus,f=t.isBackward(),a=f?c.offset:i.offset,d=f?c.getNode():i.getNode();if(require("Lexical").$isRangeSelection(t)&&t.isCollapsed()&&""!==t.style){var _e14=l(t.style);if(null!==_e14&&n in _e14)return _e14[n];}for(var _t16=0;_t16<r.length;_t16++){var _l4=r[_t16];if((0===_t16||0!==a||!_l4.is(d))&&require("Lexical").$isTextNode(_l4)){var _e15=m(_l4,n,o);if(null===s)s=_e15;else if(s!==_e15){s="";break;}}}return null===s?o:s;},exports.$isAtNodeEnd=function(n){if("text"===n.type)return n.offset===n.getNode().getTextContentSize();var o=n.getNode();return require("Lexical").$isElementNode(o)||t(177),n.offset===o.getChildrenSize();},exports.$isParentElementRTL=S,exports.$moveCaretSelection=y,exports.$moveCharacter=function(e,t,n){var o=S(e);var s;s=$(e)||o?!n:n,y(e,t,s,"character");},exports.$patchStyleText=function(t,n){if(require("Lexical").$isRangeSelection(t)&&t.isCollapsed()){f(t,n);var _o5=t.anchor.getNode();require("Lexical").$isElementNode(_o5)&&_o5.isEmpty()&&f(_o5,n);}a(function(e){f(e,n);});},exports.$setBlocksType=function(t,n,o){if(o===void 0){o=g;}if(null===t)return;var s=t.getStartEndPoints(),r=new Map();var l=null;if(s){var _t17=s[0],_n0=s[1];l=require("Lexical").$createRangeSelection(),l.anchor.set(_t17.key,_t17.offset,_t17.type),l.focus.set(_n0.key,_n0.offset,_n0.type);var _o6=N(_t17.getNode(),require("Lexical").INTERNAL_$isBlock),_i3=N(_n0.getNode(),require("Lexical").INTERNAL_$isBlock);require("Lexical").$isElementNode(_o6)&&r.set(_o6.getKey(),_o6),require("Lexical").$isElementNode(_i3)&&r.set(_i3.getKey(),_i3);}for(var _n1 of t.getNodes()){if(require("Lexical").$isElementNode(_n1)&&require("Lexical").INTERNAL_$isBlock(_n1))r.set(_n1.getKey(),_n1);else if(null===s){var _t18=N(_n1,require("Lexical").INTERNAL_$isBlock);require("Lexical").$isElementNode(_t18)&&r.set(_t18.getKey(),_t18);}}for(var _ref2 of r){var _e16=_ref2[0];var _t19=_ref2[1];var _s4=n();o(_t19,_s4),_t19.replace(_s4,!0),l&&(_e16===l.anchor.key&&l.anchor.set(_s4.getKey(),l.anchor.offset,l.anchor.type),_e16===l.focus.key&&l.focus.set(_s4.getKey(),l.focus.offset,l.focus.type));}l&&t.is(require("Lexical").$getSelection())&&require("Lexical").$setSelection(l);},exports.$shouldOverrideDefaultCharacterSelection=function(t,n){var o=$(t)?!n:n,s=require("Lexical").$caretFromPoint(t.focus,o?"previous":"next");if(require("Lexical").$isExtendableTextPointCaret(s))return!1;for(var _t20 of require("Lexical").$extendCaretToRange(s)){if(require("Lexical").$isChildCaret(_t20))return!_t20.origin.isInline();if(!require("Lexical").$isElementNode(_t20.origin)){if(require("Lexical").$isDecoratorNode(_t20.origin))return!0;break;}}return!1;},exports.$sliceSelectedTextNodeContent=function(t,n){var o=t.getStartEndPoints();if(n.isSelected(t)&&!require("Lexical").$isTokenOrSegmented(n)&&null!==o){var _s5=o[0],_r3=o[1],_l5=t.isBackward(),_i4=_s5.getNode(),_c2=_r3.getNode(),_f=n.is(_i4),_a=n.is(_c2);if(_f||_a){var _e$$getCharacterOffse=require("Lexical").$getCharacterOffsets(t),_o7=_e$$getCharacterOffse[0],_s6=_e$$getCharacterOffse[1],_r4=_i4.is(_c2),_f2=n.is(_l5?_c2:_i4),_a2=n.is(_l5?_i4:_c2);var _d,_g=0;if(_r4)_g=_o7>_s6?_s6:_o7,_d=_o7>_s6?_o7:_s6;else if(_f2){_g=_l5?_s6:_o7,_d=void 0;}else if(_a2){_g=0,_d=_l5?_o7:_s6;}n.__text=n.__text.slice(_g,_d);}}return n;},exports.$trimTextContentFromAnchor=c,exports.$wrapNodes=function(t,n,o){if(o===void 0){o=null;}var s=t.getStartEndPoints(),r=s?s[0]:null,l=t.getNodes(),i=l.length;if(null!==r&&(0===i||1===i&&"element"===r.type&&0===r.getNode().getChildrenSize())){var _e17="text"===r.type?r.getNode().getParentOrThrow():r.getNode(),_t21=_e17.getChildren();var _s7=n();return _s7.setFormat(_e17.getFormatType()),_s7.setIndent(_e17.getIndent()),_t21.forEach(function(e){return _s7.append(e);}),o&&(_s7=o.append(_s7)),void _e17.replace(_s7);}var c=null,f=[];for(var _s8=0;_s8<i;_s8++){var _r5=l[_s8];require("Lexical").$isRootOrShadowRoot(_r5)?(h(t,f,f.length,n,o),f=[],c=_r5):null===c||null!==c&&require("Lexical").$hasAncestor(_r5,c)?f.push(_r5):(h(t,f,f.length,n,o),f=[_r5]);}h(t,f,f.length,n,o);},exports.createDOMRange=function(t,n,r,l,i){var _s9,_s0;var c=n.getKey(),f=l.getKey(),a=document.createRange();var d=t.getElementByKey(c),g=t.getElementByKey(f),u=r,p=i;if(require("Lexical").$isTextNode(n)&&(d=o(d)),require("Lexical").$isTextNode(l)&&(g=o(g)),void 0===n||void 0===l||null===d||null===g)return null;"BR"===d.nodeName&&(_s9=s(d),d=_s9[0],u=_s9[1],_s9),"BR"===g.nodeName&&(_s0=s(g),g=_s0[0],p=_s0[1],_s0);var h=d.firstChild;d===g&&null!=h&&"BR"===h.nodeName&&0===u&&0===p&&(p=1);try{a.setStart(d,u),a.setEnd(g,p);}catch(e){return null;}return!a.collapsed||u===p&&c===f||(a.setStart(g,p),a.setEnd(d,u)),a;},exports.createRectsFromDOMRange=function(e,t){var n=e.getRootElement();if(null===n)return[];var o=n.getBoundingClientRect(),s=getComputedStyle(n),r=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),l=Array.from(t.getClientRects());var i,c=l.length;l.sort(function(e,t){var n=e.top-t.top;return Math.abs(n)<=3?e.left-t.left:n;});for(var _e18=0;_e18<c;_e18++){var _t22=l[_e18],_n10=i&&i.top<=_t22.top&&i.top+i.height>_t22.top&&i.left+i.width>_t22.left,_s1=_t22.width+r===o.width;_n10||_s1?(l.splice(_e18--,1),c--):i=_t22;}return l;},exports.getCSSFromStyleObject=i,exports.getStyleObjectFromCSS=l,exports.trimTextContentFromAnchor=x;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<7dcdb223bf348832203cf99dbbd5db05>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalText.prod",["Lexical"],(function $module_LexicalText_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function e(){return require("Lexical").$getRoot().getTextContent();}function n(t,n){if(n===void 0){n=!0;}if(t)return!1;var r=e();return n&&(r=r.trim()),""===r;}function r(e){if(!n(e,!1))return!1;var r=require("Lexical").$getRoot().getChildren(),o=r.length;if(o>1)return!1;for(var _e=0;_e<o;_e++){var _n=r[_e];if(require("Lexical").$isDecoratorNode(_n))return!1;if(require("Lexical").$isElementNode(_n)){if(!require("Lexical").$isParagraphNode(_n))return!1;if(0!==_n.__indent)return!1;var _r=_n.getChildren(),_o=_r.length;for(var _n2=0;_n2<_o;_n2++){var _n3=_r[_e];if(!require("Lexical").$isTextNode(_n3))return!1;}}}return!0;}function o(t){var n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",t);for(var _len=arguments.length,e=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){e[_key-1]=arguments[_key];}for(var _t of e){r.append("v",_t);}throw n.search=r.toString(),Error("Minified Lexical error #"+t+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}exports.$canShowPlaceholder=r,exports.$canShowPlaceholderCurry=function(t){return function(){return r(t);};},exports.$findTextIntersectionFromCharacters=function(e,n){var r=e.getFirstChild(),o=0;t:for(;null!==r;){if(require("Lexical").$isElementNode(r)){var _t2=r.getFirstChild();if(null!==_t2){r=_t2;continue;}}else if(require("Lexical").$isTextNode(r)){var _t3=r.getTextContentSize();if(o+_t3>n)return{node:r,offset:n-o};o+=_t3;}var _e2=r.getNextSibling();if(null!==_e2){r=_e2;continue;}var i=r.getParent();for(;null!==i;){var _t4=i.getNextSibling();if(null!==_t4){r=_t4;continue t;}i=i.getParent();}break;}return null;},exports.$isRootTextContentEmpty=n,exports.$isRootTextContentEmptyCurry=function(t,e){return function(){return n(t,e);};},exports.$rootTextContent=e,exports.registerLexicalTextEntity=function(e,n,r,i){var s=function s(t){return t instanceof r;},l=function l(e){var n=require("Lexical").$createTextNode(e.getTextContent());n.setFormat(e.getFormat()),e.replace(n);};return[e.registerNodeTransform(require("Lexical").TextNode,function(e){if(!e.isSimpleText())return;var r,u=e.getPreviousSibling(),c=e.getTextContent(),f=e;if(require("Lexical").$isTextNode(u)){var _t5=u.getTextContent(),_r2=n(_t5+c);if(s(u)){if(null===_r2||0!==function(t){return t.getLatest().__mode;}(u))return void l(u);{var _n4=_r2.end-_t5.length;if(_n4>0){var _r3=_t5+c.slice(0,_n4);if(u.select(),u.setTextContent(_r3),_n4===c.length)e.remove();else{var _t6=c.slice(_n4);e.setTextContent(_t6);}return;}}}else if(null===_r2||_r2.start<_t5.length)return;}var d=0;for(;;){var _f$splitText,_f$splitText2;r=n(c);var _e3=void 0,a=null===r?"":c.slice(r.end);if(c=a,""===a){var _e4=f.getNextSibling();if(require("Lexical").$isTextNode(_e4)){a=f.getTextContent()+_e4.getTextContent();var _t7=n(a);if(null===_t7)return void(s(_e4)?l(_e4):_e4.markDirty());if(0!==_t7.start)return;}}if(null===r)return;if(0===r.start&&require("Lexical").$isTextNode(u)&&u.isTextEntity()){d+=r.end;continue;}0===r.start?(_f$splitText=f.splitText(r.end),_e3=_f$splitText[0],f=_f$splitText[1],_f$splitText):(_f$splitText2=f.splitText(r.start+d,r.end+d),_e3=_f$splitText2[1],f=_f$splitText2[2],_f$splitText2),void 0===_e3&&o(165,"nodeToReplace");var x=i(_e3);if(x.setFormat(_e3.getFormat()),_e3.replace(x),null==f)return;d=0,u=x;}}),e.registerNodeTransform(r,function(e){var r=e.getTextContent(),o=n(r);if(null===o||0!==o.start)return void l(e);if(r.length>o.end)return void e.splitText(o.end);var i=e.getPreviousSibling();require("Lexical").$isTextNode(i)&&i.isTextEntity()&&(l(i),l(e));var u=e.getNextSibling();require("Lexical").$isTextNode(u)&&u.isTextEntity()&&(l(u),s(e)&&l(e));})];};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<b72425b2c8b1975089fe69d59436a7f2>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalUtils.prod",["Lexical","LexicalSelection"],(function $module_LexicalUtils_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function n(e){var n=new URL("https://lexical.dev/docs/error"),o=new URLSearchParams();o.append("code",e);for(var _len=arguments.length,t=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){t[_key-1]=arguments[_key];}for(var _e of t){o.append("v",_e);}throw n.search=o.toString(),Error("Minified Lexical error #"+e+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}var o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,r=o&&"documentMode"in document?document.documentMode:null,i=o&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),s=o&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),l=!(!o||!("InputEvent"in window)||r)&&"getTargetRanges"in new window.InputEvent("input"),a=o&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),c=o&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,u=o&&/Android/.test(navigator.userAgent),d=o&&/^(?=.*Chrome).*/i.test(navigator.userAgent),g=o&&u&&d,f=o&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!d;function p(){var t=[];for(var _len2=arguments.length,e=new Array(_len2),_key2=0;_key2<_len2;_key2++){e[_key2]=arguments[_key2];}for(var _n of e){if(_n&&"string"==typeof _n)for(var _ref of _n.matchAll(/\S+/g)){var _e2=_ref[0];t.push(_e2);}}return t;}function m(){for(var _len3=arguments.length,e=new Array(_len3),_key3=0;_key3<_len3;_key3++){e[_key3]=arguments[_key3];}return function(){for(var _t=e.length-1;_t>=0;_t--){e[_t]();}e.length=0;};}function h(e){return e+"px";}var $={attributes:!0,characterData:!0,childList:!0,subtree:!0};function x(o,r,i){var s=null,l=null,a=null,c=[];var u=document.createElement("div");function d(){null===s&&n(182),null===l&&n(183);var _l$getBoundingClientR=l.getBoundingClientRect(),e=_l$getBoundingClientR.left,a=_l$getBoundingClientR.top,d=require("LexicalSelection").createRectsFromDOMRange(o,r);var g,f;u.isConnected||(f=u,(g=l).insertBefore(f,g.firstChild));var p=!1;for(var _t2=0;_t2<d.length;_t2++){var _n2=d[_t2],_o=c[_t2]||document.createElement("div"),_r=_o.style;"absolute"!==_r.position&&(_r.position="absolute",p=!0);var _i=h(_n2.left-e);_r.left!==_i&&(_r.left=_i,p=!0);var _s=h(_n2.top-a);_r.top!==_s&&(_o.style.top=_s,p=!0);var _l=h(_n2.width);_r.width!==_l&&(_o.style.width=_l,p=!0);var _g=h(_n2.height);_r.height!==_g&&(_o.style.height=_g,p=!0),_o.parentNode!==u&&(u.append(_o),p=!0),c[_t2]=_o;}for(;c.length>d.length;){c.pop();}p&&i(c);}function g(){l=null,s=null,null!==a&&a.disconnect(),a=null,u.remove();for(var _e3 of c){_e3.remove();}c=[];}u.style.position="relative";var f=o.registerRootListener(function t(){var n=o.getRootElement();if(null===n)return g();var r=n.parentElement;if(!require("Lexical").isHTMLElement(r))return g();g(),s=n,l=r,a=new MutationObserver(function(e){var n=o.getRootElement(),r=n&&n.parentElement;if(n!==s||r!==l)return t();for(var _t3 of e){if(!u.contains(_t3.target))return d();}}),a.observe(r,$),d();});return function(){f(),g();};}function C(t,n,o){if("text"!==t.type&&require("Lexical").$isElementNode(n)){var _e4=n.getDOMSlot(o);return[_e4.element,_e4.getFirstChildOffset()+t.offset];}return[require("Lexical").getDOMTextNode(o)||o,t.offset];}function S(t,n){var o=null,r=null,i=null,s=null,l=null,a=null,c=function c(){};function u(u){u.read(function(){var u=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(u))return o=null,i=null,s=null,a=null,c(),void(c=function c(){});var d=u.anchor,g=u.focus,f=d.getNode(),p=f.getKey(),m=d.offset,$=g.getNode(),S=$.getKey(),E=g.offset,v=t.getElementByKey(p),N=t.getElementByKey(S),w=null===o||v!==r||m!==i||p!==o.getKey(),y=null===s||N!==l||E!==a||S!==s.getKey();if((w||y)&&null!==v&&null!==N){var _e5=function(e,t,n,o,r,i,s){var l=(e._window?e._window.document:document).createRange();return i.isBefore(n)?(l.setStart.apply(l,C(r,i,s)),l.setEnd.apply(l,C(t,n,o))):(l.setStart.apply(l,C(t,n,o)),l.setEnd.apply(l,C(r,i,s))),l;}(t,d,f,v,g,$,N);c(),c=x(t,_e5,function(e){if(void 0===n)for(var _t4 of e){var _e6=_t4.style;"Highlight"!==_e6.background&&(_e6.background="Highlight"),"HighlightText"!==_e6.color&&(_e6.color="HighlightText"),_e6.marginTop!==h(-1.5)&&(_e6.marginTop=h(-1.5)),_e6.paddingTop!==h(4)&&(_e6.paddingTop=h(4)),_e6.paddingBottom!==h(0)&&(_e6.paddingBottom=h(0));}else n(e);});}o=f,r=v,i=m,s=$,l=N,a=E;});}return u(t.getEditorState()),m(t.registerUpdateListener(function(_ref2){var e=_ref2.editorState;return u(e);}),function(){c();});}var E=l,v=o,N=u,w=g,y=i,A=f,R=d,P=s,b=c,I=a;function L(e,t){for(var _n3 of t){if(e.type.startsWith(_n3))return!0;}return!1;}function T(e,t){return M("next",e,t);}function M(t,n,o){var r=require("Lexical").$getRoot(),i=n||r,s=require("Lexical").$isElementNode(i)?require("Lexical").$getChildCaret(i,t):require("Lexical").$getSiblingCaret(i,t),l=_(i),a=o?require("Lexical").$getAdjacentChildCaret(require("Lexical").$getChildCaretOrSelf(require("Lexical").$getSiblingCaret(o,t))):function(t,n){var o=K(require("Lexical").$getSiblingCaret(t,n));return o&&o[0];}(i,t);var c=l;return require("Lexical").makeStepwiseIterator({hasNext:function hasNext(e){return null!==e;},initial:s,map:function map(e){return{depth:c,node:e.origin};},step:function step(t){if(t.isSameNodeCaret(a))return null;require("Lexical").$isChildCaret(t)&&c++;var n=K(t);return!n||n[0].isSameNodeCaret(a)?null:(c+=n[1],n[0]);}});}function _(e){var t=-1;for(var _n4=e;null!==_n4;_n4=_n4.getParent()){t++;}return t;}function O(e,t){return M("previous",e,t);}var D=function D(t,n){var o=t;for(;o!==require("Lexical").$getRoot()&&null!=o;){if(n(o))return o;o=o.getParent();}return null;};function F(t,o,r){var i=require("Lexical").$getCaretInDirection(o,"next");for(var _t5=i;_t5;_t5=require("Lexical").$splitAtPointCaretNext(_t5,r)){i=_t5;}return require("Lexical").$isTextPointCaret(i)&&n(283),i.insert(t.isInline()?require("Lexical").$createParagraphNode().append(t):t),require("Lexical").$getCaretInDirection(require("Lexical").$getSiblingCaret(t.getLatest(),"next"),o.direction);}var B=!(P||!v)&&void 0;function k(t,n,o){var r=!1;var _loop=function _loop(_i2){n(_i2)?null!==o&&o(_i2):(r=!0,require("Lexical").$isElementNode(_i2)&&k(_i2,n,o||function(e){return _i2.insertAfter(e);}),_i2.remove());};for(var _i2 of j(t)){_loop(_i2);}return r;}function j(t){return H(require("Lexical").$getChildCaret(t,"previous"));}function H(t){return require("Lexical").makeStepwiseIterator({hasNext:require("Lexical").$isSiblingCaret,initial:t.getAdjacentCaret(),map:function map(e){return e.origin.getLatest();},step:function step(e){return e.getAdjacentCaret();}});}function K(t,n){if(n===void 0){n="root";}var o=0,r=t,i=require("Lexical").$getAdjacentChildCaret(r);for(;null===i;){if(o--,i=r.getParentCaret(n),!i)return null;r=i,i=require("Lexical").$getAdjacentChildCaret(r);}return i&&[i,o];}exports.$splitNode=require("Lexical").$splitNode,exports.isBlockDomNode=require("Lexical").isBlockDomNode,exports.isHTMLAnchorElement=require("Lexical").isHTMLAnchorElement,exports.isHTMLElement=require("Lexical").isHTMLElement,exports.isInlineDomNode=require("Lexical").isInlineDomNode,exports.$descendantsMatching=function(t,n){var o=[],r=Array.from(t).reverse();for(var _t6=r.pop();void 0!==_t6;_t6=r.pop()){if(n(_t6))o.push(_t6);else if(require("Lexical").$isElementNode(_t6))for(var _e7 of j(_t6)){r.push(_e7);}}return o;},exports.$dfs=function(e,t){return Array.from(T(e,t));},exports.$dfsIterator=T,exports.$filter=function(e,t){var n=[];for(var _o2=0;_o2<e.length;_o2++){var _r2=t(e[_o2]);null!==_r2&&n.push(_r2);}return n;},exports.$findMatchingParent=D,exports.$firstToLastIterator=function(t){return H(require("Lexical").$getChildCaret(t,"next"));},exports.$getAdjacentCaret=function(e){return e?e.getAdjacentCaret():null;},exports.$getAdjacentSiblingOrParentSiblingCaret=K,exports.$getDepth=_,exports.$getNearestBlockElementAncestorOrThrow=function(t){var o=D(t,function(t){return require("Lexical").$isElementNode(t)&&!t.isInline();});return require("Lexical").$isElementNode(o)||n(4,t.__key),o;},exports.$getNearestNodeOfType=function(e,t){var n=e;for(;null!=n;){if(n instanceof t)return n;n=n.getParent();}return null;},exports.$getNextRightPreorderNode=function(t){var n=K(require("Lexical").$getChildCaretOrSelf(require("Lexical").$getSiblingCaret(t,"previous")),"root");return n&&n[0].origin;},exports.$getNextSiblingOrParentSibling=function(t){var n=K(require("Lexical").$getSiblingCaret(t,"next"));return n&&[n[0].origin,n[1]];},exports.$insertFirst=function(t,n){require("Lexical").$getChildCaret(t,"next").insert(n);},exports.$insertNodeToNearestRoot=function(t){var n=require("Lexical").$getSelection()||require("Lexical").$getPreviousSelection();var o;if(require("Lexical").$isRangeSelection(n))o=require("Lexical").$caretFromPoint(n.focus,"next");else{if(null!=n){var _t7=n.getNodes(),_r3=_t7[_t7.length-1];_r3&&(o=require("Lexical").$getSiblingCaret(_r3,"next"));}o=o||require("Lexical").$getChildCaret(require("Lexical").$getRoot(),"previous").getFlipped().insert(require("Lexical").$createParagraphNode());}var r=F(t,o),i=require("Lexical").$getAdjacentChildCaret(r),s=require("Lexical").$isChildCaret(i)?require("Lexical").$normalizeCaret(i):r;return require("Lexical").$setSelectionFromCaretRange(require("Lexical").$getCollapsedCaretRange(s)),t.getLatest();},exports.$insertNodeToNearestRootAtCaret=F,exports.$isEditorIsNestedEditor=function(e){return null!==e._parentEditor;},exports.$lastToFirstIterator=j,exports.$restoreEditorState=function(t,n){var o=new Map(),r=t._pendingEditorState;for(var _ref3 of n._nodeMap){var _t8=_ref3[0];var _r4=_ref3[1];o.set(_t8,require("Lexical").$cloneWithProperties(_r4));}r&&(r._nodeMap=o),t._dirtyType=2;var i=n._selection;require("Lexical").$setSelection(null===i?null:i.clone());},exports.$reverseDfs=function(e,t){return Array.from(O(e,t));},exports.$reverseDfsIterator=O,exports.$unwrapAndFilterDescendants=function(e,t){return k(e,t,null);},exports.$unwrapNode=function(t){require("Lexical").$rewindSiblingCaret(require("Lexical").$getSiblingCaret(t,"next")).splice(1,t.getChildren());},exports.$wrapNodeInElement=function(e,t){var n=t();return e.replace(n),n.append(e),n;},exports.CAN_USE_BEFORE_INPUT=E,exports.CAN_USE_DOM=v,exports.IS_ANDROID=N,exports.IS_ANDROID_CHROME=w,exports.IS_APPLE=y,exports.IS_APPLE_WEBKIT=A,exports.IS_CHROME=R,exports.IS_FIREFOX=P,exports.IS_IOS=b,exports.IS_SAFARI=I,exports.addClassNamesToElement=function(e){var _e$classList;for(var _len4=arguments.length,t=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){t[_key4-1]=arguments[_key4];}var n=p.apply(void 0,t);n.length>0&&(_e$classList=e.classList).add.apply(_e$classList,n);},exports.calculateZoomLevel=function(e){var t=1;if(function(){if(void 0===B){var _e8=document.createElement("div");_e8.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(_e8);var _t9=_e8.getBoundingClientRect();_e8.style.setProperty("zoom","2"),B=_e8.getBoundingClientRect().width===_t9.width,document.body.removeChild(_e8);}return B;}())for(;e;){t*=Number(window.getComputedStyle(e).getPropertyValue("zoom")),e=e.parentElement;}return t;},exports.isMimeType=L,exports.makeStateWrapper=function(t){var n=function n(_n5){return require("Lexical").$getState(_n5,t);},o=function o(n,_o3){return require("Lexical").$setState(n,t,_o3);};return{$get:n,$set:o,accessors:[n,o],makeGetterMethod:function makeGetterMethod(){return function(){return n(this);};},makeSetterMethod:function makeSetterMethod(){return function(e){return o(this,e);};},stateConfig:t};},exports.markSelection=S,exports.mediaFileReader=function(e,t){var n=e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();return new Promise(function(e,o){var r=[],i=function i(){var _n$next=n.next(),s=_n$next.done,l=_n$next.value;if(s)return e(r);var a=new FileReader();a.addEventListener("error",o),a.addEventListener("load",function(){var e=a.result;"string"==typeof e&&r.push({file:l,result:e}),i();}),L(l,t)?a.readAsDataURL(l):i();};i();});},exports.mergeRegister=m,exports.objectKlassEquals=function(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name;},exports.positionNodeOnRange=x,exports.registerNestedElementResolver=function(e,t,n,o){var r=function r(e){return e instanceof t;};return e.registerNodeTransform(t,function(e){var t=function(e){var t=e.getChildren();for(var _e9=0;_e9<t.length;_e9++){var _n6=t[_e9];if(r(_n6))return null;}var n=e,o=e;for(;null!==n;){if(o=n,n=n.getParent(),r(n))return{child:o,parent:n};}return null;}(e);if(null!==t){var _r5=t.child,_i3=t.parent;if(_r5.is(e)){o(_i3,e);var _t0=_r5.getNextSiblings(),_s2=_t0.length;if(_i3.insertAfter(_r5),0!==_s2){var _e0=n(_i3);_r5.insertAfter(_e0);for(var _n7=0;_n7<_s2;_n7++){_e0.append(_t0[_n7]);}}_i3.canBeEmpty()||0!==_i3.getChildrenSize()||_i3.remove();}}});},exports.removeClassNamesFromElement=function(e){var _e$classList2;for(var _len5=arguments.length,t=new Array(_len5>1?_len5-1:0),_key5=1;_key5<_len5;_key5++){t[_key5-1]=arguments[_key5];}var n=p.apply(void 0,t);n.length>0&&(_e$classList2=e.classList).remove.apply(_e$classList2,n);},exports.selectionAlwaysOnDisplay=function(e){var t=null;var n=function n(){var n=getSelection(),o=n&&n.anchorNode,r=e.getRootElement();null!==o&&null!==r&&r.contains(o)?null!==t&&(t(),t=null):null===t&&(t=S(e));};return document.addEventListener("selectionchange",n),function(){null!==t&&t(),document.removeEventListener("selectionchange",n);};};}),null);
__d("MLCCharacterLimitCountPlugin.react",["LexicalComposerContext","LexicalText","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=function(a){return a.length};function a(a){var b=a.editor__DEPRECATED,c=a.limit,e=a.onChange;a=a.strlen;var f=a===void 0?j:a,g;if(b)g=b;else{a=d("LexicalComposerContext").useLexicalComposerContext();g=a[0]}i(function(){var a=g.getEditorState().read(function(){return c-f(d("LexicalText").$rootTextContent())});e(a);return g.registerTextContentListener(function(a){a=c-f(a);e(a)})},[g,c,e,f]);return null}g["default"]=a}),98);
__d("UFICommonInteractionEvents",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({COMET_UFI_COMMENT_REACTION:"CometUFICommentReaction",COMET_UFI_COMPOSER_KEYPRESS_LATENCY:"CometUFIComposerKeypressLatency",COMET_UFI_OPTIMISTIC_COMMENT:"CometUFIOptimisticComment",COMET_UFI_OPTIMISTIC_COMMENT_EDIT:"CometUFIOptimisticCommentEdit",COMET_UFI_PERSISTED_COMMENT:"CometUFIPersistedComment",COMET_UFI_PERSISTED_COMMENT_EDIT:"CometUFIPersistedCommentEdit",COMET_UFI_REPLY_COMMENTS_PAGINATION:"CometUFIReplyCommentsPagination",COMET_UFI_STORY_REACTION:"CometUFIStoryReaction",COMET_UFI_TOP_LEVEL_COMMENTS_PAGINATION:"CometUFITopLevelCommentsPagination",UFI_COMMENT_REACTION:"UFICommentReaction",UFI_COMPOSER_INPUT_FOCUS:"UFIComposerInputFocus",UFI_COMPOSER_KEYPRESS_LATENCY:"UFIComposerKeypressLatency",UFI_OPTIMISTIC_COMMENT:"UFIOptimisticComment",UFI_PERSISTED_COMMENT:"UFIPersistedComment",UFI_SHARE_DIALOG_OPENS:"UFIShareDialogOpens",UFI_STORY_REACTION:"UFIStoryReaction",UFI_TOP_LEVEL_COMMENTS_PAGINATION:"UFITopLevelCommentsPagination",UFI2_COMMENT_REACTION:"UFI2CommentReaction",UFI2_COMPOSER_KEYPRESS_LATENCY:"UFI2ComposerKeypressLatency",UFI2_OPTIMISTIC_COMMENT:"UFI2OptimisticComment",UFI2_OPTIMISTIC_COMMENT_EDIT:"UFI2OptimisticCommentEdit",UFI2_PERSISTED_COMMENT:"UFI2PersistedComment",UFI2_PERSISTED_COMMENT_EDIT:"UFI2PersistedCommentEdit",UFI2_REPLY_COMMENTS_PAGINATION:"UFI2ReplyCommentsPagination",UFI2_SHARE_DIALOG_OPENS:"UFI2ShareDialogOpens",UFI2_STORY_REACTION:"UFI2StoryReaction",UFI2_TOP_LEVEL_COMMENTS_PAGINATION:"UFI2TopLevelCommentsPagination"});c=a;f["default"]=c}),66);
__d("UFICommonInteractionLogger",["QuickPerformanceLogger","UFICommonInteractionEvents","performanceAbsoluteNow","qpl","requestAnimationFrameAcrossTransitions","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map(),k=0;function l(){return c("uuidv4")()}function a(a,b){var d=(h||(h=c("performanceAbsoluteNow")))();b=b!=null?b:l();a=n(a);var e;if(a){var f=k++;e={event:a,markerKey:f};(i||(i=c("QuickPerformanceLogger"))).markerStart(a,f,d)}j.set(b,{qplInfo:e,startTimestamp:d});return b}function b(a){c("requestAnimationFrameAcrossTransitions")(function(){m(a)})}function m(a,b){var d=j.get(a);if(d){d=d.qplInfo;j["delete"](a);if(d){a=(h||(h=c("performanceAbsoluteNow")))();(i||(i=c("QuickPerformanceLogger"))).markerEnd(d.event,b===!0?3:2,d.markerKey,a)}}}function n(a){switch(a){case c("UFICommonInteractionEvents").UFI_OPTIMISTIC_COMMENT:return c("qpl")._(3735589,"1811");case c("UFICommonInteractionEvents").UFI_PERSISTED_COMMENT:return c("qpl")._(3735591,"5737");case c("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT:return c("qpl")._(3735590,"6043");case c("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT:return c("qpl")._(3735592,"2960");case c("UFICommonInteractionEvents").COMET_UFI_OPTIMISTIC_COMMENT:return c("qpl")._(3735618,"7148");case c("UFICommonInteractionEvents").COMET_UFI_PERSISTED_COMMENT:return c("qpl")._(3735619,"7056");case c("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT_EDIT:return c("qpl")._(3735593,"7493");case c("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT_EDIT:return c("qpl")._(3735594,"1099");case c("UFICommonInteractionEvents").COMET_UFI_OPTIMISTIC_COMMENT_EDIT:return c("qpl")._(3735626,"5992");case c("UFICommonInteractionEvents").COMET_UFI_PERSISTED_COMMENT_EDIT:return c("qpl")._(3735627,"6752");case c("UFICommonInteractionEvents").UFI_TOP_LEVEL_COMMENTS_PAGINATION:return c("qpl")._(3735595,"4690");case c("UFICommonInteractionEvents").UFI2_TOP_LEVEL_COMMENTS_PAGINATION:return c("qpl")._(3735596,"3289");case c("UFICommonInteractionEvents").COMET_UFI_TOP_LEVEL_COMMENTS_PAGINATION:return c("qpl")._(3735620,"232");case c("UFICommonInteractionEvents").UFI2_REPLY_COMMENTS_PAGINATION:return c("qpl")._(3735597,"1585");case c("UFICommonInteractionEvents").COMET_UFI_REPLY_COMMENTS_PAGINATION:return c("qpl")._(3735622,"1891");case c("UFICommonInteractionEvents").UFI_SHARE_DIALOG_OPENS:return c("qpl")._(3735598,"7109");case c("UFICommonInteractionEvents").UFI2_SHARE_DIALOG_OPENS:return c("qpl")._(3735599,"1269");case c("UFICommonInteractionEvents").UFI_COMPOSER_INPUT_FOCUS:return c("qpl")._(3735600,"6153");case c("UFICommonInteractionEvents").UFI_STORY_REACTION:return c("qpl")._(3735601,"3455");case c("UFICommonInteractionEvents").UFI_COMMENT_REACTION:return c("qpl")._(3735604,"6177");case c("UFICommonInteractionEvents").UFI2_STORY_REACTION:return c("qpl")._(3735602,"4694");case c("UFICommonInteractionEvents").UFI2_COMMENT_REACTION:return c("qpl")._(3735603,"6895");case c("UFICommonInteractionEvents").COMET_UFI_STORY_REACTION:return c("qpl")._(3735623,"54");case c("UFICommonInteractionEvents").COMET_UFI_COMMENT_REACTION:return c("qpl")._(3735624,"702");case c("UFICommonInteractionEvents").UFI_COMPOSER_KEYPRESS_LATENCY:return c("qpl")._(3735605,"622");case c("UFICommonInteractionEvents").UFI2_COMPOSER_KEYPRESS_LATENCY:return c("qpl")._(3735606,"5054");case c("UFICommonInteractionEvents").COMET_UFI_COMPOSER_KEYPRESS_LATENCY:return c("qpl")._(3735625,"7813")}}g.makeTrackingID=l;g.startInteraction=a;g.endInteractionAtEndOfFrame=b;g.endInteraction=m}),98);
__d("cometUFIComposerAssociateReplyWithParentPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerAssociateReplyWithParentPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerAssociateReplyWithParentPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerAssociateReplyWithParentPlugin",["cometUFIComposerAssociateReplyWithParentPlugin_plugin.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useLayoutEffect;h!==void 0?h:h=b("cometUFIComposerAssociateReplyWithParentPlugin_plugin.graphql");function k(a){var b=d("react-compiler-runtime").c(4);a=a.pluginProps;var c=a.addCommandListener,e=a.setComposerState,f;b[0]!==c||b[1]!==e?(a=function(){c(function(a){if(a.__type==="SetReplyAssociation"){var b=a.commentAssociatedWithReply;e(function(){return{commentAssociatedWithReply:b}});return"handled"}return"not-handled"})},f=[c,e],b[0]=c,b[1]=e,b[2]=a,b[3]=f):(a=b[2],f=b[3]);j(a,f);return null}function a(a){return{above:null,action:null,below:k,id:"associate_reply",inside:null,props:{}}}g["default"]=a}),98);
__d("cometUFIComposerAssociateReplyWithParentPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerAssociateReplyWithParentPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerCommentCharacterLimitPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerCommentCharacterLimitPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerCommentCharacterLimitPlugin",abstractKey:null};e.exports=a}),null);
__d("errorDesc",["fbt","invariant"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){i(0,3625)}a.withParams=function(a,b){i(0,3625)};a._=function(a,b){return a(h,b)};b=a;g["default"]=b}),98);
__d("errorSummary",["fbt","invariant"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){i(0,771)}a._=function(a){return a(h)};g["default"]=a}),98);
__d("lengthInUTF8Bytes",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=new TextEncoder();return b.encode(a).length}function h(a){var b=encodeURIComponent(a).match(/%[89ABab]/g);return a.length+(b?b.length:0)}a=function(){if(typeof TextEncoder==="undefined")return h;else return g}();f["default"]=a}),66);
__d("cometUFIComposerCommentCharacterLimitPlugin",["errorCode","errorDesc","CometWallConstants","FDSText.react","MLCCharacterLimitCountPlugin.react","cometUFIComposerCommentCharacterLimitPlugin_plugin.graphql","errorSummary","lengthInUTF8Bytes","react","useCometAlertDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));e=k;var m=e.useCallback,n=e.useEffect,o=e.useRef,p=e.useState;j!==void 0?j:j=b("cometUFIComposerCommentCharacterLimitPlugin_plugin.graphql");function q(a){var b=a.pluginProps.addCommitListener,d=c("useCometAlertDialog")(),e=o(0);a=p(0);var f=a[0],g=a[1];a=m(function(a){a<=0?(e.current=-a,g(-a)):(e.current=0,g(0))},[]);n(function(){return b(function(){if(e.current>0){var a=1446011,b=c("errorSummary")._(function(a){return a._(/*BTDS*/"Comment is Too Long")}),f=i._(function(a,b){return a._(/*BTDS*/"Comments can't be longer than 8,000 characters. Try shortening your comment.")},{});a!=null&&b!=null&&f!=null&&d({body:f,title:b});return"block-commit"}return"continue-commit"})},[b,d]);return l.jsxs(l.Fragment,{children:[l.jsx(c("MLCCharacterLimitCountPlugin.react"),{limit:c("CometWallConstants").COMMENT_MAX_LENGTH,onChange:a,strlen:c("lengthInUTF8Bytes")}),f>0&&l.jsx(c("FDSText.react"),{color:"negative",testid:void 0,type:"body3",children:-f})]})}q.displayName=q.name+" [from "+f.id+"]";function a(){return{above:null,action:null,below:null,id:"comment_COMMENT_MAX_LENGTH",inside:q,props:{}}}g["default"]=a}),226);
__d("cometUFIComposerCommentCharacterLimitPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerCommentCharacterLimitPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerEmojiPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerEmojiPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerEmojiPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerEmojiPlugin_pluginData.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"cometUFIComposerEmojiPlugin_pluginData"};e.exports=a}),null);
__d("cometUFIComposerEmojiPlugin",["CometRelay","CometUFIComposerEmojiPluginInner.react","CometUFIInsertEmojiComposerActionForLexical.react","cometUFIComposerEmojiPlugin_plugin.graphql","cometUFIComposerEmojiPlugin_pluginData.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("cometUFIComposerEmojiPlugin_plugin.graphql");function a(a){a=a.fragmentKey;a=d("CometRelay").readInlineData(i!==void 0?i:i=b("cometUFIComposerEmojiPlugin_pluginData.graphql"),a);a={size:(a=a.emoji_size)!=null?a:16};return{above:null,action:function(){return c("CometUFIInsertEmojiComposerActionForLexical.react")},below:c("CometUFIComposerEmojiPluginInner.react"),id:"emoji",inside:null,props:a}}g["default"]=a}),98);
__d("cometUFIComposerEmojiPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerEmojiPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerEmoticonPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerEmoticonPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerEmoticonPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerEmoticonPlugin_pluginData.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"cometUFIComposerEmoticonPlugin_pluginData"};e.exports=a}),null);
__d("cometUFIComposerEmoticonPlugin",["CometRelay","CometUFIEmoticonsComposerPluginInner.react","cometUFIComposerEmoticonPlugin_plugin.graphql","cometUFIComposerEmoticonPlugin_pluginData.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("cometUFIComposerEmoticonPlugin_plugin.graphql");function a(a){a=a.fragmentKey;a=d("CometRelay").readInlineData(i!==void 0?i:i=b("cometUFIComposerEmoticonPlugin_pluginData.graphql"),a);return{above:null,action:null,below:c("CometUFIEmoticonsComposerPluginInner.react"),id:"emoticons",inside:null,props:{size:(a=a.emoji_size)!=null?a:16}}}g["default"]=a}),98);
__d("cometUFIComposerEmoticonPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerEmoticonPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerHashtagPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerHashtagPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerHashtagPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerHashtagPlugin",["CometUFIHashtagComposerPluginInner.react","cometUFIComposerHashtagPlugin_plugin.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("cometUFIComposerHashtagPlugin_plugin.graphql");function a(a){return{above:null,action:null,below:c("CometUFIHashtagComposerPluginInner.react"),id:"hashtag",inside:null,props:{}}}g["default"]=a}),98);
__d("cometUFIComposerHashtagPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerHashtagPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerMentionsPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerMentionsPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerMentionsPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerMentionsPlugin_pluginData.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"cometUFIComposerMentionsPlugin_pluginData"};e.exports=a}),null);
__d("cometUFIComposerMentionsPlugin",["CometRelay","cometUFIComposerMentionsPlugin_plugin.graphql","cometUFIComposerMentionsPlugin_pluginData.graphql","react","react-compiler-runtime","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("requireDeferred")("createUpgradedUFI2MentionsComposerPluginForLexical").__setRef("cometUFIComposerMentionsPlugin");h!==void 0?h:h=b("cometUFIComposerMentionsPlugin_plugin.graphql");function m(a){var b=d("react-compiler-runtime").c(4),e=a.pluginProps,f=a.config;a=a.upgradedPluginDeferred_FOR_DRAFTJS_AND_OUTLINE;a=c("useDeferredModuleOnReady")(a);if(a==null)return null;else{var g;b[0]!==a||b[1]!==f||b[2]!==e?(g=k.jsx(a,{config:f,pluginProps:e}),b[0]=a,b[1]=f,b[2]=e,b[3]=g):g=b[3];return g}}function a(a){a=a.fragmentKey;a=d("CometRelay").readInlineData(i!==void 0?i:i=b("cometUFIComposerMentionsPlugin_pluginData.graphql"),a);var c=a.context_id;a=a.post_id;return{above:null,action:null,below:m,id:"mentions",inside:null,props:{config:{contextID:c,groupID:null,postID:a},upgradedPluginDeferred_FOR_DRAFTJS_AND_OUTLINE:l}}}g["default"]=a}),98);
__d("cometUFIComposerMentionsPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerMentionsPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerPrefillMentionPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerPrefillMentionPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerPrefillMentionPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerPrefillMentionPlugin",["CometUFIComposerPrefillMentionPluginUtils","cometUFIComposerPrefillMentionPlugin_plugin.graphql","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useLayoutEffect,k=c("requireDeferred")("UFIODSLogger").__setRef("cometUFIComposerPrefillMentionPlugin");h!==void 0?h:h=b("cometUFIComposerPrefillMentionPlugin_plugin.graphql");function l(a){var b=d("react-compiler-runtime").c(7);a=a.pluginProps;var c=a.addCommandListener,e=a.editor;a=a.setComposerState;var f;b[0]!==c||b[1]!==e?(f=function(){c(function(a){if(a.__type==="PrefillMention"){k.onReady(m);e.update(function(){d("CometUFIComposerPrefillMentionPluginUtils").$addMentionIfEditorIsEmptyAndDoesNotHaveMention(e,a.mentionableEntity)});return"handled"}return"not-handled"})},b[0]=c,b[1]=e,b[2]=f):f=b[2];var g;b[3]!==c||b[4]!==e||b[5]!==a?(g=[c,e,a],b[3]=c,b[4]=e,b[5]=a,b[6]=g):g=b[6];j(f,g);return null}function m(a){a.bump("prefill_mention_plugin.prefill_requested.with_implementation","relay")}function a(a){return{above:null,action:null,below:l,id:"prefill_mentions",inside:null,props:Object.freeze({})}}g["default"]=a}),98);
__d("cometUFIComposerPrefillMentionPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerPrefillMentionPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerSetReplyClickedPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerSetReplyClickedPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerSetReplyClickedPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerSetReplyClickedPlugin",["cometUFIComposerSetReplyClickedPlugin_plugin.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useLayoutEffect;h!==void 0?h:h=b("cometUFIComposerSetReplyClickedPlugin_plugin.graphql");function k(a){var b=d("react-compiler-runtime").c(4);a=a.pluginProps;var c=a.addCommandListener,e=a.setComposerState,f;b[0]!==c||b[1]!==e?(a=function(){c(function(a){if(a.__type==="SetReplyClicked"){e(l);return"handled"}return"not-handled"})},f=[c,e],b[0]=c,b[1]=e,b[2]=a,b[3]=f):(a=b[2],f=b[3]);j(a,f);return null}function l(){return{replyTargetClicked:!0}}function a(a){return{above:null,action:null,below:k,id:"set_reply_clicked",inside:null,props:{}}}g["default"]=a}),98);
__d("cometUFIComposerSetReplyClickedPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerSetReplyClickedPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerStateSnapshotPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerStateSnapshotPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerStateSnapshotPlugin",abstractKey:null};e.exports=a}),null);
__d("getComposerStateSnapshotterForLexical",["CometLruCache","memoizeWithArgsWeak"],(function(a,b,c,d,e,f,g){"use strict";var h=d("CometLruCache").create(20);function i(a,b){return JSON.stringify({commentID:b!=null?b:"",feedbackID:a})}function a(a,b){var c=i(a,b);return{clear:function(){h["delete"](c)},get:function(){return h.get(c)},set:function(a){h.set(c,a)}}}b=c("memoizeWithArgsWeak")(a);g["default"]=b}),98);
__d("useFocusedStoryDialogLaunchHandlers",["CometFocusedStoryDialogLauncherContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext;function a(){var a=d("react-compiler-runtime").c(7),b=i(c("CometFocusedStoryDialogLauncherContext")),e=b.onDialogCloseHandlers,f=b.onDialogOpenHandlers;a[0]!==f?(b=function(a){f.current.add(a);return{dispose:function(){f.current["delete"](a)}}},a[0]=f,a[1]=b):b=a[1];b=b;var g;a[2]!==e?(g=function(a){e.current.add(a);return{dispose:function(){e.current["delete"](a)}}},a[2]=e,a[3]=g):g=a[3];g=g;var h;a[4]!==g||a[5]!==b?(h=[b,g],a[4]=g,a[5]=b,a[6]=h):h=a[6];return h}g["default"]=a}),98);
__d("cometUFIComposerStateSnapshotPlugin",["FBLogger","cometUFIComposerStateSnapshotPlugin_plugin.graphql","getComposerStateSnapshotterForLexical","react","react-compiler-runtime","useFocusedStoryDialogLaunchHandlers"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useCallback;var j=e.useEffect,k=e.useRef;h!==void 0?h:h=b("cometUFIComposerStateSnapshotPlugin_plugin.graphql");function l(a){var b=d("react-compiler-runtime").c(32);a=a.pluginProps;var e=a.addCommandListener,f=a.addCommitListener,g=a.composerState,h=a.editor,i=a.setComposerState;a=g.commentID;var l=g.feedbackID;a=a!=null?a:null;var m;b[0]!==l||b[1]!==a?(m=c("getComposerStateSnapshotterForLexical")(l,a),b[0]=l,b[1]=a,b[2]=m):m=b[2];var n=m,o=k(!1),p=k(!1),q=k(null);if(b[3]!==h){l=h.getEditorState();a=k;m=l.isEmpty()?null:l;b[3]=h;b[4]=a;b[5]=m}else a=b[4],m=b[5];var r=a(m);l=c("useFocusedStoryDialogLaunchHandlers")();var s=l[0],t=l[1];b[6]!==h||b[7]!==i||b[8]!==n?(a=function(){var a=n.get();if(a!=null){var b=a.state;b.editor;var d=babelHelpers.objectWithoutPropertiesLoose(b,["editor"]);b=a.editorState;if(b.isEmpty()){c("FBLogger")("UFILexicalComposer").mustfix("Snapshot plugin attempted to restore an empty Outline EditorState");return}i(function(){return d});h.setEditorState(a.editorState)}},b[6]=h,b[7]=i,b[8]=n,b[9]=a):a=b[9];var u=a;b[10]!==g||b[11]!==h||b[12]!==n?(m=function(a){a=a===void 0?!1:a;var b=r.current;b!==null&&(h.getRootElement()==null||a)&&!p.current&&n.set({editorState:b,state:g})},b[10]=g,b[11]=h,b[12]=n,b[13]=m):m=b[13];var v=m;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(l=function(){p.current=!0,window.clearTimeout(q.current),q.current=window.setTimeout(function(){p.current=!1},0)},b[14]=l):l=b[14];var w=l;b[15]!==u||b[16]!==v||b[17]!==t||b[18]!==s?(a=function(){o.current||(u(),o.current=!0);var a=s(function(){return v(!0)}),b=t(u);return function(){v(),a==null?void 0:a.dispose(),b==null?void 0:b.dispose()}},m=[u,v,t,s],b[15]=u,b[16]=v,b[17]=t,b[18]=s,b[19]=m,b[20]=a):(m=b[19],a=b[20]);j(a,m);b[21]!==h?(l=function(){return h.registerUpdateListener(function(a){a=a.editorState;h.getRootElement()!==null&&!a.isEmpty()&&(r.current=a)})},a=[h],b[21]=h,b[22]=l,b[23]=a):(l=b[22],a=b[23]);j(l,a);b[24]!==f||b[25]!==n?(m=function(){return f(function(){w();n.clear();return"continue-commit"})},l=[n,f,w],b[24]=f,b[25]=n,b[26]=m,b[27]=l):(m=b[26],l=b[27]);j(m,l);b[28]!==e||b[29]!==n?(a=function(){return e(function(a){if(a.__type==="BeforeFinishEdit"){w();n.clear();return"handled"}return"not-handled"})},m=[e,w,n],b[28]=e,b[29]=n,b[30]=a,b[31]=m):(a=b[30],m=b[31]);j(a,m);return null}function a(a){return{above:null,action:null,below:l,id:"statesnapshot",inside:null,props:Object.freeze({})}}g["default"]=a}),98);
__d("cometUFIComposerStateSnapshotPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerStateSnapshotPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("cometUFIComposerWriteToComposerPlugin_plugin.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"cometUFIComposerWriteToComposerPlugin_plugin",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CommentComposerWriteToComposerPlugin",abstractKey:null};e.exports=a}),null);
__d("cometUFIComposerWriteToComposerPlugin",["CometUFIWriteToComposerPluginInner","cometUFIComposerWriteToComposerPlugin_plugin.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("cometUFIComposerWriteToComposerPlugin_plugin.graphql");function a(a){return{above:null,action:null,below:null,id:"write_to_composer",inside:c("CometUFIWriteToComposerPluginInner"),props:{}}}g["default"]=a}),98);
__d("cometUFIComposerWriteToComposerPlugin_plugin$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"cometUFIComposerWriteToComposerPlugin_plugin$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("getCometUFICommentsPagerLabel",["fbt","CometUFIPagerLabelType","intlNumUtils"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.isCommunityQA,e=a.labelType;a=a.numCommentsToShow;switch(e){case c("CometUFIPagerLabelType").VIEW_ONE:return h._(/*BTDS*/{"answer":"View 1 answer","comment":"View 1 comment"},[h._enum(b===!0?"answer":"comment",{answer:"answer",comment:"comment"})]);case c("CometUFIPagerLabelType").VIEW_MORE:return h._(/*BTDS*/{"answers":"View more answers","comments":"View more comments"},[h._enum(b===!0?"answers":"comments",{answers:"answers",comments:"comments"})]);case c("CometUFIPagerLabelType").VIEW_ONE_MORE:return h._(/*BTDS*/{"answer":"View 1 more answer","comment":"View 1 more comment"},[h._enum(b===!0?"answer":"comment",{answer:"answer",comment:"comment"})]);case c("CometUFIPagerLabelType").VIEW_MORE_EXPLICIT:return h._(/*BTDS*/{"*":{"answer":"View {count} more answer","answers":"View {count} more answers","comment":"View {count} more comment","comments":"View {count} more comments"}},[h._param("count",d("intlNumUtils").formatNumberWithThousandDelimiters(a),[0,a]),h._enum(b===!0?a===1?"answer":"answers":a===1?"comment":"comments",{answer:"answer",answers:"answers",comment:"comment",comments:"comments"})]);case c("CometUFIPagerLabelType").VIEW_PREVIOUS:return h._(/*BTDS*/{"answers":"View previous answers","comments":"View previous comments"},[h._enum(b===!0?"answers":"comments",{answers:"answers",comments:"comments"})]);case c("CometUFIPagerLabelType").VIEW_PREVIOUS_EXPLICIT:return h._(/*BTDS*/{"*":{"answer":"View {count} previous answer","answers":"View {count} previous answers","comment":"View {count} previous comment","comments":"View {count} previous comments"}},[h._param("count",d("intlNumUtils").formatNumberWithThousandDelimiters(a),[0,a]),h._enum(b===!0?a===1?"answer":"answers":a===1?"comment":"comments",{answer:"answer",answers:"answers",comment:"comment",comments:"comments"})]);default:return h._(/*BTDS*/{"answers":"View answers","comments":"View comments"},[h._enum(b===!0?"answers":"comments",{answers:"answers",comments:"comments"})])}}g["default"]=a}),226);
__d("getCometUFIPagerLabelType",["CometUFIPagerLabelType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.depth,d=a.hasLastPageLeftInDirection;d=d===void 0?!1:d;var e=a.isBottomPager,f=a.pagerCount,g=a.pageSize;g=g===void 0?0:g;var h=a.shouldShowReplyCount;h=h===void 0?!0:h;var i=a.totalCommentsCount;a=a.visibleCommentsCount;if(!h)return c("CometUFIPagerLabelType").VIEW_COMMENTS_INDETERMINATE;if(a===0){if(f===1&&i===1)return c("CometUFIPagerLabelType").VIEW_ONE;if(b>0)return c("CometUFIPagerLabelType").VIEW_ALL;else return c("CometUFIPagerLabelType").VIEW_COMMENTS_INDETERMINATE}else if(d&&f<=g)if(f===1)return c("CometUFIPagerLabelType").VIEW_ONE_MORE;else if(f>0)return e?c("CometUFIPagerLabelType").VIEW_MORE_EXPLICIT:c("CometUFIPagerLabelType").VIEW_PREVIOUS_EXPLICIT;if(e)return c("CometUFIPagerLabelType").VIEW_MORE;else return c("CometUFIPagerLabelType").VIEW_PREVIOUS}g["default"]=a}),98);
__d("getCometUFIRepliesPagerLabel",["fbt","CometUFIPagerLabelType","intlNumUtils"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.labelType,e=a.numCommentsToShow;a=a.numCommentsTotal;switch(b){case c("CometUFIPagerLabelType").VIEW_ONE:return h._(/*BTDS*/"View 1 reply");case c("CometUFIPagerLabelType").VIEW_MORE:return h._(/*BTDS*/"View more replies");case c("CometUFIPagerLabelType").VIEW_ONE_MORE:return h._(/*BTDS*/"View 1 more reply");case c("CometUFIPagerLabelType").VIEW_MORE_EXPLICIT:return h._(/*BTDS*/{"*":{"*":"View {count} more replies","_1":"View {count} more reply"}},[h._param("count",d("intlNumUtils").formatNumberWithThousandDelimiters(e),[0,e]),h._plural(e)]);case c("CometUFIPagerLabelType").VIEW_PREVIOUS:return h._(/*BTDS*/"View previous replies");case c("CometUFIPagerLabelType").VIEW_PREVIOUS_EXPLICIT:return h._(/*BTDS*/{"*":{"*":"View {count} previous replies","_1":"View {count} previous reply"}},[h._param("count",d("intlNumUtils").formatNumberWithThousandDelimiters(e),[0,e]),h._plural(e)]);case c("CometUFIPagerLabelType").VIEW_COMMENTS_INDETERMINATE:return h._(/*BTDS*/"View replies");case c("CometUFIPagerLabelType").VIEW_ALL:return h._(/*BTDS*/{"*":"View all {count} replies"},[h._param("count",d("intlNumUtils").formatNumberWithThousandDelimiters(a),[0,a])])}}g["default"]=a}),226);
__d("unfinishedCommentTracking",[],(function(a,b,c,d,e,f){"use strict";var g={base:new Map(),dialog:new Map()},h=!1;function i(){return g[h?"dialog":"base"]}function a(){return Boolean(Array.from(i()).find(function(a){a[0];a=a[1];return Boolean(Array.from(a).find(function(a){return a()===!0}))}))}function b(a,b){if(h){var c=g.base.get(a);if(c!=null&&c.size>0)return}c=(c=i().get(a))!=null?c:new Set();c.add(b);i().set(a,c)}function c(a,b){var c=i().get(a);c!=null&&(c["delete"](b),c.size===0&&i()["delete"](a))}function j(a){h=a,h||(g.dialog.forEach(function(a){return a.clear()}),g.dialog.clear())}function d(){return h}function e(){j(!1),[g.base,g.dialog].forEach(function(a){a.clear()})}b={addCheck:b,getDialogActive:d,hasAnyUnfinishedComments:a,removeCheck:c,reset:e,setDialogActive:j};f["default"]=b}),66);